var LI=Object.defineProperty;var UI=(t,e,n)=>e in t?LI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var wp=(t,e,n)=>UI(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();var FF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ap={exports:{}},tc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J1;function VI(){if(J1)return tc;J1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var f in a)f!=="key"&&(o[f]=a[f])}else o=a;return a=o.ref,{$$typeof:t,type:r,key:u,ref:a!==void 0?a:null,props:o}}return tc.Fragment=e,tc.jsx=n,tc.jsxs=n,tc}var eb;function jI(){return eb||(eb=1,Ap.exports=VI()),Ap.exports}var I=jI(),Rp={exports:{}},Ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tb;function zI(){if(tb)return Ke;tb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function E(V){return V===null||typeof V!="object"?null:(V=_&&V[_]||V["@@iterator"],typeof V=="function"?V:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,M={};function P(V,ie,de){this.props=V,this.context=ie,this.refs=M,this.updater=de||T}P.prototype.isReactComponent={},P.prototype.setState=function(V,ie){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ie,"setState")},P.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function j(){}j.prototype=P.prototype;function G(V,ie,de){this.props=V,this.context=ie,this.refs=M,this.updater=de||T}var Y=G.prototype=new j;Y.constructor=G,A(Y,P.prototype),Y.isPureReactComponent=!0;var re=Array.isArray,te={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function D(V,ie,de,ue,be,Be){return de=Be.ref,{$$typeof:t,type:V,key:ie,ref:de!==void 0?de:null,props:Be}}function x(V,ie){return D(V.type,ie,void 0,void 0,void 0,V.props)}function C(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function N(V){var ie={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(de){return ie[de]})}var U=/\/+/g;function H(V,ie){return typeof V=="object"&&V!==null&&V.key!=null?N(""+V.key):ie.toString(36)}function k(){}function Re(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(k,k):(V.status="pending",V.then(function(ie){V.status==="pending"&&(V.status="fulfilled",V.value=ie)},function(ie){V.status==="pending"&&(V.status="rejected",V.reason=ie)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Fe(V,ie,de,ue,be){var Be=typeof V;(Be==="undefined"||Be==="boolean")&&(V=null);var Oe=!1;if(V===null)Oe=!0;else switch(Be){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(V.$$typeof){case t:case e:Oe=!0;break;case y:return Oe=V._init,Fe(Oe(V._payload),ie,de,ue,be)}}if(Oe)return be=be(V),Oe=ue===""?"."+H(V,0):ue,re(be)?(de="",Oe!=null&&(de=Oe.replace(U,"$&/")+"/"),Fe(be,ie,de,"",function(hr){return hr})):be!=null&&(C(be)&&(be=x(be,de+(be.key==null||V&&V.key===be.key?"":(""+be.key).replace(U,"$&/")+"/")+Oe)),ie.push(be)),1;Oe=0;var Gt=ue===""?".":ue+":";if(re(V))for(var bt=0;bt<V.length;bt++)ue=V[bt],Be=Gt+H(ue,bt),Oe+=Fe(ue,ie,de,Be,be);else if(bt=E(V),typeof bt=="function")for(V=bt.call(V),bt=0;!(ue=V.next()).done;)ue=ue.value,Be=Gt+H(ue,bt++),Oe+=Fe(ue,ie,de,Be,be);else if(Be==="object"){if(typeof V.then=="function")return Fe(Re(V),ie,de,ue,be);throw ie=String(V),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function W(V,ie,de){if(V==null)return V;var ue=[],be=0;return Fe(V,ue,"","",function(Be){return ie.call(de,Be,be++)}),ue}function fe(V){if(V._status===-1){var ie=V._result;ie=ie(),ie.then(function(de){(V._status===0||V._status===-1)&&(V._status=1,V._result=de)},function(de){(V._status===0||V._status===-1)&&(V._status=2,V._result=de)}),V._status===-1&&(V._status=0,V._result=ie)}if(V._status===1)return V._result.default;throw V._result}var ye=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Ne(){}return Ke.Children={map:W,forEach:function(V,ie,de){W(V,function(){ie.apply(this,arguments)},de)},count:function(V){var ie=0;return W(V,function(){ie++}),ie},toArray:function(V){return W(V,function(ie){return ie})||[]},only:function(V){if(!C(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ke.Component=P,Ke.Fragment=n,Ke.Profiler=a,Ke.PureComponent=G,Ke.StrictMode=r,Ke.Suspense=d,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(V){return te.H.useMemoCache(V)}},Ke.cache=function(V){return function(){return V.apply(null,arguments)}},Ke.cloneElement=function(V,ie,de){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ue=A({},V.props),be=V.key,Be=void 0;if(ie!=null)for(Oe in ie.ref!==void 0&&(Be=void 0),ie.key!==void 0&&(be=""+ie.key),ie)!F.call(ie,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&ie.ref===void 0||(ue[Oe]=ie[Oe]);var Oe=arguments.length-2;if(Oe===1)ue.children=de;else if(1<Oe){for(var Gt=Array(Oe),bt=0;bt<Oe;bt++)Gt[bt]=arguments[bt+2];ue.children=Gt}return D(V.type,be,void 0,void 0,Be,ue)},Ke.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:o,_context:V},V},Ke.createElement=function(V,ie,de){var ue,be={},Be=null;if(ie!=null)for(ue in ie.key!==void 0&&(Be=""+ie.key),ie)F.call(ie,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(be[ue]=ie[ue]);var Oe=arguments.length-2;if(Oe===1)be.children=de;else if(1<Oe){for(var Gt=Array(Oe),bt=0;bt<Oe;bt++)Gt[bt]=arguments[bt+2];be.children=Gt}if(V&&V.defaultProps)for(ue in Oe=V.defaultProps,Oe)be[ue]===void 0&&(be[ue]=Oe[ue]);return D(V,Be,void 0,void 0,null,be)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(V){return{$$typeof:f,render:V}},Ke.isValidElement=C,Ke.lazy=function(V){return{$$typeof:y,_payload:{_status:-1,_result:V},_init:fe}},Ke.memo=function(V,ie){return{$$typeof:g,type:V,compare:ie===void 0?null:ie}},Ke.startTransition=function(V){var ie=te.T,de={};te.T=de;try{var ue=V(),be=te.S;be!==null&&be(de,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Ne,ye)}catch(Be){ye(Be)}finally{te.T=ie}},Ke.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},Ke.use=function(V){return te.H.use(V)},Ke.useActionState=function(V,ie,de){return te.H.useActionState(V,ie,de)},Ke.useCallback=function(V,ie){return te.H.useCallback(V,ie)},Ke.useContext=function(V){return te.H.useContext(V)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(V,ie){return te.H.useDeferredValue(V,ie)},Ke.useEffect=function(V,ie,de){var ue=te.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ue.useEffect(V,ie)},Ke.useId=function(){return te.H.useId()},Ke.useImperativeHandle=function(V,ie,de){return te.H.useImperativeHandle(V,ie,de)},Ke.useInsertionEffect=function(V,ie){return te.H.useInsertionEffect(V,ie)},Ke.useLayoutEffect=function(V,ie){return te.H.useLayoutEffect(V,ie)},Ke.useMemo=function(V,ie){return te.H.useMemo(V,ie)},Ke.useOptimistic=function(V,ie){return te.H.useOptimistic(V,ie)},Ke.useReducer=function(V,ie,de){return te.H.useReducer(V,ie,de)},Ke.useRef=function(V){return te.H.useRef(V)},Ke.useState=function(V){return te.H.useState(V)},Ke.useSyncExternalStore=function(V,ie,de){return te.H.useSyncExternalStore(V,ie,de)},Ke.useTransition=function(){return te.H.useTransition()},Ke.version="19.1.0",Ke}var nb;function Gd(){return nb||(nb=1,Rp.exports=zI()),Rp.exports}var O=Gd();const kw=Pw(O);var Cp={exports:{}},nc={},xp={exports:{}},Ip={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rb;function FI(){return rb||(rb=1,function(t){function e(W,fe){var ye=W.length;W.push(fe);e:for(;0<ye;){var Ne=ye-1>>>1,V=W[Ne];if(0<a(V,fe))W[Ne]=fe,W[ye]=V,ye=Ne;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var fe=W[0],ye=W.pop();if(ye!==fe){W[0]=ye;e:for(var Ne=0,V=W.length,ie=V>>>1;Ne<ie;){var de=2*(Ne+1)-1,ue=W[de],be=de+1,Be=W[be];if(0>a(ue,ye))be<V&&0>a(Be,ue)?(W[Ne]=Be,W[be]=ye,Ne=be):(W[Ne]=ue,W[de]=ye,Ne=de);else if(be<V&&0>a(Be,ye))W[Ne]=Be,W[be]=ye,Ne=be;else break e}}return fe}function a(W,fe){var ye=W.sortIndex-fe.sortIndex;return ye!==0?ye:W.id-fe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var d=[],g=[],y=1,_=null,E=3,T=!1,A=!1,M=!1,P=!1,j=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function re(W){for(var fe=n(g);fe!==null;){if(fe.callback===null)r(g);else if(fe.startTime<=W)r(g),fe.sortIndex=fe.expirationTime,e(d,fe);else break;fe=n(g)}}function te(W){if(M=!1,re(W),!A)if(n(d)!==null)A=!0,F||(F=!0,H());else{var fe=n(g);fe!==null&&Fe(te,fe.startTime-W)}}var F=!1,D=-1,x=5,C=-1;function N(){return P?!0:!(t.unstable_now()-C<x)}function U(){if(P=!1,F){var W=t.unstable_now();C=W;var fe=!0;try{e:{A=!1,M&&(M=!1,G(D),D=-1),T=!0;var ye=E;try{t:{for(re(W),_=n(d);_!==null&&!(_.expirationTime>W&&N());){var Ne=_.callback;if(typeof Ne=="function"){_.callback=null,E=_.priorityLevel;var V=Ne(_.expirationTime<=W);if(W=t.unstable_now(),typeof V=="function"){_.callback=V,re(W),fe=!0;break t}_===n(d)&&r(d),re(W)}else r(d);_=n(d)}if(_!==null)fe=!0;else{var ie=n(g);ie!==null&&Fe(te,ie.startTime-W),fe=!1}}break e}finally{_=null,E=ye,T=!1}fe=void 0}}finally{fe?H():F=!1}}}var H;if(typeof Y=="function")H=function(){Y(U)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Re=k.port2;k.port1.onmessage=U,H=function(){Re.postMessage(null)}}else H=function(){j(U,0)};function Fe(W,fe){D=j(function(){W(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(W){switch(E){case 1:case 2:case 3:var fe=3;break;default:fe=E}var ye=E;E=fe;try{return W()}finally{E=ye}},t.unstable_requestPaint=function(){P=!0},t.unstable_runWithPriority=function(W,fe){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ye=E;E=W;try{return fe()}finally{E=ye}},t.unstable_scheduleCallback=function(W,fe,ye){var Ne=t.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Ne+ye:Ne):ye=Ne,W){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ye+V,W={id:y++,callback:fe,priorityLevel:W,startTime:ye,expirationTime:V,sortIndex:-1},ye>Ne?(W.sortIndex=ye,e(g,W),n(d)===null&&W===n(g)&&(M?(G(D),D=-1):M=!0,Fe(te,ye-Ne))):(W.sortIndex=V,e(d,W),A||T||(A=!0,F||(F=!0,H()))),W},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(W){var fe=E;return function(){var ye=E;E=fe;try{return W.apply(this,arguments)}finally{E=ye}}}}(Ip)),Ip}var ib;function BI(){return ib||(ib=1,xp.exports=FI()),xp.exports}var Op={exports:{}},In={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ab;function HI(){if(ab)return In;ab=1;var t=Gd();function e(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,g,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:d,containerInfo:g,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return In.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,In.createPortal=function(d,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return o(d,g,null,y)},In.flushSync=function(d){var g=u.T,y=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=g,r.p=y,r.d.f()}},In.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(d,g))},In.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},In.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var y=g.as,_=f(y,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,T=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?r.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:T}):y==="script"&&r.d.X(d,{crossOrigin:_,integrity:E,fetchPriority:T,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},In.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=f(g.as,g.crossOrigin);r.d.M(d,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(d)},In.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,_=f(y,g.crossOrigin);r.d.L(d,y,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},In.preloadModule=function(d,g){if(typeof d=="string")if(g){var y=f(g.as,g.crossOrigin);r.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(d)},In.requestFormReset=function(d){r.d.r(d)},In.unstable_batchedUpdates=function(d,g){return d(g)},In.useFormState=function(d,g,y){return u.H.useFormState(d,g,y)},In.useFormStatus=function(){return u.H.useHostTransitionStatus()},In.version="19.1.0",In}var sb;function Mw(){if(sb)return Op.exports;sb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Op.exports=HI(),Op.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ob;function qI(){if(ob)return nc;ob=1;var t=BI(),e=Gd(),n=Mw();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function d(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,c=s;;){var m=l.return;if(m===null)break;var p=m.alternate;if(p===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===l)return f(m),i;if(p===c)return f(m),s;p=p.sibling}throw Error(r(188))}if(l.return!==c.return)l=m,c=p;else{for(var S=!1,w=m.child;w;){if(w===l){S=!0,l=m,c=p;break}if(w===c){S=!0,c=m,l=p;break}w=w.sibling}if(!S){for(w=p.child;w;){if(w===l){S=!0,l=p,c=m;break}if(w===c){S=!0,c=p,l=m;break}w=w.sibling}if(!S)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function g(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=g(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var k=Symbol.for("react.client.reference");function Re(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===k?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case A:return"Fragment";case P:return"Profiler";case M:return"StrictMode";case te:return"Suspense";case F:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case T:return"Portal";case Y:return(i.displayName||"Context")+".Provider";case G:return(i._context.displayName||"Context")+".Consumer";case re:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return s=i.displayName||null,s!==null?s:Re(i.type)||"Memo";case x:s=i._payload,i=i._init;try{return Re(i(s))}catch{}}return null}var Fe=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Ne=[],V=-1;function ie(i){return{current:i}}function de(i){0>V||(i.current=Ne[V],Ne[V]=null,V--)}function ue(i,s){V++,Ne[V]=i.current,i.current=s}var be=ie(null),Be=ie(null),Oe=ie(null),Gt=ie(null);function bt(i,s){switch(ue(Oe,s),ue(Be,i),ue(be,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?C1(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=C1(s),i=x1(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}de(be),ue(be,i)}function hr(){de(be),de(Be),de(Oe)}function Ot(i){i.memoizedState!==null&&ue(Gt,i);var s=be.current,l=x1(s,i.type);s!==l&&(ue(Be,i),ue(be,l))}function An(i){Be.current===i&&(de(be),de(Be)),Gt.current===i&&(de(Gt),Xu._currentValue=ye)}var Qr=Object.prototype.hasOwnProperty,xi=t.unstable_scheduleCallback,Mn=t.unstable_cancelCallback,Cs=t.unstable_shouldYield,Oo=t.unstable_requestPaint,Ln=t.unstable_now,ru=t.unstable_getCurrentPriorityLevel,xs=t.unstable_ImmediatePriority,va=t.unstable_UserBlockingPriority,Ii=t.unstable_NormalPriority,Pr=t.unstable_LowPriority,dr=t.unstable_IdlePriority,_a=t.log,Ea=t.unstable_setDisableYieldValue,mt=null,Ye=null;function Rn(i){if(typeof _a=="function"&&Ea(i),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(mt,i)}catch{}}var Kt=Math.clz32?Math.clz32:Xr,Do=Math.log,mr=Math.LN2;function Xr(i){return i>>>=0,i===0?32:31-(Do(i)/mr|0)|0}var Wr=256,Zr=4194304;function Qn(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Oi(i,s,l){var c=i.pendingLanes;if(c===0)return 0;var m=0,p=i.suspendedLanes,S=i.pingedLanes;i=i.warmLanes;var w=c&134217727;return w!==0?(c=w&~p,c!==0?m=Qn(c):(S&=w,S!==0?m=Qn(S):l||(l=w&~i,l!==0&&(m=Qn(l))))):(w=c&~p,w!==0?m=Qn(w):S!==0?m=Qn(S):l||(l=c&~i,l!==0&&(m=Qn(l)))),m===0?0:s!==0&&s!==m&&(s&p)===0&&(p=m&-m,l=s&-s,p>=l||p===32&&(l&4194048)!==0)?s:m}function gr(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function ba(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Di(){var i=Wr;return Wr<<=1,(Wr&4194048)===0&&(Wr=256),i}function Is(){var i=Zr;return Zr<<=1,(Zr&62914560)===0&&(Zr=4194304),i}function pr(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function kr(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Sa(i,s,l,c,m,p){var S=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var w=i.entanglements,L=i.expirationTimes,Z=i.hiddenUpdates;for(l=S&~l;0<l;){var ae=31-Kt(l),le=1<<ae;w[ae]=0,L[ae]=-1;var J=Z[ae];if(J!==null)for(Z[ae]=null,ae=0;ae<J.length;ae++){var ee=J[ae];ee!==null&&(ee.lane&=-536870913)}l&=~le}c!==0&&Un(i,c,0),p!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=p&~(S&~s))}function Un(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-Kt(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|l&4194090}function Jr(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var c=31-Kt(l),m=1<<c;m&s|i[c]&s&&(i[c]|=s),l&=~m}}function ei(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ta(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function z(){var i=fe.p;return i!==0?i:(i=window.event,i===void 0?32:K1(i.type))}function $(i,s){var l=fe.p;try{return fe.p=i,s()}finally{fe.p=l}}var X=Math.random().toString(36).slice(2),oe="__reactFiber$"+X,me="__reactProps$"+X,ve="__reactContainer$"+X,De="__reactEvents$"+X,Ee="__reactListeners$"+X,Te="__reactHandles$"+X,Ce="__reactResources$"+X,ke="__reactMarker$"+X;function we(i){delete i[oe],delete i[me],delete i[De],delete i[Ee],delete i[Te]}function Le(i){var s=i[oe];if(s)return s;for(var l=i.parentNode;l;){if(s=l[ve]||l[oe]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=N1(i);i!==null;){if(l=i[oe])return l;i=N1(i)}return s}i=l,l=i.parentNode}return null}function et(i){if(i=i[oe]||i[ve]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function pt(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function ht(i){var s=i[Ce];return s||(s=i[Ce]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ot(i){i[ke]=!0}var We=new Set,yr={};function Jt(i,s){Vn(i,s),Vn(i+"Capture",s)}function Vn(i,s){for(yr[i]=s,i=0;i<s.length;i++)We.add(s[i])}var mn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ti={},Xn={};function wa(i){return Qr.call(Xn,i)?!0:Qr.call(ti,i)?!1:mn.test(i)?Xn[i]=!0:(ti[i]=!0,!1)}function Cn(i,s,l){if(wa(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function jn(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function He(i,s,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+c)}}var Yt,Wn;function Bn(i){if(Yt===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Yt=s&&s[1]||"",Wn=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yt+i+Wn}var ni=!1;function Rt(i,s){if(!i||ni)return"";ni=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(ee){var J=ee}Reflect.construct(i,[],le)}else{try{le.call()}catch(ee){J=ee}i.call(le.prototype)}}else{try{throw Error()}catch(ee){J=ee}(le=i())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(ee){if(ee&&J&&typeof ee.stack=="string")return[ee.stack,J.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),S=p[0],w=p[1];if(S&&w){var L=S.split(`
`),Z=w.split(`
`);for(m=c=0;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;for(;m<Z.length&&!Z[m].includes("DetermineComponentFrameRoot");)m++;if(c===L.length||m===Z.length)for(c=L.length-1,m=Z.length-1;1<=c&&0<=m&&L[c]!==Z[m];)m--;for(;1<=c&&0<=m;c--,m--)if(L[c]!==Z[m]){if(c!==1||m!==1)do if(c--,m--,0>m||L[c]!==Z[m]){var ae=`
`+L[c].replace(" at new "," at ");return i.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",i.displayName)),ae}while(1<=c&&0<=m);break}}}finally{ni=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Bn(l):""}function vr(i){switch(i.tag){case 26:case 27:case 5:return Bn(i.type);case 16:return Bn("Lazy");case 13:return Bn("Suspense");case 19:return Bn("SuspenseList");case 0:case 15:return Rt(i.type,!1);case 11:return Rt(i.type.render,!1);case 1:return Rt(i.type,!0);case 31:return Bn("Activity");default:return""}}function Ni(i){try{var s="";do s+=vr(i),i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function gn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function iu(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function xm(i){var s=iu(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),c=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,p=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(S){c=""+S,p.call(this,S)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(S){c=""+S},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function No(i){i._valueTracker||(i._valueTracker=xm(i))}function au(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return i&&(c=iu(i)?i.checked?"true":"false":i.value),i=c,i!==l?(s.setValue(i),!0):!1}function Os(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Im=/[\n"\\]/g;function Qt(i){return i.replace(Im,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Zn(i,s,l,c,m,p,S,w){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),s!=null?S==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+gn(s)):i.value!==""+gn(s)&&(i.value=""+gn(s)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),s!=null?Aa(i,S,gn(s)):l!=null?Aa(i,S,gn(l)):c!=null&&i.removeAttribute("value"),m==null&&p!=null&&(i.defaultChecked=!!p),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+gn(w):i.removeAttribute("name")}function Ds(i,s,l,c,m,p,S,w){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),s!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||s!=null))return;l=l!=null?""+gn(l):"",s=s!=null?""+gn(s):l,w||s===i.value||(i.value=s),i.defaultValue=s}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=w?i.checked:!!c,i.defaultChecked=!!c,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S)}function Aa(i,s,l){s==="number"&&Os(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Pi(i,s,l,c){if(i=i.options,s){s={};for(var m=0;m<l.length;m++)s["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=s.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&c&&(i[l].defaultSelected=!0)}else{for(l=""+gn(l),s=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function St(i,s,l){if(s!=null&&(s=""+gn(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+gn(l):""}function Ns(i,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(r(92));if(Fe(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=gn(s),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c)}function _r(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var Ps=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mf(i,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,l):typeof l!="number"||l===0||Ps.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function su(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in s)c=s[m],s.hasOwnProperty(m)&&l[m]!==c&&mf(i,m,c)}else for(var p in s)s.hasOwnProperty(p)&&mf(i,p,s[p])}function ou(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Om=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Po(i){return Dm.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var ki=null;function Er(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Mi=null,Li=null;function lu(i){var s=et(i);if(s&&(i=s.stateNode)){var l=i[me]||null;e:switch(i=s.stateNode,s.type){case"input":if(Zn(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Qt(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==i&&c.form===i.form){var m=c[me]||null;if(!m)throw Error(r(90));Zn(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===i.form&&au(c)}break e;case"textarea":St(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Pi(i,!!l.multiple,s,!1)}}}var ri=!1;function gf(i,s,l){if(ri)return i(s,l);ri=!0;try{var c=i(s);return c}finally{if(ri=!1,(Mi!==null||Li!==null)&&(lh(),Mi&&(s=Mi,i=Li,Li=Mi=null,lu(s),i)))for(s=0;s<i.length;s++)lu(i[s])}}function ks(i,s){var l=i.stateNode;if(l===null)return null;var c=l[me]||null;if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),br=!1;if(Mr)try{var Ms={};Object.defineProperty(Ms,"passive",{get:function(){br=!0}}),window.addEventListener("test",Ms,Ms),window.removeEventListener("test",Ms,Ms)}catch{br=!1}var ii=null,Ra=null,Ui=null;function uu(){if(Ui)return Ui;var i,s=Ra,l=s.length,c,m="value"in ii?ii.value:ii.textContent,p=m.length;for(i=0;i<l&&s[i]===m[i];i++);var S=l-i;for(c=1;c<=S&&s[l-c]===m[p-c];c++);return Ui=m.slice(i,1<c?1-c:void 0)}function ai(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function si(){return!0}function cu(){return!1}function ln(i){function s(l,c,m,p,S){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(l=i[w],this[w]=l?l(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?si:cu,this.isPropagationStopped=cu,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),s}var yt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ko=ln(yt),Ls=y({},yt,{view:0,detail:0}),pf=ln(Ls),Mo,Lo,oi,Us=y({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==oi&&(oi&&i.type==="mousemove"?(Mo=i.screenX-oi.screenX,Lo=i.screenY-oi.screenY):Lo=Mo=0,oi=i),Mo)},movementY:function(i){return"movementY"in i?i.movementY:Lo}}),Sr=ln(Us),yf=y({},Us,{dataTransfer:0}),Nm=ln(yf),Vs=y({},Ls,{relatedTarget:0}),Uo=ln(Vs),fu=y({},yt,{animationName:0,elapsedTime:0,pseudoElement:0}),Vo=ln(fu),vf=y({},yt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),jo=ln(vf),Pm=y({},yt,{data:0}),hu=ln(Pm),js={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_f={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ef={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function du(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Ef[i])?!!s[i]:!1}function zs(){return du}var bf=y({},Ls,{key:function(i){if(i.key){var s=js[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=ai(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?_f[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zs,charCode:function(i){return i.type==="keypress"?ai(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ai(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),zo=ln(bf),Sf=y({},Us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mu=ln(Sf),Vi=y({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zs}),Tf=ln(Vi),wf=y({},yt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Af=ln(wf),Rf=y({},Us,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Fo=ln(Rf),zn=y({},yt,{newState:0,oldState:0}),Cf=ln(zn),xf=[9,13,27,32],li=Mr&&"CompositionEvent"in window,h=null;Mr&&"documentMode"in document&&(h=document.documentMode);var v=Mr&&"TextEvent"in window&&!h,b=Mr&&(!li||h&&8<h&&11>=h),R=" ",K=!1;function ne(i,s){switch(i){case"keyup":return xf.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pe(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var lt=!1;function en(i,s){switch(i){case"compositionend":return pe(s);case"keypress":return s.which!==32?null:(K=!0,R);case"textInput":return i=s.data,i===R&&K?null:i;default:return null}}function ut(i,s){if(lt)return i==="compositionend"||!li&&ne(i,s)?(i=uu(),Ui=Ra=ii=null,lt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return b&&s.locale!=="ko"?null:s.data;default:return null}}var un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tn(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!un[i.type]:s==="textarea"}function ji(i,s,l,c){Mi?Li?Li.push(c):Li=[c]:Mi=c,s=mh(s,"onChange"),0<s.length&&(l=new ko("onChange","change",null,l,c),i.push({event:l,listeners:s}))}var pn=null,ui=null;function gu(i){S1(i,0)}function If(i){var s=pt(i);if(au(s))return i}function H_(i,s){if(i==="change")return s}var q_=!1;if(Mr){var km;if(Mr){var Mm="oninput"in document;if(!Mm){var $_=document.createElement("div");$_.setAttribute("oninput","return;"),Mm=typeof $_.oninput=="function"}km=Mm}else km=!1;q_=km&&(!document.documentMode||9<document.documentMode)}function G_(){pn&&(pn.detachEvent("onpropertychange",K_),ui=pn=null)}function K_(i){if(i.propertyName==="value"&&If(ui)){var s=[];ji(s,ui,i,Er(i)),gf(gu,s)}}function h2(i,s,l){i==="focusin"?(G_(),pn=s,ui=l,pn.attachEvent("onpropertychange",K_)):i==="focusout"&&G_()}function d2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return If(ui)}function m2(i,s){if(i==="click")return If(s)}function g2(i,s){if(i==="input"||i==="change")return If(s)}function p2(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Jn=typeof Object.is=="function"?Object.is:p2;function pu(i,s){if(Jn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!Qr.call(s,m)||!Jn(i[m],s[m]))return!1}return!0}function Y_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Q_(i,s){var l=Y_(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=s&&c>=s)return{node:l,offset:s-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Y_(l)}}function X_(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?X_(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function W_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Os(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Os(i.document)}return s}function Lm(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var y2=Mr&&"documentMode"in document&&11>=document.documentMode,Bo=null,Um=null,yu=null,Vm=!1;function Z_(i,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Vm||Bo==null||Bo!==Os(c)||(c=Bo,"selectionStart"in c&&Lm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),yu&&pu(yu,c)||(yu=c,c=mh(Um,"onSelect"),0<c.length&&(s=new ko("onSelect","select",null,s,l),i.push({event:s,listeners:c}),s.target=Bo)))}function Fs(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var Ho={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionrun:Fs("Transition","TransitionRun"),transitionstart:Fs("Transition","TransitionStart"),transitioncancel:Fs("Transition","TransitionCancel"),transitionend:Fs("Transition","TransitionEnd")},jm={},J_={};Mr&&(J_=document.createElement("div").style,"AnimationEvent"in window||(delete Ho.animationend.animation,delete Ho.animationiteration.animation,delete Ho.animationstart.animation),"TransitionEvent"in window||delete Ho.transitionend.transition);function Bs(i){if(jm[i])return jm[i];if(!Ho[i])return i;var s=Ho[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in J_)return jm[i]=s[l];return i}var e0=Bs("animationend"),t0=Bs("animationiteration"),n0=Bs("animationstart"),v2=Bs("transitionrun"),_2=Bs("transitionstart"),E2=Bs("transitioncancel"),r0=Bs("transitionend"),i0=new Map,zm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zm.push("scrollEnd");function Lr(i,s){i0.set(i,s),Jt(s,[i])}var a0=new WeakMap;function Tr(i,s){if(typeof i=="object"&&i!==null){var l=a0.get(i);return l!==void 0?l:(s={value:i,source:s,stack:Ni(s)},a0.set(i,s),s)}return{value:i,source:s,stack:Ni(s)}}var wr=[],qo=0,Fm=0;function Of(){for(var i=qo,s=Fm=qo=0;s<i;){var l=wr[s];wr[s++]=null;var c=wr[s];wr[s++]=null;var m=wr[s];wr[s++]=null;var p=wr[s];if(wr[s++]=null,c!==null&&m!==null){var S=c.pending;S===null?m.next=m:(m.next=S.next,S.next=m),c.pending=m}p!==0&&s0(l,m,p)}}function Df(i,s,l,c){wr[qo++]=i,wr[qo++]=s,wr[qo++]=l,wr[qo++]=c,Fm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Bm(i,s,l,c){return Df(i,s,l,c),Nf(i)}function $o(i,s){return Df(i,null,null,s),Nf(i)}function s0(i,s,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var m=!1,p=i.return;p!==null;)p.childLanes|=l,c=p.alternate,c!==null&&(c.childLanes|=l),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(m=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,m&&s!==null&&(m=31-Kt(l),i=p.hiddenUpdates,c=i[m],c===null?i[m]=[s]:c.push(s),s.lane=l|536870912),p):null}function Nf(i){if(50<Bu)throw Bu=0,Yg=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Go={};function b2(i,s,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(i,s,l,c){return new b2(i,s,l,c)}function Hm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function zi(i,s){var l=i.alternate;return l===null?(l=er(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function o0(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Pf(i,s,l,c,m,p){var S=0;if(c=i,typeof i=="function")Hm(i)&&(S=1);else if(typeof i=="string")S=TI(i,l,be.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case C:return i=er(31,l,s,m),i.elementType=C,i.lanes=p,i;case A:return Hs(l.children,m,p,s);case M:S=8,m|=24;break;case P:return i=er(12,l,s,m|2),i.elementType=P,i.lanes=p,i;case te:return i=er(13,l,s,m),i.elementType=te,i.lanes=p,i;case F:return i=er(19,l,s,m),i.elementType=F,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case j:case Y:S=10;break e;case G:S=9;break e;case re:S=11;break e;case D:S=14;break e;case x:S=16,c=null;break e}S=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=er(S,l,s,m),s.elementType=i,s.type=c,s.lanes=p,s}function Hs(i,s,l,c){return i=er(7,i,c,s),i.lanes=l,i}function qm(i,s,l){return i=er(6,i,null,s),i.lanes=l,i}function $m(i,s,l){return s=er(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Ko=[],Yo=0,kf=null,Mf=0,Ar=[],Rr=0,qs=null,Fi=1,Bi="";function $s(i,s){Ko[Yo++]=Mf,Ko[Yo++]=kf,kf=i,Mf=s}function l0(i,s,l){Ar[Rr++]=Fi,Ar[Rr++]=Bi,Ar[Rr++]=qs,qs=i;var c=Fi;i=Bi;var m=32-Kt(c)-1;c&=~(1<<m),l+=1;var p=32-Kt(s)+m;if(30<p){var S=m-m%5;p=(c&(1<<S)-1).toString(32),c>>=S,m-=S,Fi=1<<32-Kt(s)+m|l<<m|c,Bi=p+i}else Fi=1<<p|l<<m|c,Bi=i}function Gm(i){i.return!==null&&($s(i,1),l0(i,1,0))}function Km(i){for(;i===kf;)kf=Ko[--Yo],Ko[Yo]=null,Mf=Ko[--Yo],Ko[Yo]=null;for(;i===qs;)qs=Ar[--Rr],Ar[Rr]=null,Bi=Ar[--Rr],Ar[Rr]=null,Fi=Ar[--Rr],Ar[Rr]=null}var Fn=null,Vt=null,gt=!1,Gs=null,ci=!1,Ym=Error(r(519));function Ks(i){var s=Error(r(418,""));throw Eu(Tr(s,i)),Ym}function u0(i){var s=i.stateNode,l=i.type,c=i.memoizedProps;switch(s[oe]=i,s[me]=c,l){case"dialog":nt("cancel",s),nt("close",s);break;case"iframe":case"object":case"embed":nt("load",s);break;case"video":case"audio":for(l=0;l<qu.length;l++)nt(qu[l],s);break;case"source":nt("error",s);break;case"img":case"image":case"link":nt("error",s),nt("load",s);break;case"details":nt("toggle",s);break;case"input":nt("invalid",s),Ds(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),No(s);break;case"select":nt("invalid",s);break;case"textarea":nt("invalid",s),Ns(s,c.value,c.defaultValue,c.children),No(s)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||R1(s.textContent,l)?(c.popover!=null&&(nt("beforetoggle",s),nt("toggle",s)),c.onScroll!=null&&nt("scroll",s),c.onScrollEnd!=null&&nt("scrollend",s),c.onClick!=null&&(s.onclick=gh),s=!0):s=!1,s||Ks(i)}function c0(i){for(Fn=i.return;Fn;)switch(Fn.tag){case 5:case 13:ci=!1;return;case 27:case 3:ci=!0;return;default:Fn=Fn.return}}function vu(i){if(i!==Fn)return!1;if(!gt)return c0(i),gt=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||cp(i.type,i.memoizedProps)),l=!l),l&&Vt&&Ks(i),c0(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(s===0){Vt=Vr(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;i=i.nextSibling}Vt=null}}else s===27?(s=Vt,Ba(i.type)?(i=mp,mp=null,Vt=i):Vt=s):Vt=Fn?Vr(i.stateNode.nextSibling):null;return!0}function _u(){Vt=Fn=null,gt=!1}function f0(){var i=Gs;return i!==null&&($n===null?$n=i:$n.push.apply($n,i),Gs=null),i}function Eu(i){Gs===null?Gs=[i]:Gs.push(i)}var Qm=ie(null),Ys=null,Hi=null;function Ca(i,s,l){ue(Qm,s._currentValue),s._currentValue=l}function qi(i){i._currentValue=Qm.current,de(Qm)}function Xm(i,s,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===l)break;i=i.return}}function Wm(i,s,l,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var p=m.dependencies;if(p!==null){var S=m.child;p=p.firstContext;e:for(;p!==null;){var w=p;p=m;for(var L=0;L<s.length;L++)if(w.context===s[L]){p.lanes|=l,w=p.alternate,w!==null&&(w.lanes|=l),Xm(p.return,l,i),c||(S=null);break e}p=w.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(r(341));S.lanes|=l,p=S.alternate,p!==null&&(p.lanes|=l),Xm(S,l,i),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===i){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function bu(i,s,l,c){i=null;for(var m=s,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var w=m.type;Jn(m.pendingProps.value,S.value)||(i!==null?i.push(w):i=[w])}}else if(m===Gt.current){if(S=m.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Xu):i=[Xu])}m=m.return}i!==null&&Wm(s,i,l,c),s.flags|=262144}function Lf(i){for(i=i.firstContext;i!==null;){if(!Jn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Qs(i){Ys=i,Hi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function xn(i){return h0(Ys,i)}function Uf(i,s){return Ys===null&&Qs(i),h0(i,s)}function h0(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Hi===null){if(i===null)throw Error(r(308));Hi=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Hi=Hi.next=s;return l}var S2=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},T2=t.unstable_scheduleCallback,w2=t.unstable_NormalPriority,nn={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zm(){return{controller:new S2,data:new Map,refCount:0}}function Su(i){i.refCount--,i.refCount===0&&T2(w2,function(){i.controller.abort()})}var Tu=null,Jm=0,Qo=0,Xo=null;function A2(i,s){if(Tu===null){var l=Tu=[];Jm=0,Qo=tp(),Xo={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Jm++,s.then(d0,d0),s}function d0(){if(--Jm===0&&Tu!==null){Xo!==null&&(Xo.status="fulfilled");var i=Tu;Tu=null,Qo=0,Xo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function R2(i,s){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var m=0;m<l.length;m++)(0,l[m])(s)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var m0=W.S;W.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&A2(i,s),m0!==null&&m0(i,s)};var Xs=ie(null);function eg(){var i=Xs.current;return i!==null?i:xt.pooledCache}function Vf(i,s){s===null?ue(Xs,Xs.current):ue(Xs,s.pool)}function g0(){var i=eg();return i===null?null:{parent:nn._currentValue,pool:i}}var wu=Error(r(460)),p0=Error(r(474)),jf=Error(r(542)),tg={then:function(){}};function y0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function zf(){}function v0(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(zf,zf),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,E0(i),i;default:if(typeof s.status=="string")s.then(zf,zf);else{if(i=xt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=c}},function(c){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,E0(i),i}throw Au=s,wu}}var Au=null;function _0(){if(Au===null)throw Error(r(459));var i=Au;return Au=null,i}function E0(i){if(i===wu||i===jf)throw Error(r(483))}var xa=!1;function ng(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rg(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ia(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Oa(i,s,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(_t&2)!==0){var m=c.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),c.pending=s,s=Nf(i),s0(i,null,l),s}return Df(i,c,s,l),Nf(i)}function Ru(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,Jr(i,l)}}function ig(i,s){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?m=p=S:p=p.next=S,l=l.next}while(l!==null);p===null?m=p=s:p=p.next=s}else m=p=s;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var ag=!1;function Cu(){if(ag){var i=Xo;if(i!==null)throw i}}function xu(i,s,l,c){ag=!1;var m=i.updateQueue;xa=!1;var p=m.firstBaseUpdate,S=m.lastBaseUpdate,w=m.shared.pending;if(w!==null){m.shared.pending=null;var L=w,Z=L.next;L.next=null,S===null?p=Z:S.next=Z,S=L;var ae=i.alternate;ae!==null&&(ae=ae.updateQueue,w=ae.lastBaseUpdate,w!==S&&(w===null?ae.firstBaseUpdate=Z:w.next=Z,ae.lastBaseUpdate=L))}if(p!==null){var le=m.baseState;S=0,ae=Z=L=null,w=p;do{var J=w.lane&-536870913,ee=J!==w.lane;if(ee?(ct&J)===J:(c&J)===J){J!==0&&J===Qo&&(ag=!0),ae!==null&&(ae=ae.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ze=i,Me=w;J=s;var At=l;switch(Me.tag){case 1:if(ze=Me.payload,typeof ze=="function"){le=ze.call(At,le,J);break e}le=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Me.payload,J=typeof ze=="function"?ze.call(At,le,J):ze,J==null)break e;le=y({},le,J);break e;case 2:xa=!0}}J=w.callback,J!==null&&(i.flags|=64,ee&&(i.flags|=8192),ee=m.callbacks,ee===null?m.callbacks=[J]:ee.push(J))}else ee={lane:J,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ae===null?(Z=ae=ee,L=le):ae=ae.next=ee,S|=J;if(w=w.next,w===null){if(w=m.shared.pending,w===null)break;ee=w,w=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);ae===null&&(L=le),m.baseState=L,m.firstBaseUpdate=Z,m.lastBaseUpdate=ae,p===null&&(m.shared.lanes=0),Va|=S,i.lanes=S,i.memoizedState=le}}function b0(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function S0(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)b0(l[i],s)}var Wo=ie(null),Ff=ie(0);function T0(i,s){i=Wi,ue(Ff,i),ue(Wo,s),Wi=i|s.baseLanes}function sg(){ue(Ff,Wi),ue(Wo,Wo.current)}function og(){Wi=Ff.current,de(Wo),de(Ff)}var Da=0,Qe=null,Tt=null,Xt=null,Bf=!1,Zo=!1,Ws=!1,Hf=0,Iu=0,Jo=null,C2=0;function Ft(){throw Error(r(321))}function lg(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Jn(i[l],s[l]))return!1;return!0}function ug(i,s,l,c,m,p){return Da=p,Qe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=i===null||i.memoizedState===null?sE:oE,Ws=!1,p=l(c,m),Ws=!1,Zo&&(p=A0(s,l,c,m)),w0(i),p}function w0(i){W.H=Qf;var s=Tt!==null&&Tt.next!==null;if(Da=0,Xt=Tt=Qe=null,Bf=!1,Iu=0,Jo=null,s)throw Error(r(300));i===null||cn||(i=i.dependencies,i!==null&&Lf(i)&&(cn=!0))}function A0(i,s,l,c){Qe=i;var m=0;do{if(Zo&&(Jo=null),Iu=0,Zo=!1,25<=m)throw Error(r(301));if(m+=1,Xt=Tt=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}W.H=k2,p=s(l,c)}while(Zo);return p}function x2(){var i=W.H,s=i.useState()[0];return s=typeof s.then=="function"?Ou(s):s,i=i.useState()[0],(Tt!==null?Tt.memoizedState:null)!==i&&(Qe.flags|=1024),s}function cg(){var i=Hf!==0;return Hf=0,i}function fg(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function hg(i){if(Bf){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Bf=!1}Da=0,Xt=Tt=Qe=null,Zo=!1,Iu=Hf=0,Jo=null}function Hn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?Qe.memoizedState=Xt=i:Xt=Xt.next=i,Xt}function Wt(){if(Tt===null){var i=Qe.alternate;i=i!==null?i.memoizedState:null}else i=Tt.next;var s=Xt===null?Qe.memoizedState:Xt.next;if(s!==null)Xt=s,Tt=i;else{if(i===null)throw Qe.alternate===null?Error(r(467)):Error(r(310));Tt=i,i={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Xt===null?Qe.memoizedState=Xt=i:Xt=Xt.next=i}return Xt}function dg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ou(i){var s=Iu;return Iu+=1,Jo===null&&(Jo=[]),i=v0(Jo,i,s),s=Qe,(Xt===null?s.memoizedState:Xt.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?sE:oE),i}function qf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ou(i);if(i.$$typeof===Y)return xn(i)}throw Error(r(438,String(i)))}function mg(i){var s=null,l=Qe.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=Qe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=dg(),Qe.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),c=0;c<i;c++)l[c]=N;return s.index++,l}function $i(i,s){return typeof s=="function"?s(i):s}function $f(i){var s=Wt();return gg(s,Tt,i)}function gg(i,s,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var m=i.baseQueue,p=c.pending;if(p!==null){if(m!==null){var S=m.next;m.next=p.next,p.next=S}s.baseQueue=m=p,c.pending=null}if(p=i.baseState,m===null)i.memoizedState=p;else{s=m.next;var w=S=null,L=null,Z=s,ae=!1;do{var le=Z.lane&-536870913;if(le!==Z.lane?(ct&le)===le:(Da&le)===le){var J=Z.revertLane;if(J===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),le===Qo&&(ae=!0);else if((Da&J)===J){Z=Z.next,J===Qo&&(ae=!0);continue}else le={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},L===null?(w=L=le,S=p):L=L.next=le,Qe.lanes|=J,Va|=J;le=Z.action,Ws&&l(p,le),p=Z.hasEagerState?Z.eagerState:l(p,le)}else J={lane:le,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},L===null?(w=L=J,S=p):L=L.next=J,Qe.lanes|=le,Va|=le;Z=Z.next}while(Z!==null&&Z!==s);if(L===null?S=p:L.next=w,!Jn(p,i.memoizedState)&&(cn=!0,ae&&(l=Xo,l!==null)))throw l;i.memoizedState=p,i.baseState=S,i.baseQueue=L,c.lastRenderedState=p}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function pg(i){var s=Wt(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,m=l.pending,p=s.memoizedState;if(m!==null){l.pending=null;var S=m=m.next;do p=i(p,S.action),S=S.next;while(S!==m);Jn(p,s.memoizedState)||(cn=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),l.lastRenderedState=p}return[p,c]}function R0(i,s,l){var c=Qe,m=Wt(),p=gt;if(p){if(l===void 0)throw Error(r(407));l=l()}else l=s();var S=!Jn((Tt||m).memoizedState,l);S&&(m.memoizedState=l,cn=!0),m=m.queue;var w=I0.bind(null,c,m,i);if(Du(2048,8,w,[i]),m.getSnapshot!==s||S||Xt!==null&&Xt.memoizedState.tag&1){if(c.flags|=2048,el(9,Gf(),x0.bind(null,c,m,l,s),null),xt===null)throw Error(r(349));p||(Da&124)!==0||C0(c,s,l)}return l}function C0(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Qe.updateQueue,s===null?(s=dg(),Qe.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function x0(i,s,l,c){s.value=l,s.getSnapshot=c,O0(s)&&D0(i)}function I0(i,s,l){return l(function(){O0(s)&&D0(i)})}function O0(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Jn(i,l)}catch{return!0}}function D0(i){var s=$o(i,2);s!==null&&ar(s,i,2)}function yg(i){var s=Hn();if(typeof i=="function"){var l=i;if(i=l(),Ws){Rn(!0);try{l()}finally{Rn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:i},s}function N0(i,s,l,c){return i.baseState=l,gg(i,Tt,typeof c=="function"?c:$i)}function I2(i,s,l,c,m){if(Yf(i))throw Error(r(485));if(i=s.action,i!==null){var p={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};W.T!==null?l(!0):p.isTransition=!1,c(p),l=s.pending,l===null?(p.next=s.pending=p,P0(s,p)):(p.next=l.next,s.pending=l.next=p)}}function P0(i,s){var l=s.action,c=s.payload,m=i.state;if(s.isTransition){var p=W.T,S={};W.T=S;try{var w=l(m,c),L=W.S;L!==null&&L(S,w),k0(i,s,w)}catch(Z){vg(i,s,Z)}finally{W.T=p}}else try{p=l(m,c),k0(i,s,p)}catch(Z){vg(i,s,Z)}}function k0(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){M0(i,s,c)},function(c){return vg(i,s,c)}):M0(i,s,l)}function M0(i,s,l){s.status="fulfilled",s.value=l,L0(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,P0(i,l)))}function vg(i,s,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,L0(s),s=s.next;while(s!==c)}i.action=null}function L0(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function U0(i,s){return s}function V0(i,s){if(gt){var l=xt.formState;if(l!==null){e:{var c=Qe;if(gt){if(Vt){t:{for(var m=Vt,p=ci;m.nodeType!==8;){if(!p){m=null;break t}if(m=Vr(m.nextSibling),m===null){m=null;break t}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){Vt=Vr(m.nextSibling),c=m.data==="F!";break e}}Ks(c)}c=!1}c&&(s=l[0])}}return l=Hn(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:U0,lastRenderedState:s},l.queue=c,l=rE.bind(null,Qe,c),c.dispatch=l,c=yg(!1),p=Tg.bind(null,Qe,!1,c.queue),c=Hn(),m={state:s,dispatch:null,action:i,pending:null},c.queue=m,l=I2.bind(null,Qe,m,p,l),m.dispatch=l,c.memoizedState=i,[s,l,!1]}function j0(i){var s=Wt();return z0(s,Tt,i)}function z0(i,s,l){if(s=gg(i,s,U0)[0],i=$f($i)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Ou(s)}catch(S){throw S===wu?jf:S}else c=s;s=Wt();var m=s.queue,p=m.dispatch;return l!==s.memoizedState&&(Qe.flags|=2048,el(9,Gf(),O2.bind(null,m,l),null)),[c,p,i]}function O2(i,s){i.action=s}function F0(i){var s=Wt(),l=Tt;if(l!==null)return z0(s,l,i);Wt(),s=s.memoizedState,l=Wt();var c=l.queue.dispatch;return l.memoizedState=i,[s,c,!1]}function el(i,s,l,c){return i={tag:i,create:l,deps:c,inst:s,next:null},s=Qe.updateQueue,s===null&&(s=dg(),Qe.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,s.lastEffect=i),i}function Gf(){return{destroy:void 0,resource:void 0}}function B0(){return Wt().memoizedState}function Kf(i,s,l,c){var m=Hn();c=c===void 0?null:c,Qe.flags|=i,m.memoizedState=el(1|s,Gf(),l,c)}function Du(i,s,l,c){var m=Wt();c=c===void 0?null:c;var p=m.memoizedState.inst;Tt!==null&&c!==null&&lg(c,Tt.memoizedState.deps)?m.memoizedState=el(s,p,l,c):(Qe.flags|=i,m.memoizedState=el(1|s,p,l,c))}function H0(i,s){Kf(8390656,8,i,s)}function q0(i,s){Du(2048,8,i,s)}function $0(i,s){return Du(4,2,i,s)}function G0(i,s){return Du(4,4,i,s)}function K0(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Y0(i,s,l){l=l!=null?l.concat([i]):null,Du(4,4,K0.bind(null,s,i),l)}function _g(){}function Q0(i,s){var l=Wt();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&lg(s,c[1])?c[0]:(l.memoizedState=[i,s],i)}function X0(i,s){var l=Wt();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&lg(s,c[1]))return c[0];if(c=i(),Ws){Rn(!0);try{i()}finally{Rn(!1)}}return l.memoizedState=[c,s],c}function Eg(i,s,l){return l===void 0||(Da&1073741824)!==0?i.memoizedState=s:(i.memoizedState=l,i=JE(),Qe.lanes|=i,Va|=i,l)}function W0(i,s,l,c){return Jn(l,s)?l:Wo.current!==null?(i=Eg(i,l,c),Jn(i,s)||(cn=!0),i):(Da&42)===0?(cn=!0,i.memoizedState=l):(i=JE(),Qe.lanes|=i,Va|=i,s)}function Z0(i,s,l,c,m){var p=fe.p;fe.p=p!==0&&8>p?p:8;var S=W.T,w={};W.T=w,Tg(i,!1,s,l);try{var L=m(),Z=W.S;if(Z!==null&&Z(w,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ae=R2(L,c);Nu(i,s,ae,ir(i))}else Nu(i,s,c,ir(i))}catch(le){Nu(i,s,{then:function(){},status:"rejected",reason:le},ir())}finally{fe.p=p,W.T=S}}function D2(){}function bg(i,s,l,c){if(i.tag!==5)throw Error(r(476));var m=J0(i).queue;Z0(i,m,s,ye,l===null?D2:function(){return eE(i),l(c)})}function J0(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:ye},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function eE(i){var s=J0(i).next.queue;Nu(i,s,{},ir())}function Sg(){return xn(Xu)}function tE(){return Wt().memoizedState}function nE(){return Wt().memoizedState}function N2(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=ir();i=Ia(l);var c=Oa(s,i,l);c!==null&&(ar(c,s,l),Ru(c,s,l)),s={cache:Zm()},i.payload=s;return}s=s.return}}function P2(i,s,l){var c=ir();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Yf(i)?iE(s,l):(l=Bm(i,s,l,c),l!==null&&(ar(l,i,c),aE(l,s,c)))}function rE(i,s,l){var c=ir();Nu(i,s,l,c)}function Nu(i,s,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Yf(i))iE(s,m);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var S=s.lastRenderedState,w=p(S,l);if(m.hasEagerState=!0,m.eagerState=w,Jn(w,S))return Df(i,s,m,0),xt===null&&Of(),!1}catch{}finally{}if(l=Bm(i,s,m,c),l!==null)return ar(l,i,c),aE(l,s,c),!0}return!1}function Tg(i,s,l,c){if(c={lane:2,revertLane:tp(),action:c,hasEagerState:!1,eagerState:null,next:null},Yf(i)){if(s)throw Error(r(479))}else s=Bm(i,l,c,2),s!==null&&ar(s,i,2)}function Yf(i){var s=i.alternate;return i===Qe||s!==null&&s===Qe}function iE(i,s){Zo=Bf=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function aE(i,s,l){if((l&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,Jr(i,l)}}var Qf={readContext:xn,use:qf,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft,useHostTransitionStatus:Ft,useFormState:Ft,useActionState:Ft,useOptimistic:Ft,useMemoCache:Ft,useCacheRefresh:Ft},sE={readContext:xn,use:qf,useCallback:function(i,s){return Hn().memoizedState=[i,s===void 0?null:s],i},useContext:xn,useEffect:H0,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,Kf(4194308,4,K0.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Kf(4194308,4,i,s)},useInsertionEffect:function(i,s){Kf(4,2,i,s)},useMemo:function(i,s){var l=Hn();s=s===void 0?null:s;var c=i();if(Ws){Rn(!0);try{i()}finally{Rn(!1)}}return l.memoizedState=[c,s],c},useReducer:function(i,s,l){var c=Hn();if(l!==void 0){var m=l(s);if(Ws){Rn(!0);try{l(s)}finally{Rn(!1)}}}else m=s;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=P2.bind(null,Qe,i),[c.memoizedState,i]},useRef:function(i){var s=Hn();return i={current:i},s.memoizedState=i},useState:function(i){i=yg(i);var s=i.queue,l=rE.bind(null,Qe,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:_g,useDeferredValue:function(i,s){var l=Hn();return Eg(l,i,s)},useTransition:function(){var i=yg(!1);return i=Z0.bind(null,Qe,i.queue,!0,!1),Hn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var c=Qe,m=Hn();if(gt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),xt===null)throw Error(r(349));(ct&124)!==0||C0(c,s,l)}m.memoizedState=l;var p={value:l,getSnapshot:s};return m.queue=p,H0(I0.bind(null,c,p,i),[i]),c.flags|=2048,el(9,Gf(),x0.bind(null,c,p,l,s),null),l},useId:function(){var i=Hn(),s=xt.identifierPrefix;if(gt){var l=Bi,c=Fi;l=(c&~(1<<32-Kt(c)-1)).toString(32)+l,s=""+s+"R"+l,l=Hf++,0<l&&(s+="H"+l.toString(32)),s+=""}else l=C2++,s=""+s+"r"+l.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:Sg,useFormState:V0,useActionState:V0,useOptimistic:function(i){var s=Hn();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Tg.bind(null,Qe,!0,l),l.dispatch=s,[i,s]},useMemoCache:mg,useCacheRefresh:function(){return Hn().memoizedState=N2.bind(null,Qe)}},oE={readContext:xn,use:qf,useCallback:Q0,useContext:xn,useEffect:q0,useImperativeHandle:Y0,useInsertionEffect:$0,useLayoutEffect:G0,useMemo:X0,useReducer:$f,useRef:B0,useState:function(){return $f($i)},useDebugValue:_g,useDeferredValue:function(i,s){var l=Wt();return W0(l,Tt.memoizedState,i,s)},useTransition:function(){var i=$f($i)[0],s=Wt().memoizedState;return[typeof i=="boolean"?i:Ou(i),s]},useSyncExternalStore:R0,useId:tE,useHostTransitionStatus:Sg,useFormState:j0,useActionState:j0,useOptimistic:function(i,s){var l=Wt();return N0(l,Tt,i,s)},useMemoCache:mg,useCacheRefresh:nE},k2={readContext:xn,use:qf,useCallback:Q0,useContext:xn,useEffect:q0,useImperativeHandle:Y0,useInsertionEffect:$0,useLayoutEffect:G0,useMemo:X0,useReducer:pg,useRef:B0,useState:function(){return pg($i)},useDebugValue:_g,useDeferredValue:function(i,s){var l=Wt();return Tt===null?Eg(l,i,s):W0(l,Tt.memoizedState,i,s)},useTransition:function(){var i=pg($i)[0],s=Wt().memoizedState;return[typeof i=="boolean"?i:Ou(i),s]},useSyncExternalStore:R0,useId:tE,useHostTransitionStatus:Sg,useFormState:F0,useActionState:F0,useOptimistic:function(i,s){var l=Wt();return Tt!==null?N0(l,Tt,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:mg,useCacheRefresh:nE},tl=null,Pu=0;function Xf(i){var s=Pu;return Pu+=1,tl===null&&(tl=[]),v0(tl,i,s)}function ku(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Wf(i,s){throw s.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function lE(i){var s=i._init;return s(i._payload)}function uE(i){function s(q,B){if(i){var Q=q.deletions;Q===null?(q.deletions=[B],q.flags|=16):Q.push(B)}}function l(q,B){if(!i)return null;for(;B!==null;)s(q,B),B=B.sibling;return null}function c(q){for(var B=new Map;q!==null;)q.key!==null?B.set(q.key,q):B.set(q.index,q),q=q.sibling;return B}function m(q,B){return q=zi(q,B),q.index=0,q.sibling=null,q}function p(q,B,Q){return q.index=Q,i?(Q=q.alternate,Q!==null?(Q=Q.index,Q<B?(q.flags|=67108866,B):Q):(q.flags|=67108866,B)):(q.flags|=1048576,B)}function S(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function w(q,B,Q,se){return B===null||B.tag!==6?(B=qm(Q,q.mode,se),B.return=q,B):(B=m(B,Q),B.return=q,B)}function L(q,B,Q,se){var Se=Q.type;return Se===A?ae(q,B,Q.props.children,se,Q.key):B!==null&&(B.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===x&&lE(Se)===B.type)?(B=m(B,Q.props),ku(B,Q),B.return=q,B):(B=Pf(Q.type,Q.key,Q.props,null,q.mode,se),ku(B,Q),B.return=q,B)}function Z(q,B,Q,se){return B===null||B.tag!==4||B.stateNode.containerInfo!==Q.containerInfo||B.stateNode.implementation!==Q.implementation?(B=$m(Q,q.mode,se),B.return=q,B):(B=m(B,Q.children||[]),B.return=q,B)}function ae(q,B,Q,se,Se){return B===null||B.tag!==7?(B=Hs(Q,q.mode,se,Se),B.return=q,B):(B=m(B,Q),B.return=q,B)}function le(q,B,Q){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=qm(""+B,q.mode,Q),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case E:return Q=Pf(B.type,B.key,B.props,null,q.mode,Q),ku(Q,B),Q.return=q,Q;case T:return B=$m(B,q.mode,Q),B.return=q,B;case x:var se=B._init;return B=se(B._payload),le(q,B,Q)}if(Fe(B)||H(B))return B=Hs(B,q.mode,Q,null),B.return=q,B;if(typeof B.then=="function")return le(q,Xf(B),Q);if(B.$$typeof===Y)return le(q,Uf(q,B),Q);Wf(q,B)}return null}function J(q,B,Q,se){var Se=B!==null?B.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Se!==null?null:w(q,B,""+Q,se);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case E:return Q.key===Se?L(q,B,Q,se):null;case T:return Q.key===Se?Z(q,B,Q,se):null;case x:return Se=Q._init,Q=Se(Q._payload),J(q,B,Q,se)}if(Fe(Q)||H(Q))return Se!==null?null:ae(q,B,Q,se,null);if(typeof Q.then=="function")return J(q,B,Xf(Q),se);if(Q.$$typeof===Y)return J(q,B,Uf(q,Q),se);Wf(q,Q)}return null}function ee(q,B,Q,se,Se){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return q=q.get(Q)||null,w(B,q,""+se,Se);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case E:return q=q.get(se.key===null?Q:se.key)||null,L(B,q,se,Se);case T:return q=q.get(se.key===null?Q:se.key)||null,Z(B,q,se,Se);case x:var Ze=se._init;return se=Ze(se._payload),ee(q,B,Q,se,Se)}if(Fe(se)||H(se))return q=q.get(Q)||null,ae(B,q,se,Se,null);if(typeof se.then=="function")return ee(q,B,Q,Xf(se),Se);if(se.$$typeof===Y)return ee(q,B,Q,Uf(B,se),Se);Wf(B,se)}return null}function ze(q,B,Q,se){for(var Se=null,Ze=null,xe=B,Ue=B=0,hn=null;xe!==null&&Ue<Q.length;Ue++){xe.index>Ue?(hn=xe,xe=null):hn=xe.sibling;var dt=J(q,xe,Q[Ue],se);if(dt===null){xe===null&&(xe=hn);break}i&&xe&&dt.alternate===null&&s(q,xe),B=p(dt,B,Ue),Ze===null?Se=dt:Ze.sibling=dt,Ze=dt,xe=hn}if(Ue===Q.length)return l(q,xe),gt&&$s(q,Ue),Se;if(xe===null){for(;Ue<Q.length;Ue++)xe=le(q,Q[Ue],se),xe!==null&&(B=p(xe,B,Ue),Ze===null?Se=xe:Ze.sibling=xe,Ze=xe);return gt&&$s(q,Ue),Se}for(xe=c(xe);Ue<Q.length;Ue++)hn=ee(xe,q,Ue,Q[Ue],se),hn!==null&&(i&&hn.alternate!==null&&xe.delete(hn.key===null?Ue:hn.key),B=p(hn,B,Ue),Ze===null?Se=hn:Ze.sibling=hn,Ze=hn);return i&&xe.forEach(function(Ka){return s(q,Ka)}),gt&&$s(q,Ue),Se}function Me(q,B,Q,se){if(Q==null)throw Error(r(151));for(var Se=null,Ze=null,xe=B,Ue=B=0,hn=null,dt=Q.next();xe!==null&&!dt.done;Ue++,dt=Q.next()){xe.index>Ue?(hn=xe,xe=null):hn=xe.sibling;var Ka=J(q,xe,dt.value,se);if(Ka===null){xe===null&&(xe=hn);break}i&&xe&&Ka.alternate===null&&s(q,xe),B=p(Ka,B,Ue),Ze===null?Se=Ka:Ze.sibling=Ka,Ze=Ka,xe=hn}if(dt.done)return l(q,xe),gt&&$s(q,Ue),Se;if(xe===null){for(;!dt.done;Ue++,dt=Q.next())dt=le(q,dt.value,se),dt!==null&&(B=p(dt,B,Ue),Ze===null?Se=dt:Ze.sibling=dt,Ze=dt);return gt&&$s(q,Ue),Se}for(xe=c(xe);!dt.done;Ue++,dt=Q.next())dt=ee(xe,q,Ue,dt.value,se),dt!==null&&(i&&dt.alternate!==null&&xe.delete(dt.key===null?Ue:dt.key),B=p(dt,B,Ue),Ze===null?Se=dt:Ze.sibling=dt,Ze=dt);return i&&xe.forEach(function(MI){return s(q,MI)}),gt&&$s(q,Ue),Se}function At(q,B,Q,se){if(typeof Q=="object"&&Q!==null&&Q.type===A&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case E:e:{for(var Se=Q.key;B!==null;){if(B.key===Se){if(Se=Q.type,Se===A){if(B.tag===7){l(q,B.sibling),se=m(B,Q.props.children),se.return=q,q=se;break e}}else if(B.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===x&&lE(Se)===B.type){l(q,B.sibling),se=m(B,Q.props),ku(se,Q),se.return=q,q=se;break e}l(q,B);break}else s(q,B);B=B.sibling}Q.type===A?(se=Hs(Q.props.children,q.mode,se,Q.key),se.return=q,q=se):(se=Pf(Q.type,Q.key,Q.props,null,q.mode,se),ku(se,Q),se.return=q,q=se)}return S(q);case T:e:{for(Se=Q.key;B!==null;){if(B.key===Se)if(B.tag===4&&B.stateNode.containerInfo===Q.containerInfo&&B.stateNode.implementation===Q.implementation){l(q,B.sibling),se=m(B,Q.children||[]),se.return=q,q=se;break e}else{l(q,B);break}else s(q,B);B=B.sibling}se=$m(Q,q.mode,se),se.return=q,q=se}return S(q);case x:return Se=Q._init,Q=Se(Q._payload),At(q,B,Q,se)}if(Fe(Q))return ze(q,B,Q,se);if(H(Q)){if(Se=H(Q),typeof Se!="function")throw Error(r(150));return Q=Se.call(Q),Me(q,B,Q,se)}if(typeof Q.then=="function")return At(q,B,Xf(Q),se);if(Q.$$typeof===Y)return At(q,B,Uf(q,Q),se);Wf(q,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,B!==null&&B.tag===6?(l(q,B.sibling),se=m(B,Q),se.return=q,q=se):(l(q,B),se=qm(Q,q.mode,se),se.return=q,q=se),S(q)):l(q,B)}return function(q,B,Q,se){try{Pu=0;var Se=At(q,B,Q,se);return tl=null,Se}catch(xe){if(xe===wu||xe===jf)throw xe;var Ze=er(29,xe,null,q.mode);return Ze.lanes=se,Ze.return=q,Ze}finally{}}}var nl=uE(!0),cE=uE(!1),Cr=ie(null),fi=null;function Na(i){var s=i.alternate;ue(rn,rn.current&1),ue(Cr,i),fi===null&&(s===null||Wo.current!==null||s.memoizedState!==null)&&(fi=i)}function fE(i){if(i.tag===22){if(ue(rn,rn.current),ue(Cr,i),fi===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(fi=i)}}else Pa()}function Pa(){ue(rn,rn.current),ue(Cr,Cr.current)}function Gi(i){de(Cr),fi===i&&(fi=null),de(rn)}var rn=ie(0);function Zf(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||dp(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function wg(i,s,l,c){s=i.memoizedState,l=l(c,s),l=l==null?s:y({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Ag={enqueueSetState:function(i,s,l){i=i._reactInternals;var c=ir(),m=Ia(c);m.payload=s,l!=null&&(m.callback=l),s=Oa(i,m,c),s!==null&&(ar(s,i,c),Ru(s,i,c))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var c=ir(),m=Ia(c);m.tag=1,m.payload=s,l!=null&&(m.callback=l),s=Oa(i,m,c),s!==null&&(ar(s,i,c),Ru(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=ir(),c=Ia(l);c.tag=2,s!=null&&(c.callback=s),s=Oa(i,c,l),s!==null&&(ar(s,i,l),Ru(s,i,l))}};function hE(i,s,l,c,m,p,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,p,S):s.prototype&&s.prototype.isPureReactComponent?!pu(l,c)||!pu(m,p):!0}function dE(i,s,l,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==i&&Ag.enqueueReplaceState(s,s.state,null)}function Zs(i,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(i=i.defaultProps){l===s&&(l=y({},l));for(var m in i)l[m]===void 0&&(l[m]=i[m])}return l}var Jf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function mE(i){Jf(i)}function gE(i){console.error(i)}function pE(i){Jf(i)}function eh(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function yE(i,s,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Rg(i,s,l){return l=Ia(l),l.tag=3,l.payload={element:null},l.callback=function(){eh(i,s)},l}function vE(i){return i=Ia(i),i.tag=3,i}function _E(i,s,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var p=c.value;i.payload=function(){return m(p)},i.callback=function(){yE(s,l,c)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){yE(s,l,c),typeof m!="function"&&(ja===null?ja=new Set([this]):ja.add(this));var w=c.stack;this.componentDidCatch(c.value,{componentStack:w!==null?w:""})})}function M2(i,s,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&bu(s,l,m,!0),l=Cr.current,l!==null){switch(l.tag){case 13:return fi===null?Xg():l.alternate===null&&jt===0&&(jt=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===tg?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),Zg(i,c,m)),!1;case 22:return l.flags|=65536,c===tg?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),Zg(i,c,m)),!1}throw Error(r(435,l.tag))}return Zg(i,c,m),Xg(),!1}if(gt)return s=Cr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,c!==Ym&&(i=Error(r(422),{cause:c}),Eu(Tr(i,l)))):(c!==Ym&&(s=Error(r(423),{cause:c}),Eu(Tr(s,l))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=Tr(c,l),m=Rg(i.stateNode,c,m),ig(i,m),jt!==4&&(jt=2)),!1;var p=Error(r(520),{cause:c});if(p=Tr(p,l),Fu===null?Fu=[p]:Fu.push(p),jt!==4&&(jt=2),s===null)return!0;c=Tr(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=m&-m,l.lanes|=i,i=Rg(l.stateNode,c,i),ig(l,i),!1;case 1:if(s=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ja===null||!ja.has(p))))return l.flags|=65536,m&=-m,l.lanes|=m,m=vE(m),_E(m,i,l,c),ig(l,m),!1}l=l.return}while(l!==null);return!1}var EE=Error(r(461)),cn=!1;function yn(i,s,l,c){s.child=i===null?cE(s,null,l,c):nl(s,i.child,l,c)}function bE(i,s,l,c,m){l=l.render;var p=s.ref;if("ref"in c){var S={};for(var w in c)w!=="ref"&&(S[w]=c[w])}else S=c;return Qs(s),c=ug(i,s,l,S,p,m),w=cg(),i!==null&&!cn?(fg(i,s,m),Ki(i,s,m)):(gt&&w&&Gm(s),s.flags|=1,yn(i,s,c,m),s.child)}function SE(i,s,l,c,m){if(i===null){var p=l.type;return typeof p=="function"&&!Hm(p)&&p.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=p,TE(i,s,p,c,m)):(i=Pf(l.type,null,c,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(p=i.child,!kg(i,m)){var S=p.memoizedProps;if(l=l.compare,l=l!==null?l:pu,l(S,c)&&i.ref===s.ref)return Ki(i,s,m)}return s.flags|=1,i=zi(p,c),i.ref=s.ref,i.return=s,s.child=i}function TE(i,s,l,c,m){if(i!==null){var p=i.memoizedProps;if(pu(p,c)&&i.ref===s.ref)if(cn=!1,s.pendingProps=c=p,kg(i,m))(i.flags&131072)!==0&&(cn=!0);else return s.lanes=i.lanes,Ki(i,s,m)}return Cg(i,s,l,c,m)}function wE(i,s,l){var c=s.pendingProps,m=c.children,p=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=p!==null?p.baseLanes|l:l,i!==null){for(m=s.child=i.child,p=0;m!==null;)p=p|m.lanes|m.childLanes,m=m.sibling;s.childLanes=p&~c}else s.childLanes=0,s.child=null;return AE(i,s,c,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Vf(s,p!==null?p.cachePool:null),p!==null?T0(s,p):sg(),fE(s);else return s.lanes=s.childLanes=536870912,AE(i,s,p!==null?p.baseLanes|l:l,l)}else p!==null?(Vf(s,p.cachePool),T0(s,p),Pa(),s.memoizedState=null):(i!==null&&Vf(s,null),sg(),Pa());return yn(i,s,m,l),s.child}function AE(i,s,l,c){var m=eg();return m=m===null?null:{parent:nn._currentValue,pool:m},s.memoizedState={baseLanes:l,cachePool:m},i!==null&&Vf(s,null),sg(),fE(s),i!==null&&bu(i,s,c,!0),null}function th(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function Cg(i,s,l,c,m){return Qs(s),l=ug(i,s,l,c,void 0,m),c=cg(),i!==null&&!cn?(fg(i,s,m),Ki(i,s,m)):(gt&&c&&Gm(s),s.flags|=1,yn(i,s,l,m),s.child)}function RE(i,s,l,c,m,p){return Qs(s),s.updateQueue=null,l=A0(s,c,l,m),w0(i),c=cg(),i!==null&&!cn?(fg(i,s,p),Ki(i,s,p)):(gt&&c&&Gm(s),s.flags|=1,yn(i,s,l,p),s.child)}function CE(i,s,l,c,m){if(Qs(s),s.stateNode===null){var p=Go,S=l.contextType;typeof S=="object"&&S!==null&&(p=xn(S)),p=new l(c,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Ag,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=c,p.state=s.memoizedState,p.refs={},ng(s),S=l.contextType,p.context=typeof S=="object"&&S!==null?xn(S):Go,p.state=s.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(wg(s,l,S,c),p.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&Ag.enqueueReplaceState(p,p.state,null),xu(s,c,p,m),Cu(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){p=s.stateNode;var w=s.memoizedProps,L=Zs(l,w);p.props=L;var Z=p.context,ae=l.contextType;S=Go,typeof ae=="object"&&ae!==null&&(S=xn(ae));var le=l.getDerivedStateFromProps;ae=typeof le=="function"||typeof p.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,ae||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w||Z!==S)&&dE(s,p,c,S),xa=!1;var J=s.memoizedState;p.state=J,xu(s,c,p,m),Cu(),Z=s.memoizedState,w||J!==Z||xa?(typeof le=="function"&&(wg(s,l,le,c),Z=s.memoizedState),(L=xa||hE(s,l,L,c,J,Z,S))?(ae||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=Z),p.props=c,p.state=Z,p.context=S,c=L):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{p=s.stateNode,rg(i,s),S=s.memoizedProps,ae=Zs(l,S),p.props=ae,le=s.pendingProps,J=p.context,Z=l.contextType,L=Go,typeof Z=="object"&&Z!==null&&(L=xn(Z)),w=l.getDerivedStateFromProps,(Z=typeof w=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==le||J!==L)&&dE(s,p,c,L),xa=!1,J=s.memoizedState,p.state=J,xu(s,c,p,m),Cu();var ee=s.memoizedState;S!==le||J!==ee||xa||i!==null&&i.dependencies!==null&&Lf(i.dependencies)?(typeof w=="function"&&(wg(s,l,w,c),ee=s.memoizedState),(ae=xa||hE(s,l,ae,c,J,ee,L)||i!==null&&i.dependencies!==null&&Lf(i.dependencies))?(Z||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,ee,L),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,ee,L)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===i.memoizedProps&&J===i.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&J===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ee),p.props=c,p.state=ee,p.context=L,c=ae):(typeof p.componentDidUpdate!="function"||S===i.memoizedProps&&J===i.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&J===i.memoizedState||(s.flags|=1024),c=!1)}return p=c,th(i,s),c=(s.flags&128)!==0,p||c?(p=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,i!==null&&c?(s.child=nl(s,i.child,null,m),s.child=nl(s,null,l,m)):yn(i,s,l,m),s.memoizedState=p.state,i=s.child):i=Ki(i,s,m),i}function xE(i,s,l,c){return _u(),s.flags|=256,yn(i,s,l,c),s.child}var xg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ig(i){return{baseLanes:i,cachePool:g0()}}function Og(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=xr),i}function IE(i,s,l){var c=s.pendingProps,m=!1,p=(s.flags&128)!==0,S;if((S=p)||(S=i!==null&&i.memoizedState===null?!1:(rn.current&2)!==0),S&&(m=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,i===null){if(gt){if(m?Na(s):Pa(),gt){var w=Vt,L;if(L=w){e:{for(L=w,w=ci;L.nodeType!==8;){if(!w){w=null;break e}if(L=Vr(L.nextSibling),L===null){w=null;break e}}w=L}w!==null?(s.memoizedState={dehydrated:w,treeContext:qs!==null?{id:Fi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},L=er(18,null,null,0),L.stateNode=w,L.return=s,s.child=L,Fn=s,Vt=null,L=!0):L=!1}L||Ks(s)}if(w=s.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return dp(w)?s.lanes=32:s.lanes=536870912,null;Gi(s)}return w=c.children,c=c.fallback,m?(Pa(),m=s.mode,w=nh({mode:"hidden",children:w},m),c=Hs(c,m,l,null),w.return=s,c.return=s,w.sibling=c,s.child=w,m=s.child,m.memoizedState=Ig(l),m.childLanes=Og(i,S,l),s.memoizedState=xg,c):(Na(s),Dg(s,w))}if(L=i.memoizedState,L!==null&&(w=L.dehydrated,w!==null)){if(p)s.flags&256?(Na(s),s.flags&=-257,s=Ng(i,s,l)):s.memoizedState!==null?(Pa(),s.child=i.child,s.flags|=128,s=null):(Pa(),m=c.fallback,w=s.mode,c=nh({mode:"visible",children:c.children},w),m=Hs(m,w,l,null),m.flags|=2,c.return=s,m.return=s,c.sibling=m,s.child=c,nl(s,i.child,null,l),c=s.child,c.memoizedState=Ig(l),c.childLanes=Og(i,S,l),s.memoizedState=xg,s=m);else if(Na(s),dp(w)){if(S=w.nextSibling&&w.nextSibling.dataset,S)var Z=S.dgst;S=Z,c=Error(r(419)),c.stack="",c.digest=S,Eu({value:c,source:null,stack:null}),s=Ng(i,s,l)}else if(cn||bu(i,s,l,!1),S=(l&i.childLanes)!==0,cn||S){if(S=xt,S!==null&&(c=l&-l,c=(c&42)!==0?1:ei(c),c=(c&(S.suspendedLanes|l))!==0?0:c,c!==0&&c!==L.retryLane))throw L.retryLane=c,$o(i,c),ar(S,i,c),EE;w.data==="$?"||Xg(),s=Ng(i,s,l)}else w.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=L.treeContext,Vt=Vr(w.nextSibling),Fn=s,gt=!0,Gs=null,ci=!1,i!==null&&(Ar[Rr++]=Fi,Ar[Rr++]=Bi,Ar[Rr++]=qs,Fi=i.id,Bi=i.overflow,qs=s),s=Dg(s,c.children),s.flags|=4096);return s}return m?(Pa(),m=c.fallback,w=s.mode,L=i.child,Z=L.sibling,c=zi(L,{mode:"hidden",children:c.children}),c.subtreeFlags=L.subtreeFlags&65011712,Z!==null?m=zi(Z,m):(m=Hs(m,w,l,null),m.flags|=2),m.return=s,c.return=s,c.sibling=m,s.child=c,c=m,m=s.child,w=i.child.memoizedState,w===null?w=Ig(l):(L=w.cachePool,L!==null?(Z=nn._currentValue,L=L.parent!==Z?{parent:Z,pool:Z}:L):L=g0(),w={baseLanes:w.baseLanes|l,cachePool:L}),m.memoizedState=w,m.childLanes=Og(i,S,l),s.memoizedState=xg,c):(Na(s),l=i.child,i=l.sibling,l=zi(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,i!==null&&(S=s.deletions,S===null?(s.deletions=[i],s.flags|=16):S.push(i)),s.child=l,s.memoizedState=null,l)}function Dg(i,s){return s=nh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function nh(i,s){return i=er(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Ng(i,s,l){return nl(s,i.child,null,l),i=Dg(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function OE(i,s,l){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),Xm(i.return,s,l)}function Pg(i,s,l,c,m){var p=i.memoizedState;p===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=l,p.tailMode=m)}function DE(i,s,l){var c=s.pendingProps,m=c.revealOrder,p=c.tail;if(yn(i,s,c.children,l),c=rn.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&OE(i,l,s);else if(i.tag===19)OE(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(ue(rn,c),m){case"forwards":for(l=s.child,m=null;l!==null;)i=l.alternate,i!==null&&Zf(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=s.child,s.child=null):(m=l.sibling,l.sibling=null),Pg(s,!1,m,l,p);break;case"backwards":for(l=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&Zf(i)===null){s.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}Pg(s,!0,l,null,p);break;case"together":Pg(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ki(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),Va|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(bu(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=zi(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=zi(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function kg(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Lf(i)))}function L2(i,s,l){switch(s.tag){case 3:bt(s,s.stateNode.containerInfo),Ca(s,nn,i.memoizedState.cache),_u();break;case 27:case 5:Ot(s);break;case 4:bt(s,s.stateNode.containerInfo);break;case 10:Ca(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Na(s),s.flags|=128,null):(l&s.child.childLanes)!==0?IE(i,s,l):(Na(s),i=Ki(i,s,l),i!==null?i.sibling:null);Na(s);break;case 19:var m=(i.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(bu(i,s,l,!1),c=(l&s.childLanes)!==0),m){if(c)return DE(i,s,l);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ue(rn,rn.current),c)break;return null;case 22:case 23:return s.lanes=0,wE(i,s,l);case 24:Ca(s,nn,i.memoizedState.cache)}return Ki(i,s,l)}function NE(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)cn=!0;else{if(!kg(i,l)&&(s.flags&128)===0)return cn=!1,L2(i,s,l);cn=(i.flags&131072)!==0}else cn=!1,gt&&(s.flags&1048576)!==0&&l0(s,Mf,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var c=s.elementType,m=c._init;if(c=m(c._payload),s.type=c,typeof c=="function")Hm(c)?(i=Zs(c,i),s.tag=1,s=CE(null,s,c,i,l)):(s.tag=0,s=Cg(null,s,c,i,l));else{if(c!=null){if(m=c.$$typeof,m===re){s.tag=11,s=bE(null,s,c,i,l);break e}else if(m===D){s.tag=14,s=SE(null,s,c,i,l);break e}}throw s=Re(c)||c,Error(r(306,s,""))}}return s;case 0:return Cg(i,s,s.type,s.pendingProps,l);case 1:return c=s.type,m=Zs(c,s.pendingProps),CE(i,s,c,m,l);case 3:e:{if(bt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));c=s.pendingProps;var p=s.memoizedState;m=p.element,rg(i,s),xu(s,c,null,l);var S=s.memoizedState;if(c=S.cache,Ca(s,nn,c),c!==p.cache&&Wm(s,[nn],l,!0),Cu(),c=S.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=xE(i,s,c,l);break e}else if(c!==m){m=Tr(Error(r(424)),s),Eu(m),s=xE(i,s,c,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Vt=Vr(i.firstChild),Fn=s,gt=!0,Gs=null,ci=!0,l=cE(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(_u(),c===m){s=Ki(i,s,l);break e}yn(i,s,c,l)}s=s.child}return s;case 26:return th(i,s),i===null?(l=L1(s.type,null,s.pendingProps,null))?s.memoizedState=l:gt||(l=s.type,i=s.pendingProps,c=ph(Oe.current).createElement(l),c[oe]=s,c[me]=i,_n(c,l,i),ot(c),s.stateNode=c):s.memoizedState=L1(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Ot(s),i===null&&gt&&(c=s.stateNode=P1(s.type,s.pendingProps,Oe.current),Fn=s,ci=!0,m=Vt,Ba(s.type)?(mp=m,Vt=Vr(c.firstChild)):Vt=m),yn(i,s,s.pendingProps.children,l),th(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&gt&&((m=c=Vt)&&(c=cI(c,s.type,s.pendingProps,ci),c!==null?(s.stateNode=c,Fn=s,Vt=Vr(c.firstChild),ci=!1,m=!0):m=!1),m||Ks(s)),Ot(s),m=s.type,p=s.pendingProps,S=i!==null?i.memoizedProps:null,c=p.children,cp(m,p)?c=null:S!==null&&cp(m,S)&&(s.flags|=32),s.memoizedState!==null&&(m=ug(i,s,x2,null,null,l),Xu._currentValue=m),th(i,s),yn(i,s,c,l),s.child;case 6:return i===null&&gt&&((i=l=Vt)&&(l=fI(l,s.pendingProps,ci),l!==null?(s.stateNode=l,Fn=s,Vt=null,i=!0):i=!1),i||Ks(s)),null;case 13:return IE(i,s,l);case 4:return bt(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=nl(s,null,c,l):yn(i,s,c,l),s.child;case 11:return bE(i,s,s.type,s.pendingProps,l);case 7:return yn(i,s,s.pendingProps,l),s.child;case 8:return yn(i,s,s.pendingProps.children,l),s.child;case 12:return yn(i,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,Ca(s,s.type,c.value),yn(i,s,c.children,l),s.child;case 9:return m=s.type._context,c=s.pendingProps.children,Qs(s),m=xn(m),c=c(m),s.flags|=1,yn(i,s,c,l),s.child;case 14:return SE(i,s,s.type,s.pendingProps,l);case 15:return TE(i,s,s.type,s.pendingProps,l);case 19:return DE(i,s,l);case 31:return c=s.pendingProps,l=s.mode,c={mode:c.mode,children:c.children},i===null?(l=nh(c,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=zi(i.child,c),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return wE(i,s,l);case 24:return Qs(s),c=xn(nn),i===null?(m=eg(),m===null&&(m=xt,p=Zm(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=l),m=p),s.memoizedState={parent:c,cache:m},ng(s),Ca(s,nn,m)):((i.lanes&l)!==0&&(rg(i,s),xu(s,null,null,l),Cu()),m=i.memoizedState,p=s.memoizedState,m.parent!==c?(m={parent:c,cache:c},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),Ca(s,nn,c)):(c=p.cache,Ca(s,nn,c),c!==m.cache&&Wm(s,[nn],l,!0))),yn(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Yi(i){i.flags|=4}function PE(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!F1(s)){if(s=Cr.current,s!==null&&((ct&4194048)===ct?fi!==null:(ct&62914560)!==ct&&(ct&536870912)===0||s!==fi))throw Au=tg,p0;i.flags|=8192}}function rh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Is():536870912,i.lanes|=s,sl|=s)}function Mu(i,s){if(!gt)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function kt(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(s)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=l,s}function U2(i,s,l){var c=s.pendingProps;switch(Km(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(s),null;case 1:return kt(s),null;case 3:return l=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),qi(nn),hr(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(vu(s)?Yi(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,f0())),kt(s),null;case 26:return l=s.memoizedState,i===null?(Yi(s),l!==null?(kt(s),PE(s,l)):(kt(s),s.flags&=-16777217)):l?l!==i.memoizedState?(Yi(s),kt(s),PE(s,l)):(kt(s),s.flags&=-16777217):(i.memoizedProps!==c&&Yi(s),kt(s),s.flags&=-16777217),null;case 27:An(s),l=Oe.current;var m=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Yi(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return kt(s),null}i=be.current,vu(s)?u0(s):(i=P1(m,c,l),s.stateNode=i,Yi(s))}return kt(s),null;case 5:if(An(s),l=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Yi(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return kt(s),null}if(i=be.current,vu(s))u0(s);else{switch(m=ph(Oe.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}i[oe]=s,i[me]=c;e:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break e;for(;m.sibling===null;){if(m.return===null||m.return===s)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=i;e:switch(_n(i,l,c),l){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Yi(s)}}return kt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&Yi(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=Oe.current,vu(s)){if(i=s.stateNode,l=s.memoizedProps,c=null,m=Fn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[oe]=s,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||R1(i.nodeValue,l)),i||Ks(s)}else i=ph(i).createTextNode(c),i[oe]=s,s.stateNode=i}return kt(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=vu(s),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[oe]=s}else _u(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;kt(s),m=!1}else m=f0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(Gi(s),s):(Gi(s),null)}if(Gi(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=c!==null,i=i!==null&&i.memoizedState!==null,l){c=s.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var p=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==m&&(c.flags|=2048)}return l!==i&&l&&(s.child.flags|=8192),rh(s,s.updateQueue),kt(s),null;case 4:return hr(),i===null&&ap(s.stateNode.containerInfo),kt(s),null;case 10:return qi(s.type),kt(s),null;case 19:if(de(rn),m=s.memoizedState,m===null)return kt(s),null;if(c=(s.flags&128)!==0,p=m.rendering,p===null)if(c)Mu(m,!1);else{if(jt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(p=Zf(i),p!==null){for(s.flags|=128,Mu(m,!1),i=p.updateQueue,s.updateQueue=i,rh(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)o0(l,i),l=l.sibling;return ue(rn,rn.current&1|2),s.child}i=i.sibling}m.tail!==null&&Ln()>sh&&(s.flags|=128,c=!0,Mu(m,!1),s.lanes=4194304)}else{if(!c)if(i=Zf(p),i!==null){if(s.flags|=128,c=!0,i=i.updateQueue,s.updateQueue=i,rh(s,i),Mu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!p.alternate&&!gt)return kt(s),null}else 2*Ln()-m.renderingStartTime>sh&&l!==536870912&&(s.flags|=128,c=!0,Mu(m,!1),s.lanes=4194304);m.isBackwards?(p.sibling=s.child,s.child=p):(i=m.last,i!==null?i.sibling=p:s.child=p,m.last=p)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Ln(),s.sibling=null,i=rn.current,ue(rn,c?i&1|2:i&1),s):(kt(s),null);case 22:case 23:return Gi(s),og(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(kt(s),s.subtreeFlags&6&&(s.flags|=8192)):kt(s),l=s.updateQueue,l!==null&&rh(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),i!==null&&de(Xs),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),qi(nn),kt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function V2(i,s){switch(Km(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return qi(nn),hr(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return An(s),null;case 13:if(Gi(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));_u()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return de(rn),null;case 4:return hr(),null;case 10:return qi(s.type),null;case 22:case 23:return Gi(s),og(),i!==null&&de(Xs),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return qi(nn),null;case 25:return null;default:return null}}function kE(i,s){switch(Km(s),s.tag){case 3:qi(nn),hr();break;case 26:case 27:case 5:An(s);break;case 4:hr();break;case 13:Gi(s);break;case 19:de(rn);break;case 10:qi(s.type);break;case 22:case 23:Gi(s),og(),i!==null&&de(Xs);break;case 24:qi(nn)}}function Lu(i,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&i)===i){c=void 0;var p=l.create,S=l.inst;c=p(),S.destroy=c}l=l.next}while(l!==m)}}catch(w){Ct(s,s.return,w)}}function ka(i,s,l){try{var c=s.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var p=m.next;c=p;do{if((c.tag&i)===i){var S=c.inst,w=S.destroy;if(w!==void 0){S.destroy=void 0,m=s;var L=l,Z=w;try{Z()}catch(ae){Ct(m,L,ae)}}}c=c.next}while(c!==p)}}catch(ae){Ct(s,s.return,ae)}}function ME(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{S0(s,l)}catch(c){Ct(i,i.return,c)}}}function LE(i,s,l){l.props=Zs(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){Ct(i,s,c)}}function Uu(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(m){Ct(i,s,m)}}function hi(i,s){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){Ct(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){Ct(i,s,m)}else l.current=null}function UE(i){var s=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){Ct(i,i.return,m)}}function Mg(i,s,l){try{var c=i.stateNode;aI(c,i.type,l,s),c[me]=s}catch(m){Ct(i,i.return,m)}}function VE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ba(i.type)||i.tag===4}function Lg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||VE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ba(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ug(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=gh));else if(c!==4&&(c===27&&Ba(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(Ug(i,s,l),i=i.sibling;i!==null;)Ug(i,s,l),i=i.sibling}function ih(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(c!==4&&(c===27&&Ba(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(ih(i,s,l),i=i.sibling;i!==null;)ih(i,s,l),i=i.sibling}function jE(i){var s=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);_n(s,c,l),s[oe]=i,s[me]=l}catch(p){Ct(i,i.return,p)}}var Qi=!1,Bt=!1,Vg=!1,zE=typeof WeakSet=="function"?WeakSet:Set,fn=null;function j2(i,s){if(i=i.containerInfo,lp=Sh,i=W_(i),Lm(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break e}var S=0,w=-1,L=-1,Z=0,ae=0,le=i,J=null;t:for(;;){for(var ee;le!==l||m!==0&&le.nodeType!==3||(w=S+m),le!==p||c!==0&&le.nodeType!==3||(L=S+c),le.nodeType===3&&(S+=le.nodeValue.length),(ee=le.firstChild)!==null;)J=le,le=ee;for(;;){if(le===i)break t;if(J===l&&++Z===m&&(w=S),J===p&&++ae===c&&(L=S),(ee=le.nextSibling)!==null)break;le=J,J=le.parentNode}le=ee}l=w===-1||L===-1?null:{start:w,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(up={focusedElem:i,selectionRange:l},Sh=!1,fn=s;fn!==null;)if(s=fn,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,fn=i;else for(;fn!==null;){switch(s=fn,p=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,l=s,m=p.memoizedProps,p=p.memoizedState,c=l.stateNode;try{var ze=Zs(l.type,m,l.elementType===l.type);i=c.getSnapshotBeforeUpdate(ze,p),c.__reactInternalSnapshotBeforeUpdate=i}catch(Me){Ct(l,l.return,Me)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)hp(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":hp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,fn=i;break}fn=s.return}}function FE(i,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Ma(i,l),c&4&&Lu(5,l);break;case 1:if(Ma(i,l),c&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(S){Ct(l,l.return,S)}else{var m=Zs(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(S){Ct(l,l.return,S)}}c&64&&ME(l),c&512&&Uu(l,l.return);break;case 3:if(Ma(i,l),c&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{S0(i,s)}catch(S){Ct(l,l.return,S)}}break;case 27:s===null&&c&4&&jE(l);case 26:case 5:Ma(i,l),s===null&&c&4&&UE(l),c&512&&Uu(l,l.return);break;case 12:Ma(i,l);break;case 13:Ma(i,l),c&4&&qE(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=Y2.bind(null,l),hI(i,l))));break;case 22:if(c=l.memoizedState!==null||Qi,!c){s=s!==null&&s.memoizedState!==null||Bt,m=Qi;var p=Bt;Qi=c,(Bt=s)&&!p?La(i,l,(l.subtreeFlags&8772)!==0):Ma(i,l),Qi=m,Bt=p}break;case 30:break;default:Ma(i,l)}}function BE(i){var s=i.alternate;s!==null&&(i.alternate=null,BE(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&we(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Dt=null,qn=!1;function Xi(i,s,l){for(l=l.child;l!==null;)HE(i,s,l),l=l.sibling}function HE(i,s,l){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(mt,l)}catch{}switch(l.tag){case 26:Bt||hi(l,s),Xi(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Bt||hi(l,s);var c=Dt,m=qn;Ba(l.type)&&(Dt=l.stateNode,qn=!1),Xi(i,s,l),Gu(l.stateNode),Dt=c,qn=m;break;case 5:Bt||hi(l,s);case 6:if(c=Dt,m=qn,Dt=null,Xi(i,s,l),Dt=c,qn=m,Dt!==null)if(qn)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(l.stateNode)}catch(p){Ct(l,s,p)}else try{Dt.removeChild(l.stateNode)}catch(p){Ct(l,s,p)}break;case 18:Dt!==null&&(qn?(i=Dt,D1(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),ec(i)):D1(Dt,l.stateNode));break;case 4:c=Dt,m=qn,Dt=l.stateNode.containerInfo,qn=!0,Xi(i,s,l),Dt=c,qn=m;break;case 0:case 11:case 14:case 15:Bt||ka(2,l,s),Bt||ka(4,l,s),Xi(i,s,l);break;case 1:Bt||(hi(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&LE(l,s,c)),Xi(i,s,l);break;case 21:Xi(i,s,l);break;case 22:Bt=(c=Bt)||l.memoizedState!==null,Xi(i,s,l),Bt=c;break;default:Xi(i,s,l)}}function qE(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ec(i)}catch(l){Ct(s,s.return,l)}}function z2(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new zE),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new zE),s;default:throw Error(r(435,i.tag))}}function jg(i,s){var l=z2(i);s.forEach(function(c){var m=Q2.bind(null,i,c);l.has(c)||(l.add(c),c.then(m,m))})}function tr(i,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],p=i,S=s,w=S;e:for(;w!==null;){switch(w.tag){case 27:if(Ba(w.type)){Dt=w.stateNode,qn=!1;break e}break;case 5:Dt=w.stateNode,qn=!1;break e;case 3:case 4:Dt=w.stateNode.containerInfo,qn=!0;break e}w=w.return}if(Dt===null)throw Error(r(160));HE(p,S,m),Dt=null,qn=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)$E(s,i),s=s.sibling}var Ur=null;function $E(i,s){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:tr(s,i),nr(i),c&4&&(ka(3,i,i.return),Lu(3,i),ka(5,i,i.return));break;case 1:tr(s,i),nr(i),c&512&&(Bt||l===null||hi(l,l.return)),c&64&&Qi&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=Ur;if(tr(s,i),nr(i),c&512&&(Bt||l===null||hi(l,l.return)),c&4){var p=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":p=m.getElementsByTagName("title")[0],(!p||p[ke]||p[oe]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(c),m.head.insertBefore(p,m.querySelector("head > title"))),_n(p,c,l),p[oe]=i,ot(p),c=p;break e;case"link":var S=j1("link","href",m).get(c+(l.href||""));if(S){for(var w=0;w<S.length;w++)if(p=S[w],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(w,1);break t}}p=m.createElement(c),_n(p,c,l),m.head.appendChild(p);break;case"meta":if(S=j1("meta","content",m).get(c+(l.content||""))){for(w=0;w<S.length;w++)if(p=S[w],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(w,1);break t}}p=m.createElement(c),_n(p,c,l),m.head.appendChild(p);break;default:throw Error(r(468,c))}p[oe]=i,ot(p),c=p}i.stateNode=c}else z1(m,i.type,i.stateNode);else i.stateNode=V1(m,c,i.memoizedProps);else p!==c?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,c===null?z1(m,i.type,i.stateNode):V1(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Mg(i,i.memoizedProps,l.memoizedProps)}break;case 27:tr(s,i),nr(i),c&512&&(Bt||l===null||hi(l,l.return)),l!==null&&c&4&&Mg(i,i.memoizedProps,l.memoizedProps);break;case 5:if(tr(s,i),nr(i),c&512&&(Bt||l===null||hi(l,l.return)),i.flags&32){m=i.stateNode;try{_r(m,"")}catch(ee){Ct(i,i.return,ee)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,Mg(i,m,l!==null?l.memoizedProps:m)),c&1024&&(Vg=!0);break;case 6:if(tr(s,i),nr(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(ee){Ct(i,i.return,ee)}}break;case 3:if(_h=null,m=Ur,Ur=yh(s.containerInfo),tr(s,i),Ur=m,nr(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{ec(s.containerInfo)}catch(ee){Ct(i,i.return,ee)}Vg&&(Vg=!1,GE(i));break;case 4:c=Ur,Ur=yh(i.stateNode.containerInfo),tr(s,i),nr(i),Ur=c;break;case 12:tr(s,i),nr(i);break;case 13:tr(s,i),nr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&($g=Ln()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,jg(i,c)));break;case 22:m=i.memoizedState!==null;var L=l!==null&&l.memoizedState!==null,Z=Qi,ae=Bt;if(Qi=Z||m,Bt=ae||L,tr(s,i),Bt=ae,Qi=Z,nr(i),c&8192)e:for(s=i.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(l===null||L||Qi||Bt||Js(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){L=l=s;try{if(p=L.stateNode,m)S=p.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{w=L.stateNode;var le=L.memoizedProps.style,J=le!=null&&le.hasOwnProperty("display")?le.display:null;w.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(ee){Ct(L,L.return,ee)}}}else if(s.tag===6){if(l===null){L=s;try{L.stateNode.nodeValue=m?"":L.memoizedProps}catch(ee){Ct(L,L.return,ee)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,jg(i,l))));break;case 19:tr(s,i),nr(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,jg(i,c)));break;case 30:break;case 21:break;default:tr(s,i),nr(i)}}function nr(i){var s=i.flags;if(s&2){try{for(var l,c=i.return;c!==null;){if(VE(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,p=Lg(i);ih(i,p,m);break;case 5:var S=l.stateNode;l.flags&32&&(_r(S,""),l.flags&=-33);var w=Lg(i);ih(i,w,S);break;case 3:case 4:var L=l.stateNode.containerInfo,Z=Lg(i);Ug(i,Z,L);break;default:throw Error(r(161))}}catch(ae){Ct(i,i.return,ae)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function GE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;GE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Ma(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)FE(i,s.alternate,s),s=s.sibling}function Js(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:ka(4,s,s.return),Js(s);break;case 1:hi(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&LE(s,s.return,l),Js(s);break;case 27:Gu(s.stateNode);case 26:case 5:hi(s,s.return),Js(s);break;case 22:s.memoizedState===null&&Js(s);break;case 30:Js(s);break;default:Js(s)}i=i.sibling}}function La(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,m=i,p=s,S=p.flags;switch(p.tag){case 0:case 11:case 15:La(m,p,l),Lu(4,p);break;case 1:if(La(m,p,l),c=p,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Z){Ct(c,c.return,Z)}if(c=p,m=c.updateQueue,m!==null){var w=c.stateNode;try{var L=m.shared.hiddenCallbacks;if(L!==null)for(m.shared.hiddenCallbacks=null,m=0;m<L.length;m++)b0(L[m],w)}catch(Z){Ct(c,c.return,Z)}}l&&S&64&&ME(p),Uu(p,p.return);break;case 27:jE(p);case 26:case 5:La(m,p,l),l&&c===null&&S&4&&UE(p),Uu(p,p.return);break;case 12:La(m,p,l);break;case 13:La(m,p,l),l&&S&4&&qE(m,p);break;case 22:p.memoizedState===null&&La(m,p,l),Uu(p,p.return);break;case 30:break;default:La(m,p,l)}s=s.sibling}}function zg(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Su(l))}function Fg(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Su(i))}function di(i,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)KE(i,s,l,c),s=s.sibling}function KE(i,s,l,c){var m=s.flags;switch(s.tag){case 0:case 11:case 15:di(i,s,l,c),m&2048&&Lu(9,s);break;case 1:di(i,s,l,c);break;case 3:di(i,s,l,c),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Su(i)));break;case 12:if(m&2048){di(i,s,l,c),i=s.stateNode;try{var p=s.memoizedProps,S=p.id,w=p.onPostCommit;typeof w=="function"&&w(S,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(L){Ct(s,s.return,L)}}else di(i,s,l,c);break;case 13:di(i,s,l,c);break;case 23:break;case 22:p=s.stateNode,S=s.alternate,s.memoizedState!==null?p._visibility&2?di(i,s,l,c):Vu(i,s):p._visibility&2?di(i,s,l,c):(p._visibility|=2,rl(i,s,l,c,(s.subtreeFlags&10256)!==0)),m&2048&&zg(S,s);break;case 24:di(i,s,l,c),m&2048&&Fg(s.alternate,s);break;default:di(i,s,l,c)}}function rl(i,s,l,c,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var p=i,S=s,w=l,L=c,Z=S.flags;switch(S.tag){case 0:case 11:case 15:rl(p,S,w,L,m),Lu(8,S);break;case 23:break;case 22:var ae=S.stateNode;S.memoizedState!==null?ae._visibility&2?rl(p,S,w,L,m):Vu(p,S):(ae._visibility|=2,rl(p,S,w,L,m)),m&&Z&2048&&zg(S.alternate,S);break;case 24:rl(p,S,w,L,m),m&&Z&2048&&Fg(S.alternate,S);break;default:rl(p,S,w,L,m)}s=s.sibling}}function Vu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,c=s,m=c.flags;switch(c.tag){case 22:Vu(l,c),m&2048&&zg(c.alternate,c);break;case 24:Vu(l,c),m&2048&&Fg(c.alternate,c);break;default:Vu(l,c)}s=s.sibling}}var ju=8192;function il(i){if(i.subtreeFlags&ju)for(i=i.child;i!==null;)YE(i),i=i.sibling}function YE(i){switch(i.tag){case 26:il(i),i.flags&ju&&i.memoizedState!==null&&AI(Ur,i.memoizedState,i.memoizedProps);break;case 5:il(i);break;case 3:case 4:var s=Ur;Ur=yh(i.stateNode.containerInfo),il(i),Ur=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=ju,ju=16777216,il(i),ju=s):il(i));break;default:il(i)}}function QE(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function zu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];fn=c,WE(c,i)}QE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)XE(i),i=i.sibling}function XE(i){switch(i.tag){case 0:case 11:case 15:zu(i),i.flags&2048&&ka(9,i,i.return);break;case 3:zu(i);break;case 12:zu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,ah(i)):zu(i);break;default:zu(i)}}function ah(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];fn=c,WE(c,i)}QE(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:ka(8,s,s.return),ah(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,ah(s));break;default:ah(s)}i=i.sibling}}function WE(i,s){for(;fn!==null;){var l=fn;switch(l.tag){case 0:case 11:case 15:ka(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Su(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,fn=c;else e:for(l=i;fn!==null;){c=fn;var m=c.sibling,p=c.return;if(BE(c),c===l){fn=null;break e}if(m!==null){m.return=p,fn=m;break e}fn=p}}}var F2={getCacheForType:function(i){var s=xn(nn),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l}},B2=typeof WeakMap=="function"?WeakMap:Map,_t=0,xt=null,tt=null,ct=0,Et=0,rr=null,Ua=!1,al=!1,Bg=!1,Wi=0,jt=0,Va=0,eo=0,Hg=0,xr=0,sl=0,Fu=null,$n=null,qg=!1,$g=0,sh=1/0,oh=null,ja=null,vn=0,za=null,ol=null,ll=0,Gg=0,Kg=null,ZE=null,Bu=0,Yg=null;function ir(){if((_t&2)!==0&&ct!==0)return ct&-ct;if(W.T!==null){var i=Qo;return i!==0?i:tp()}return z()}function JE(){xr===0&&(xr=(ct&536870912)===0||gt?Di():536870912);var i=Cr.current;return i!==null&&(i.flags|=32),xr}function ar(i,s,l){(i===xt&&(Et===2||Et===9)||i.cancelPendingCommit!==null)&&(ul(i,0),Fa(i,ct,xr,!1)),kr(i,l),((_t&2)===0||i!==xt)&&(i===xt&&((_t&2)===0&&(eo|=l),jt===4&&Fa(i,ct,xr,!1)),mi(i))}function e1(i,s,l){if((_t&6)!==0)throw Error(r(327));var c=!l&&(s&124)===0&&(s&i.expiredLanes)===0||gr(i,s),m=c?$2(i,s):Wg(i,s,!0),p=c;do{if(m===0){al&&!c&&Fa(i,s,0,!1);break}else{if(l=i.current.alternate,p&&!H2(l)){m=Wg(i,s,!1),p=!1;continue}if(m===2){if(p=s,i.errorRecoveryDisabledLanes&p)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var w=i;m=Fu;var L=w.current.memoizedState.isDehydrated;if(L&&(ul(w,S).flags|=256),S=Wg(w,S,!1),S!==2){if(Bg&&!L){w.errorRecoveryDisabledLanes|=p,eo|=p,m=4;break e}p=$n,$n=m,p!==null&&($n===null?$n=p:$n.push.apply($n,p))}m=S}if(p=!1,m!==2)continue}}if(m===1){ul(i,0),Fa(i,s,0,!0);break}e:{switch(c=i,p=m,p){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Fa(c,s,xr,!Ua);break e;case 2:$n=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(m=$g+300-Ln(),10<m)){if(Fa(c,s,xr,!Ua),Oi(c,0,!0)!==0)break e;c.timeoutHandle=I1(t1.bind(null,c,l,$n,oh,qg,s,xr,eo,sl,Ua,p,2,-0,0),m);break e}t1(c,l,$n,oh,qg,s,xr,eo,sl,Ua,p,0,-0,0)}}break}while(!0);mi(i)}function t1(i,s,l,c,m,p,S,w,L,Z,ae,le,J,ee){if(i.timeoutHandle=-1,le=s.subtreeFlags,(le&8192||(le&16785408)===16785408)&&(Qu={stylesheets:null,count:0,unsuspend:wI},YE(s),le=RI(),le!==null)){i.cancelPendingCommit=le(l1.bind(null,i,s,p,l,c,m,S,w,L,ae,1,J,ee)),Fa(i,p,S,!Z);return}l1(i,s,p,l,c,m,S,w,L)}function H2(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],p=m.getSnapshot;m=m.value;try{if(!Jn(p(),m))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Fa(i,s,l,c){s&=~Hg,s&=~eo,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var m=s;0<m;){var p=31-Kt(m),S=1<<p;c[p]=-1,m&=~S}l!==0&&Un(i,l,s)}function lh(){return(_t&6)===0?(Hu(0),!1):!0}function Qg(){if(tt!==null){if(Et===0)var i=tt.return;else i=tt,Hi=Ys=null,hg(i),tl=null,Pu=0,i=tt;for(;i!==null;)kE(i.alternate,i),i=i.return;tt=null}}function ul(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,oI(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Qg(),xt=i,tt=l=zi(i.current,null),ct=s,Et=0,rr=null,Ua=!1,al=gr(i,s),Bg=!1,sl=xr=Hg=eo=Va=jt=0,$n=Fu=null,qg=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var m=31-Kt(c),p=1<<m;s|=i[m],c&=~p}return Wi=s,Of(),l}function n1(i,s){Qe=null,W.H=Qf,s===wu||s===jf?(s=_0(),Et=3):s===p0?(s=_0(),Et=4):Et=s===EE?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,rr=s,tt===null&&(jt=1,eh(i,Tr(s,i.current)))}function r1(){var i=W.H;return W.H=Qf,i===null?Qf:i}function i1(){var i=W.A;return W.A=F2,i}function Xg(){jt=4,Ua||(ct&4194048)!==ct&&Cr.current!==null||(al=!0),(Va&134217727)===0&&(eo&134217727)===0||xt===null||Fa(xt,ct,xr,!1)}function Wg(i,s,l){var c=_t;_t|=2;var m=r1(),p=i1();(xt!==i||ct!==s)&&(oh=null,ul(i,s)),s=!1;var S=jt;e:do try{if(Et!==0&&tt!==null){var w=tt,L=rr;switch(Et){case 8:Qg(),S=6;break e;case 3:case 2:case 9:case 6:Cr.current===null&&(s=!0);var Z=Et;if(Et=0,rr=null,cl(i,w,L,Z),l&&al){S=0;break e}break;default:Z=Et,Et=0,rr=null,cl(i,w,L,Z)}}q2(),S=jt;break}catch(ae){n1(i,ae)}while(!0);return s&&i.shellSuspendCounter++,Hi=Ys=null,_t=c,W.H=m,W.A=p,tt===null&&(xt=null,ct=0,Of()),S}function q2(){for(;tt!==null;)a1(tt)}function $2(i,s){var l=_t;_t|=2;var c=r1(),m=i1();xt!==i||ct!==s?(oh=null,sh=Ln()+500,ul(i,s)):al=gr(i,s);e:do try{if(Et!==0&&tt!==null){s=tt;var p=rr;t:switch(Et){case 1:Et=0,rr=null,cl(i,s,p,1);break;case 2:case 9:if(y0(p)){Et=0,rr=null,s1(s);break}s=function(){Et!==2&&Et!==9||xt!==i||(Et=7),mi(i)},p.then(s,s);break e;case 3:Et=7;break e;case 4:Et=5;break e;case 7:y0(p)?(Et=0,rr=null,s1(s)):(Et=0,rr=null,cl(i,s,p,7));break;case 5:var S=null;switch(tt.tag){case 26:S=tt.memoizedState;case 5:case 27:var w=tt;if(!S||F1(S)){Et=0,rr=null;var L=w.sibling;if(L!==null)tt=L;else{var Z=w.return;Z!==null?(tt=Z,uh(Z)):tt=null}break t}}Et=0,rr=null,cl(i,s,p,5);break;case 6:Et=0,rr=null,cl(i,s,p,6);break;case 8:Qg(),jt=6;break e;default:throw Error(r(462))}}G2();break}catch(ae){n1(i,ae)}while(!0);return Hi=Ys=null,W.H=c,W.A=m,_t=l,tt!==null?0:(xt=null,ct=0,Of(),jt)}function G2(){for(;tt!==null&&!Cs();)a1(tt)}function a1(i){var s=NE(i.alternate,i,Wi);i.memoizedProps=i.pendingProps,s===null?uh(i):tt=s}function s1(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=RE(l,s,s.pendingProps,s.type,void 0,ct);break;case 11:s=RE(l,s,s.pendingProps,s.type.render,s.ref,ct);break;case 5:hg(s);default:kE(l,s),s=tt=o0(s,Wi),s=NE(l,s,Wi)}i.memoizedProps=i.pendingProps,s===null?uh(i):tt=s}function cl(i,s,l,c){Hi=Ys=null,hg(s),tl=null,Pu=0;var m=s.return;try{if(M2(i,m,s,l,ct)){jt=1,eh(i,Tr(l,i.current)),tt=null;return}}catch(p){if(m!==null)throw tt=m,p;jt=1,eh(i,Tr(l,i.current)),tt=null;return}s.flags&32768?(gt||c===1?i=!0:al||(ct&536870912)!==0?i=!1:(Ua=i=!0,(c===2||c===9||c===3||c===6)&&(c=Cr.current,c!==null&&c.tag===13&&(c.flags|=16384))),o1(s,i)):uh(s)}function uh(i){var s=i;do{if((s.flags&32768)!==0){o1(s,Ua);return}i=s.return;var l=U2(s.alternate,s,Wi);if(l!==null){tt=l;return}if(s=s.sibling,s!==null){tt=s;return}tt=s=i}while(s!==null);jt===0&&(jt=5)}function o1(i,s){do{var l=V2(i.alternate,i);if(l!==null){l.flags&=32767,tt=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){tt=i;return}tt=i=l}while(i!==null);jt=6,tt=null}function l1(i,s,l,c,m,p,S,w,L){i.cancelPendingCommit=null;do ch();while(vn!==0);if((_t&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(p=s.lanes|s.childLanes,p|=Fm,Sa(i,l,p,S,w,L),i===xt&&(tt=xt=null,ct=0),ol=s,za=i,ll=l,Gg=p,Kg=m,ZE=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,X2(Ii,function(){return d1(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=W.T,W.T=null,m=fe.p,fe.p=2,S=_t,_t|=4;try{j2(i,s,l)}finally{_t=S,fe.p=m,W.T=c}}vn=1,u1(),c1(),f1()}}function u1(){if(vn===1){vn=0;var i=za,s=ol,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=W.T,W.T=null;var c=fe.p;fe.p=2;var m=_t;_t|=4;try{$E(s,i);var p=up,S=W_(i.containerInfo),w=p.focusedElem,L=p.selectionRange;if(S!==w&&w&&w.ownerDocument&&X_(w.ownerDocument.documentElement,w)){if(L!==null&&Lm(w)){var Z=L.start,ae=L.end;if(ae===void 0&&(ae=Z),"selectionStart"in w)w.selectionStart=Z,w.selectionEnd=Math.min(ae,w.value.length);else{var le=w.ownerDocument||document,J=le&&le.defaultView||window;if(J.getSelection){var ee=J.getSelection(),ze=w.textContent.length,Me=Math.min(L.start,ze),At=L.end===void 0?Me:Math.min(L.end,ze);!ee.extend&&Me>At&&(S=At,At=Me,Me=S);var q=Q_(w,Me),B=Q_(w,At);if(q&&B&&(ee.rangeCount!==1||ee.anchorNode!==q.node||ee.anchorOffset!==q.offset||ee.focusNode!==B.node||ee.focusOffset!==B.offset)){var Q=le.createRange();Q.setStart(q.node,q.offset),ee.removeAllRanges(),Me>At?(ee.addRange(Q),ee.extend(B.node,B.offset)):(Q.setEnd(B.node,B.offset),ee.addRange(Q))}}}}for(le=[],ee=w;ee=ee.parentNode;)ee.nodeType===1&&le.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<le.length;w++){var se=le[w];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Sh=!!lp,up=lp=null}finally{_t=m,fe.p=c,W.T=l}}i.current=s,vn=2}}function c1(){if(vn===2){vn=0;var i=za,s=ol,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=W.T,W.T=null;var c=fe.p;fe.p=2;var m=_t;_t|=4;try{FE(i,s.alternate,s)}finally{_t=m,fe.p=c,W.T=l}}vn=3}}function f1(){if(vn===4||vn===3){vn=0,Oo();var i=za,s=ol,l=ll,c=ZE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?vn=5:(vn=0,ol=za=null,h1(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(ja=null),Ta(l),s=s.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(mt,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=W.T,m=fe.p,fe.p=2,W.T=null;try{for(var p=i.onRecoverableError,S=0;S<c.length;S++){var w=c[S];p(w.value,{componentStack:w.stack})}}finally{W.T=s,fe.p=m}}(ll&3)!==0&&ch(),mi(i),m=i.pendingLanes,(l&4194090)!==0&&(m&42)!==0?i===Yg?Bu++:(Bu=0,Yg=i):Bu=0,Hu(0)}}function h1(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Su(s)))}function ch(i){return u1(),c1(),f1(),d1()}function d1(){if(vn!==5)return!1;var i=za,s=Gg;Gg=0;var l=Ta(ll),c=W.T,m=fe.p;try{fe.p=32>l?32:l,W.T=null,l=Kg,Kg=null;var p=za,S=ll;if(vn=0,ol=za=null,ll=0,(_t&6)!==0)throw Error(r(331));var w=_t;if(_t|=4,XE(p.current),KE(p,p.current,S,l),_t=w,Hu(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(mt,p)}catch{}return!0}finally{fe.p=m,W.T=c,h1(i,s)}}function m1(i,s,l){s=Tr(l,s),s=Rg(i.stateNode,s,2),i=Oa(i,s,2),i!==null&&(kr(i,2),mi(i))}function Ct(i,s,l){if(i.tag===3)m1(i,i,l);else for(;s!==null;){if(s.tag===3){m1(s,i,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ja===null||!ja.has(c))){i=Tr(l,i),l=vE(2),c=Oa(s,l,2),c!==null&&(_E(l,c,s,i),kr(c,2),mi(c));break}}s=s.return}}function Zg(i,s,l){var c=i.pingCache;if(c===null){c=i.pingCache=new B2;var m=new Set;c.set(s,m)}else m=c.get(s),m===void 0&&(m=new Set,c.set(s,m));m.has(l)||(Bg=!0,m.add(l),i=K2.bind(null,i,s,l),s.then(i,i))}function K2(i,s,l){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,xt===i&&(ct&l)===l&&(jt===4||jt===3&&(ct&62914560)===ct&&300>Ln()-$g?(_t&2)===0&&ul(i,0):Hg|=l,sl===ct&&(sl=0)),mi(i)}function g1(i,s){s===0&&(s=Is()),i=$o(i,s),i!==null&&(kr(i,s),mi(i))}function Y2(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),g1(i,l)}function Q2(i,s){var l=0;switch(i.tag){case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),g1(i,l)}function X2(i,s){return xi(i,s)}var fh=null,fl=null,Jg=!1,hh=!1,ep=!1,to=0;function mi(i){i!==fl&&i.next===null&&(fl===null?fh=fl=i:fl=fl.next=i),hh=!0,Jg||(Jg=!0,Z2())}function Hu(i,s){if(!ep&&hh){ep=!0;do for(var l=!1,c=fh;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var p=0;else{var S=c.suspendedLanes,w=c.pingedLanes;p=(1<<31-Kt(42|i)+1)-1,p&=m&~(S&~w),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,_1(c,p))}else p=ct,p=Oi(c,c===xt?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||gr(c,p)||(l=!0,_1(c,p));c=c.next}while(l);ep=!1}}function W2(){p1()}function p1(){hh=Jg=!1;var i=0;to!==0&&(sI()&&(i=to),to=0);for(var s=Ln(),l=null,c=fh;c!==null;){var m=c.next,p=y1(c,s);p===0?(c.next=null,l===null?fh=m:l.next=m,m===null&&(fl=l)):(l=c,(i!==0||(p&3)!==0)&&(hh=!0)),c=m}Hu(i)}function y1(i,s){for(var l=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var S=31-Kt(p),w=1<<S,L=m[S];L===-1?((w&l)===0||(w&c)!==0)&&(m[S]=ba(w,s)):L<=s&&(i.expiredLanes|=w),p&=~w}if(s=xt,l=ct,l=Oi(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===s&&(Et===2||Et===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Mn(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||gr(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(c!==null&&Mn(c),Ta(l)){case 2:case 8:l=va;break;case 32:l=Ii;break;case 268435456:l=dr;break;default:l=Ii}return c=v1.bind(null,i),l=xi(l,c),i.callbackPriority=s,i.callbackNode=l,s}return c!==null&&c!==null&&Mn(c),i.callbackPriority=2,i.callbackNode=null,2}function v1(i,s){if(vn!==0&&vn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(ch()&&i.callbackNode!==l)return null;var c=ct;return c=Oi(i,i===xt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(e1(i,c,s),y1(i,Ln()),i.callbackNode!=null&&i.callbackNode===l?v1.bind(null,i):null)}function _1(i,s){if(ch())return null;e1(i,s,!0)}function Z2(){lI(function(){(_t&6)!==0?xi(xs,W2):p1()})}function tp(){return to===0&&(to=Di()),to}function E1(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Po(""+i)}function b1(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function J2(i,s,l,c,m){if(s==="submit"&&l&&l.stateNode===m){var p=E1((m[me]||null).action),S=c.submitter;S&&(s=(s=S[me]||null)?E1(s.formAction):S.getAttribute("formAction"),s!==null&&(p=s,S=null));var w=new ko("action","action",null,c,m);i.push({event:w,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(to!==0){var L=S?b1(m,S):new FormData(m);bg(l,{pending:!0,data:L,method:m.method,action:p},null,L)}}else typeof p=="function"&&(w.preventDefault(),L=S?b1(m,S):new FormData(m),bg(l,{pending:!0,data:L,method:m.method,action:p},p,L))},currentTarget:m}]})}}for(var np=0;np<zm.length;np++){var rp=zm[np],eI=rp.toLowerCase(),tI=rp[0].toUpperCase()+rp.slice(1);Lr(eI,"on"+tI)}Lr(e0,"onAnimationEnd"),Lr(t0,"onAnimationIteration"),Lr(n0,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(v2,"onTransitionRun"),Lr(_2,"onTransitionStart"),Lr(E2,"onTransitionCancel"),Lr(r0,"onTransitionEnd"),Vn("onMouseEnter",["mouseout","mouseover"]),Vn("onMouseLeave",["mouseout","mouseover"]),Vn("onPointerEnter",["pointerout","pointerover"]),Vn("onPointerLeave",["pointerout","pointerover"]),Jt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qu));function S1(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],m=c.event;c=c.listeners;e:{var p=void 0;if(s)for(var S=c.length-1;0<=S;S--){var w=c[S],L=w.instance,Z=w.currentTarget;if(w=w.listener,L!==p&&m.isPropagationStopped())break e;p=w,m.currentTarget=Z;try{p(m)}catch(ae){Jf(ae)}m.currentTarget=null,p=L}else for(S=0;S<c.length;S++){if(w=c[S],L=w.instance,Z=w.currentTarget,w=w.listener,L!==p&&m.isPropagationStopped())break e;p=w,m.currentTarget=Z;try{p(m)}catch(ae){Jf(ae)}m.currentTarget=null,p=L}}}}function nt(i,s){var l=s[De];l===void 0&&(l=s[De]=new Set);var c=i+"__bubble";l.has(c)||(T1(s,i,2,!1),l.add(c))}function ip(i,s,l){var c=0;s&&(c|=4),T1(l,i,c,s)}var dh="_reactListening"+Math.random().toString(36).slice(2);function ap(i){if(!i[dh]){i[dh]=!0,We.forEach(function(l){l!=="selectionchange"&&(nI.has(l)||ip(l,!1,i),ip(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[dh]||(s[dh]=!0,ip("selectionchange",!1,s))}}function T1(i,s,l,c){switch(K1(s)){case 2:var m=II;break;case 8:m=OI;break;default:m=_p}l=m.bind(null,s,l,i),m=void 0,!br||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(s,l,{capture:!0,passive:m}):i.addEventListener(s,l,!0):m!==void 0?i.addEventListener(s,l,{passive:m}):i.addEventListener(s,l,!1)}function sp(i,s,l,c,m){var p=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var S=c.tag;if(S===3||S===4){var w=c.stateNode.containerInfo;if(w===m)break;if(S===4)for(S=c.return;S!==null;){var L=S.tag;if((L===3||L===4)&&S.stateNode.containerInfo===m)return;S=S.return}for(;w!==null;){if(S=Le(w),S===null)return;if(L=S.tag,L===5||L===6||L===26||L===27){c=p=S;continue e}w=w.parentNode}}c=c.return}gf(function(){var Z=p,ae=Er(l),le=[];e:{var J=i0.get(i);if(J!==void 0){var ee=ko,ze=i;switch(i){case"keypress":if(ai(l)===0)break e;case"keydown":case"keyup":ee=zo;break;case"focusin":ze="focus",ee=Uo;break;case"focusout":ze="blur",ee=Uo;break;case"beforeblur":case"afterblur":ee=Uo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Sr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Nm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=Tf;break;case e0:case t0:case n0:ee=Vo;break;case r0:ee=Af;break;case"scroll":case"scrollend":ee=pf;break;case"wheel":ee=Fo;break;case"copy":case"cut":case"paste":ee=jo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=mu;break;case"toggle":case"beforetoggle":ee=Cf}var Me=(s&4)!==0,At=!Me&&(i==="scroll"||i==="scrollend"),q=Me?J!==null?J+"Capture":null:J;Me=[];for(var B=Z,Q;B!==null;){var se=B;if(Q=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Q===null||q===null||(se=ks(B,q),se!=null&&Me.push($u(B,se,Q))),At)break;B=B.return}0<Me.length&&(J=new ee(J,ze,null,l,ae),le.push({event:J,listeners:Me}))}}if((s&7)===0){e:{if(J=i==="mouseover"||i==="pointerover",ee=i==="mouseout"||i==="pointerout",J&&l!==ki&&(ze=l.relatedTarget||l.fromElement)&&(Le(ze)||ze[ve]))break e;if((ee||J)&&(J=ae.window===ae?ae:(J=ae.ownerDocument)?J.defaultView||J.parentWindow:window,ee?(ze=l.relatedTarget||l.toElement,ee=Z,ze=ze?Le(ze):null,ze!==null&&(At=o(ze),Me=ze.tag,ze!==At||Me!==5&&Me!==27&&Me!==6)&&(ze=null)):(ee=null,ze=Z),ee!==ze)){if(Me=Sr,se="onMouseLeave",q="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(Me=mu,se="onPointerLeave",q="onPointerEnter",B="pointer"),At=ee==null?J:pt(ee),Q=ze==null?J:pt(ze),J=new Me(se,B+"leave",ee,l,ae),J.target=At,J.relatedTarget=Q,se=null,Le(ae)===Z&&(Me=new Me(q,B+"enter",ze,l,ae),Me.target=Q,Me.relatedTarget=At,se=Me),At=se,ee&&ze)t:{for(Me=ee,q=ze,B=0,Q=Me;Q;Q=hl(Q))B++;for(Q=0,se=q;se;se=hl(se))Q++;for(;0<B-Q;)Me=hl(Me),B--;for(;0<Q-B;)q=hl(q),Q--;for(;B--;){if(Me===q||q!==null&&Me===q.alternate)break t;Me=hl(Me),q=hl(q)}Me=null}else Me=null;ee!==null&&w1(le,J,ee,Me,!1),ze!==null&&At!==null&&w1(le,At,ze,Me,!0)}}e:{if(J=Z?pt(Z):window,ee=J.nodeName&&J.nodeName.toLowerCase(),ee==="select"||ee==="input"&&J.type==="file")var Se=H_;else if(tn(J))if(q_)Se=g2;else{Se=d2;var Ze=h2}else ee=J.nodeName,!ee||ee.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Z&&ou(Z.elementType)&&(Se=H_):Se=m2;if(Se&&(Se=Se(i,Z))){ji(le,Se,l,ae);break e}Ze&&Ze(i,J,Z),i==="focusout"&&Z&&J.type==="number"&&Z.memoizedProps.value!=null&&Aa(J,"number",J.value)}switch(Ze=Z?pt(Z):window,i){case"focusin":(tn(Ze)||Ze.contentEditable==="true")&&(Bo=Ze,Um=Z,yu=null);break;case"focusout":yu=Um=Bo=null;break;case"mousedown":Vm=!0;break;case"contextmenu":case"mouseup":case"dragend":Vm=!1,Z_(le,l,ae);break;case"selectionchange":if(y2)break;case"keydown":case"keyup":Z_(le,l,ae)}var xe;if(li)e:{switch(i){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else lt?ne(i,l)&&(Ue="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ue="onCompositionStart");Ue&&(b&&l.locale!=="ko"&&(lt||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&lt&&(xe=uu()):(ii=ae,Ra="value"in ii?ii.value:ii.textContent,lt=!0)),Ze=mh(Z,Ue),0<Ze.length&&(Ue=new hu(Ue,i,null,l,ae),le.push({event:Ue,listeners:Ze}),xe?Ue.data=xe:(xe=pe(l),xe!==null&&(Ue.data=xe)))),(xe=v?en(i,l):ut(i,l))&&(Ue=mh(Z,"onBeforeInput"),0<Ue.length&&(Ze=new hu("onBeforeInput","beforeinput",null,l,ae),le.push({event:Ze,listeners:Ue}),Ze.data=xe)),J2(le,i,Z,l,ae)}S1(le,s)})}function $u(i,s,l){return{instance:i,listener:s,currentTarget:l}}function mh(i,s){for(var l=s+"Capture",c=[];i!==null;){var m=i,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=ks(i,l),m!=null&&c.unshift($u(i,m,p)),m=ks(i,s),m!=null&&c.push($u(i,m,p))),i.tag===3)return c;i=i.return}return[]}function hl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function w1(i,s,l,c,m){for(var p=s._reactName,S=[];l!==null&&l!==c;){var w=l,L=w.alternate,Z=w.stateNode;if(w=w.tag,L!==null&&L===c)break;w!==5&&w!==26&&w!==27||Z===null||(L=Z,m?(Z=ks(l,p),Z!=null&&S.unshift($u(l,Z,L))):m||(Z=ks(l,p),Z!=null&&S.push($u(l,Z,L)))),l=l.return}S.length!==0&&i.push({event:s,listeners:S})}var rI=/\r\n?/g,iI=/\u0000|\uFFFD/g;function A1(i){return(typeof i=="string"?i:""+i).replace(rI,`
`).replace(iI,"")}function R1(i,s){return s=A1(s),A1(i)===s}function gh(){}function wt(i,s,l,c,m,p){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||_r(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&_r(i,""+c);break;case"className":jn(i,"class",c);break;case"tabIndex":jn(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(i,l,c);break;case"style":su(i,c,p);break;case"data":if(s!=="object"){jn(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Po(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(s!=="input"&&wt(i,s,"name",m.name,m,null),wt(i,s,"formEncType",m.formEncType,m,null),wt(i,s,"formMethod",m.formMethod,m,null),wt(i,s,"formTarget",m.formTarget,m,null)):(wt(i,s,"encType",m.encType,m,null),wt(i,s,"method",m.method,m,null),wt(i,s,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Po(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=gh);break;case"onScroll":c!=null&&nt("scroll",i);break;case"onScrollEnd":c!=null&&nt("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=Po(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":nt("beforetoggle",i),nt("toggle",i),Cn(i,"popover",c);break;case"xlinkActuate":He(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":He(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":He(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":He(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":He(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":He(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":He(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":He(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":He(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Cn(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Om.get(l)||l,Cn(i,l,c))}}function op(i,s,l,c,m,p){switch(l){case"style":su(i,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?_r(i,c):(typeof c=="number"||typeof c=="bigint")&&_r(i,""+c);break;case"onScroll":c!=null&&nt("scroll",i);break;case"onScrollEnd":c!=null&&nt("scrollend",i);break;case"onClick":c!=null&&(i.onclick=gh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),s=l.slice(2,m?l.length-7:void 0),p=i[me]||null,p=p!=null?p[l]:null,typeof p=="function"&&i.removeEventListener(s,p,m),typeof c=="function")){typeof p!="function"&&p!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,c,m);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):Cn(i,l,c)}}}function _n(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",i),nt("load",i);var c=!1,m=!1,p;for(p in l)if(l.hasOwnProperty(p)){var S=l[p];if(S!=null)switch(p){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:wt(i,s,p,S,l,null)}}m&&wt(i,s,"srcSet",l.srcSet,l,null),c&&wt(i,s,"src",l.src,l,null);return;case"input":nt("invalid",i);var w=p=S=m=null,L=null,Z=null;for(c in l)if(l.hasOwnProperty(c)){var ae=l[c];if(ae!=null)switch(c){case"name":m=ae;break;case"type":S=ae;break;case"checked":L=ae;break;case"defaultChecked":Z=ae;break;case"value":p=ae;break;case"defaultValue":w=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,s));break;default:wt(i,s,c,ae,l,null)}}Ds(i,p,w,L,Z,S,m,!1),No(i);return;case"select":nt("invalid",i),c=S=p=null;for(m in l)if(l.hasOwnProperty(m)&&(w=l[m],w!=null))switch(m){case"value":p=w;break;case"defaultValue":S=w;break;case"multiple":c=w;default:wt(i,s,m,w,l,null)}s=p,l=S,i.multiple=!!c,s!=null?Pi(i,!!c,s,!1):l!=null&&Pi(i,!!c,l,!0);return;case"textarea":nt("invalid",i),p=m=c=null;for(S in l)if(l.hasOwnProperty(S)&&(w=l[S],w!=null))switch(S){case"value":c=w;break;case"defaultValue":m=w;break;case"children":p=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:wt(i,s,S,w,l,null)}Ns(i,c,m,p),No(i);return;case"option":for(L in l)if(l.hasOwnProperty(L)&&(c=l[L],c!=null))switch(L){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:wt(i,s,L,c,l,null)}return;case"dialog":nt("beforetoggle",i),nt("toggle",i),nt("cancel",i),nt("close",i);break;case"iframe":case"object":nt("load",i);break;case"video":case"audio":for(c=0;c<qu.length;c++)nt(qu[c],i);break;case"image":nt("error",i),nt("load",i);break;case"details":nt("toggle",i);break;case"embed":case"source":case"link":nt("error",i),nt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in l)if(l.hasOwnProperty(Z)&&(c=l[Z],c!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:wt(i,s,Z,c,l,null)}return;default:if(ou(s)){for(ae in l)l.hasOwnProperty(ae)&&(c=l[ae],c!==void 0&&op(i,s,ae,c,l,void 0));return}}for(w in l)l.hasOwnProperty(w)&&(c=l[w],c!=null&&wt(i,s,w,c,l,null))}function aI(i,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,S=null,w=null,L=null,Z=null,ae=null;for(ee in l){var le=l[ee];if(l.hasOwnProperty(ee)&&le!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":L=le;default:c.hasOwnProperty(ee)||wt(i,s,ee,null,c,le)}}for(var J in c){var ee=c[J];if(le=l[J],c.hasOwnProperty(J)&&(ee!=null||le!=null))switch(J){case"type":p=ee;break;case"name":m=ee;break;case"checked":Z=ee;break;case"defaultChecked":ae=ee;break;case"value":S=ee;break;case"defaultValue":w=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,s));break;default:ee!==le&&wt(i,s,J,ee,c,le)}}Zn(i,S,w,L,Z,ae,p,m);return;case"select":ee=S=w=J=null;for(p in l)if(L=l[p],l.hasOwnProperty(p)&&L!=null)switch(p){case"value":break;case"multiple":ee=L;default:c.hasOwnProperty(p)||wt(i,s,p,null,c,L)}for(m in c)if(p=c[m],L=l[m],c.hasOwnProperty(m)&&(p!=null||L!=null))switch(m){case"value":J=p;break;case"defaultValue":w=p;break;case"multiple":S=p;default:p!==L&&wt(i,s,m,p,c,L)}s=w,l=S,c=ee,J!=null?Pi(i,!!l,J,!1):!!c!=!!l&&(s!=null?Pi(i,!!l,s,!0):Pi(i,!!l,l?[]:"",!1));return;case"textarea":ee=J=null;for(w in l)if(m=l[w],l.hasOwnProperty(w)&&m!=null&&!c.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:wt(i,s,w,null,c,m)}for(S in c)if(m=c[S],p=l[S],c.hasOwnProperty(S)&&(m!=null||p!=null))switch(S){case"value":J=m;break;case"defaultValue":ee=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==p&&wt(i,s,S,m,c,p)}St(i,J,ee);return;case"option":for(var ze in l)if(J=l[ze],l.hasOwnProperty(ze)&&J!=null&&!c.hasOwnProperty(ze))switch(ze){case"selected":i.selected=!1;break;default:wt(i,s,ze,null,c,J)}for(L in c)if(J=c[L],ee=l[L],c.hasOwnProperty(L)&&J!==ee&&(J!=null||ee!=null))switch(L){case"selected":i.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:wt(i,s,L,J,c,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in l)J=l[Me],l.hasOwnProperty(Me)&&J!=null&&!c.hasOwnProperty(Me)&&wt(i,s,Me,null,c,J);for(Z in c)if(J=c[Z],ee=l[Z],c.hasOwnProperty(Z)&&J!==ee&&(J!=null||ee!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:wt(i,s,Z,J,c,ee)}return;default:if(ou(s)){for(var At in l)J=l[At],l.hasOwnProperty(At)&&J!==void 0&&!c.hasOwnProperty(At)&&op(i,s,At,void 0,c,J);for(ae in c)J=c[ae],ee=l[ae],!c.hasOwnProperty(ae)||J===ee||J===void 0&&ee===void 0||op(i,s,ae,J,c,ee);return}}for(var q in l)J=l[q],l.hasOwnProperty(q)&&J!=null&&!c.hasOwnProperty(q)&&wt(i,s,q,null,c,J);for(le in c)J=c[le],ee=l[le],!c.hasOwnProperty(le)||J===ee||J==null&&ee==null||wt(i,s,le,J,c,ee)}var lp=null,up=null;function ph(i){return i.nodeType===9?i:i.ownerDocument}function C1(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x1(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function cp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var fp=null;function sI(){var i=window.event;return i&&i.type==="popstate"?i===fp?!1:(fp=i,!0):(fp=null,!1)}var I1=typeof setTimeout=="function"?setTimeout:void 0,oI=typeof clearTimeout=="function"?clearTimeout:void 0,O1=typeof Promise=="function"?Promise:void 0,lI=typeof queueMicrotask=="function"?queueMicrotask:typeof O1<"u"?function(i){return O1.resolve(null).then(i).catch(uI)}:I1;function uI(i){setTimeout(function(){throw i})}function Ba(i){return i==="head"}function D1(i,s){var l=s,c=0,m=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(0<c&&8>c){l=c;var S=i.ownerDocument;if(l&1&&Gu(S.documentElement),l&2&&Gu(S.body),l&4)for(l=S.head,Gu(l),S=l.firstChild;S;){var w=S.nextSibling,L=S.nodeName;S[ke]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&S.rel.toLowerCase()==="stylesheet"||l.removeChild(S),S=w}}if(m===0){i.removeChild(p),ec(s);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:c=l.charCodeAt(0)-48;else c=0;l=p}while(l);ec(s)}function hp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":hp(l),we(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function cI(i,s,l,c){for(;i.nodeType===1;){var m=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[ke])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=Vr(i.nextSibling),i===null)break}return null}function fI(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Vr(i.nextSibling),i===null))return null;return i}function dp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function hI(i,s){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")s();else{var c=function(){s(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Vr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var mp=null;function N1(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}function P1(i,s,l){switch(s=ph(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Gu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);we(i)}var Ir=new Map,k1=new Set;function yh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Zi=fe.d;fe.d={f:dI,r:mI,D:gI,C:pI,L:yI,m:vI,X:EI,S:_I,M:bI};function dI(){var i=Zi.f(),s=lh();return i||s}function mI(i){var s=et(i);s!==null&&s.tag===5&&s.type==="form"?eE(s):Zi.r(i)}var dl=typeof document>"u"?null:document;function M1(i,s,l){var c=dl;if(c&&typeof s=="string"&&s){var m=Qt(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),k1.has(m)||(k1.add(m),i={rel:i,crossOrigin:l,href:s},c.querySelector(m)===null&&(s=c.createElement("link"),_n(s,"link",i),ot(s),c.head.appendChild(s)))}}function gI(i){Zi.D(i),M1("dns-prefetch",i,null)}function pI(i,s){Zi.C(i,s),M1("preconnect",i,s)}function yI(i,s,l){Zi.L(i,s,l);var c=dl;if(c&&i&&s){var m='link[rel="preload"][as="'+Qt(s)+'"]';s==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Qt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Qt(l.imageSizes)+'"]')):m+='[href="'+Qt(i)+'"]';var p=m;switch(s){case"style":p=ml(i);break;case"script":p=gl(i)}Ir.has(p)||(i=y({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),Ir.set(p,i),c.querySelector(m)!==null||s==="style"&&c.querySelector(Ku(p))||s==="script"&&c.querySelector(Yu(p))||(s=c.createElement("link"),_n(s,"link",i),ot(s),c.head.appendChild(s)))}}function vI(i,s){Zi.m(i,s);var l=dl;if(l&&i){var c=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+Qt(c)+'"][href="'+Qt(i)+'"]',p=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=gl(i)}if(!Ir.has(p)&&(i=y({rel:"modulepreload",href:i},s),Ir.set(p,i),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Yu(p)))return}c=l.createElement("link"),_n(c,"link",i),ot(c),l.head.appendChild(c)}}}function _I(i,s,l){Zi.S(i,s,l);var c=dl;if(c&&i){var m=ht(c).hoistableStyles,p=ml(i);s=s||"default";var S=m.get(p);if(!S){var w={loading:0,preload:null};if(S=c.querySelector(Ku(p)))w.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},l),(l=Ir.get(p))&&gp(i,l);var L=S=c.createElement("link");ot(L),_n(L,"link",i),L._p=new Promise(function(Z,ae){L.onload=Z,L.onerror=ae}),L.addEventListener("load",function(){w.loading|=1}),L.addEventListener("error",function(){w.loading|=2}),w.loading|=4,vh(S,s,c)}S={type:"stylesheet",instance:S,count:1,state:w},m.set(p,S)}}}function EI(i,s){Zi.X(i,s);var l=dl;if(l&&i){var c=ht(l).hoistableScripts,m=gl(i),p=c.get(m);p||(p=l.querySelector(Yu(m)),p||(i=y({src:i,async:!0},s),(s=Ir.get(m))&&pp(i,s),p=l.createElement("script"),ot(p),_n(p,"link",i),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(m,p))}}function bI(i,s){Zi.M(i,s);var l=dl;if(l&&i){var c=ht(l).hoistableScripts,m=gl(i),p=c.get(m);p||(p=l.querySelector(Yu(m)),p||(i=y({src:i,async:!0,type:"module"},s),(s=Ir.get(m))&&pp(i,s),p=l.createElement("script"),ot(p),_n(p,"link",i),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(m,p))}}function L1(i,s,l,c){var m=(m=Oe.current)?yh(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=ml(l.href),l=ht(m).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=ml(l.href);var p=ht(m).hoistableStyles,S=p.get(i);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,S),(p=m.querySelector(Ku(i)))&&!p._p&&(S.instance=p,S.state.loading=5),Ir.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ir.set(i,l),p||SI(m,i,l,S.state))),s&&c===null)throw Error(r(528,""));return S}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=gl(l),l=ht(m).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function ml(i){return'href="'+Qt(i)+'"'}function Ku(i){return'link[rel="stylesheet"]['+i+"]"}function U1(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function SI(i,s,l,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),_n(s,"link",l),ot(s),i.head.appendChild(s))}function gl(i){return'[src="'+Qt(i)+'"]'}function Yu(i){return"script[async]"+i}function V1(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+Qt(l.href)+'"]');if(c)return s.instance=c,ot(c),c;var m=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),ot(c),_n(c,"style",m),vh(c,l.precedence,i),s.instance=c;case"stylesheet":m=ml(l.href);var p=i.querySelector(Ku(m));if(p)return s.state.loading|=4,s.instance=p,ot(p),p;c=U1(l),(m=Ir.get(m))&&gp(c,m),p=(i.ownerDocument||i).createElement("link"),ot(p);var S=p;return S._p=new Promise(function(w,L){S.onload=w,S.onerror=L}),_n(p,"link",c),s.state.loading|=4,vh(p,l.precedence,i),s.instance=p;case"script":return p=gl(l.src),(m=i.querySelector(Yu(p)))?(s.instance=m,ot(m),m):(c=l,(m=Ir.get(p))&&(c=y({},l),pp(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),ot(m),_n(m,"link",c),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,vh(c,l.precedence,i));return s.instance}function vh(i,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,p=m,S=0;S<c.length;S++){var w=c[S];if(w.dataset.precedence===s)p=w;else if(p!==m)break}p?p.parentNode.insertBefore(i,p.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function gp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function pp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var _h=null;function j1(i,s,l){if(_h===null){var c=new Map,m=_h=new Map;m.set(l,c)}else m=_h,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),m=0;m<l.length;m++){var p=l[m];if(!(p[ke]||p[oe]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(s)||"";S=i+S;var w=c.get(S);w?w.push(p):c.set(S,[p])}}return c}function z1(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function TI(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function F1(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Qu=null;function wI(){}function AI(i,s,l){if(Qu===null)throw Error(r(475));var c=Qu;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=ml(l.href),p=i.querySelector(Ku(m));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=Eh.bind(c),i.then(c,c)),s.state.loading|=4,s.instance=p,ot(p);return}p=i.ownerDocument||i,l=U1(l),(m=Ir.get(m))&&gp(l,m),p=p.createElement("link"),ot(p);var S=p;S._p=new Promise(function(w,L){S.onload=w,S.onerror=L}),_n(p,"link",l),s.instance=p}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=Eh.bind(c),i.addEventListener("load",s),i.addEventListener("error",s))}}function RI(){if(Qu===null)throw Error(r(475));var i=Qu;return i.stylesheets&&i.count===0&&yp(i,i.stylesheets),0<i.count?function(s){var l=setTimeout(function(){if(i.stylesheets&&yp(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Eh(){if(this.count--,this.count===0){if(this.stylesheets)yp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var bh=null;function yp(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,bh=new Map,s.forEach(CI,i),bh=null,Eh.call(i))}function CI(i,s){if(!(s.state.loading&4)){var l=bh.get(i);if(l)var c=l.get(null);else{l=new Map,bh.set(i,l);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var S=m[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),c=S)}c&&l.set(null,c)}m=s.instance,S=m.getAttribute("data-precedence"),p=l.get(S)||c,p===c&&l.set(null,m),l.set(S,m),this.count++,c=Eh.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),p?p.parentNode.insertBefore(m,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var Xu={$$typeof:Y,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function xI(i,s,l,c,m,p,S,w){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pr(0),this.hiddenUpdates=pr(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function B1(i,s,l,c,m,p,S,w,L,Z,ae,le){return i=new xI(i,s,l,S,w,L,Z,le),s=1,p===!0&&(s|=24),p=er(3,null,null,s),i.current=p,p.stateNode=i,s=Zm(),s.refCount++,i.pooledCache=s,s.refCount++,p.memoizedState={element:c,isDehydrated:l,cache:s},ng(p),i}function H1(i){return i?(i=Go,i):Go}function q1(i,s,l,c,m,p){m=H1(m),c.context===null?c.context=m:c.pendingContext=m,c=Ia(s),c.payload={element:l},p=p===void 0?null:p,p!==null&&(c.callback=p),l=Oa(i,c,s),l!==null&&(ar(l,i,s),Ru(l,i,s))}function $1(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function vp(i,s){$1(i,s),(i=i.alternate)&&$1(i,s)}function G1(i){if(i.tag===13){var s=$o(i,67108864);s!==null&&ar(s,i,67108864),vp(i,67108864)}}var Sh=!0;function II(i,s,l,c){var m=W.T;W.T=null;var p=fe.p;try{fe.p=2,_p(i,s,l,c)}finally{fe.p=p,W.T=m}}function OI(i,s,l,c){var m=W.T;W.T=null;var p=fe.p;try{fe.p=8,_p(i,s,l,c)}finally{fe.p=p,W.T=m}}function _p(i,s,l,c){if(Sh){var m=Ep(c);if(m===null)sp(i,s,c,Th,l),Y1(i,c);else if(NI(m,i,s,l,c))c.stopPropagation();else if(Y1(i,c),s&4&&-1<DI.indexOf(i)){for(;m!==null;){var p=et(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=Qn(p.pendingLanes);if(S!==0){var w=p;for(w.pendingLanes|=2,w.entangledLanes|=2;S;){var L=1<<31-Kt(S);w.entanglements[1]|=L,S&=~L}mi(p),(_t&6)===0&&(sh=Ln()+500,Hu(0))}}break;case 13:w=$o(p,2),w!==null&&ar(w,p,2),lh(),vp(p,2)}if(p=Ep(c),p===null&&sp(i,s,c,Th,l),p===m)break;m=p}m!==null&&c.stopPropagation()}else sp(i,s,c,null,l)}}function Ep(i){return i=Er(i),bp(i)}var Th=null;function bp(i){if(Th=null,i=Le(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=u(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Th=i,null}function K1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ru()){case xs:return 2;case va:return 8;case Ii:case Pr:return 32;case dr:return 268435456;default:return 32}default:return 32}}var Sp=!1,Ha=null,qa=null,$a=null,Wu=new Map,Zu=new Map,Ga=[],DI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Y1(i,s){switch(i){case"focusin":case"focusout":Ha=null;break;case"dragenter":case"dragleave":qa=null;break;case"mouseover":case"mouseout":$a=null;break;case"pointerover":case"pointerout":Wu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zu.delete(s.pointerId)}}function Ju(i,s,l,c,m,p){return i===null||i.nativeEvent!==p?(i={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:p,targetContainers:[m]},s!==null&&(s=et(s),s!==null&&G1(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function NI(i,s,l,c,m){switch(s){case"focusin":return Ha=Ju(Ha,i,s,l,c,m),!0;case"dragenter":return qa=Ju(qa,i,s,l,c,m),!0;case"mouseover":return $a=Ju($a,i,s,l,c,m),!0;case"pointerover":var p=m.pointerId;return Wu.set(p,Ju(Wu.get(p)||null,i,s,l,c,m)),!0;case"gotpointercapture":return p=m.pointerId,Zu.set(p,Ju(Zu.get(p)||null,i,s,l,c,m)),!0}return!1}function Q1(i){var s=Le(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){i.blockedOn=s,$(i.priority,function(){if(l.tag===13){var c=ir();c=ei(c);var m=$o(l,c);m!==null&&ar(m,l,c),vp(l,c)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function wh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Ep(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);ki=c,l.target.dispatchEvent(c),ki=null}else return s=et(l),s!==null&&G1(s),i.blockedOn=l,!1;s.shift()}return!0}function X1(i,s,l){wh(i)&&l.delete(s)}function PI(){Sp=!1,Ha!==null&&wh(Ha)&&(Ha=null),qa!==null&&wh(qa)&&(qa=null),$a!==null&&wh($a)&&($a=null),Wu.forEach(X1),Zu.forEach(X1)}function Ah(i,s){i.blockedOn===s&&(i.blockedOn=null,Sp||(Sp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,PI)))}var Rh=null;function W1(i){Rh!==i&&(Rh=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Rh===i&&(Rh=null);for(var s=0;s<i.length;s+=3){var l=i[s],c=i[s+1],m=i[s+2];if(typeof c!="function"){if(bp(c||l)===null)continue;break}var p=et(l);p!==null&&(i.splice(s,3),s-=3,bg(p,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function ec(i){function s(L){return Ah(L,i)}Ha!==null&&Ah(Ha,i),qa!==null&&Ah(qa,i),$a!==null&&Ah($a,i),Wu.forEach(s),Zu.forEach(s);for(var l=0;l<Ga.length;l++){var c=Ga[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Ga.length&&(l=Ga[0],l.blockedOn===null);)Q1(l),l.blockedOn===null&&Ga.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],p=l[c+1],S=m[me]||null;if(typeof p=="function")S||W1(l);else if(S){var w=null;if(p&&p.hasAttribute("formAction")){if(m=p,S=p[me]||null)w=S.formAction;else if(bp(m)!==null)continue}else w=S.action;typeof w=="function"?l[c+1]=w:(l.splice(c,3),c-=3),W1(l)}}}function Tp(i){this._internalRoot=i}Ch.prototype.render=Tp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,c=ir();q1(l,c,i,s,null,null)},Ch.prototype.unmount=Tp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;q1(i.current,2,null,i,null,null),lh(),s[ve]=null}};function Ch(i){this._internalRoot=i}Ch.prototype.unstable_scheduleHydration=function(i){if(i){var s=z();i={blockedOn:null,target:i,priority:s};for(var l=0;l<Ga.length&&s!==0&&s<Ga[l].priority;l++);Ga.splice(l,0,i),l===0&&Q1(i)}};var Z1=e.version;if(Z1!=="19.1.0")throw Error(r(527,Z1,"19.1.0"));fe.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(s),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var kI={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{mt=xh.inject(kI),Ye=xh}catch{}}return nc.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,c="",m=mE,p=gE,S=pE,w=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(w=s.unstable_transitionCallbacks)),s=B1(i,1,!1,null,null,l,c,m,p,S,w,null),i[ve]=s.current,ap(i),new Tp(s)},nc.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var c=!1,m="",p=mE,S=gE,w=pE,L=null,Z=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(w=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(L=l.unstable_transitionCallbacks),l.formState!==void 0&&(Z=l.formState)),s=B1(i,1,!0,s,l??null,c,m,p,S,w,L,Z),s.context=H1(null),l=s.current,c=ir(),c=ei(c),m=Ia(c),m.callback=null,Oa(l,m,c),l=c,s.current.lanes=l,kr(s,l),mi(s),i[ve]=s.current,ap(i),new Ch(s)},nc.version="19.1.0",nc}var lb;function $I(){if(lb)return Cp.exports;lb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Cp.exports=qI(),Cp.exports}var GI=$I(),Dp={exports:{}},Np={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ub;function KI(){if(ub)return Np;ub=1;var t=Gd();function e(d,g){return d===g&&(d!==0||1/d===1/g)||d!==d&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,a=t.useRef,o=t.useEffect,u=t.useMemo,f=t.useDebugValue;return Np.useSyncExternalStoreWithSelector=function(d,g,y,_,E){var T=a(null);if(T.current===null){var A={hasValue:!1,value:null};T.current=A}else A=T.current;T=u(function(){function P(te){if(!j){if(j=!0,G=te,te=_(te),E!==void 0&&A.hasValue){var F=A.value;if(E(F,te))return Y=F}return Y=te}if(F=Y,n(G,te))return F;var D=_(te);return E!==void 0&&E(F,D)?(G=te,F):(G=te,Y=D)}var j=!1,G,Y,re=y===void 0?null:y;return[function(){return P(g())},re===null?void 0:function(){return P(re())}]},[g,y,_,E]);var M=r(d,T[0],T[1]);return o(function(){A.hasValue=!0,A.value=M},[M]),f(M),M},Np}var cb;function YI(){return cb||(cb=1,Dp.exports=KI()),Dp.exports}var QI=YI();function XI(t){t()}function WI(){let t=null,e=null;return{clear(){t=null,e=null},notify(){XI(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!r||t===null||(r=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var fb={notify(){},get:()=>[]};function ZI(t,e){let n,r=fb,a=0,o=!1;function u(M){y();const P=r.subscribe(M);let j=!1;return()=>{j||(j=!0,P(),_())}}function f(){r.notify()}function d(){A.onStateChange&&A.onStateChange()}function g(){return o}function y(){a++,n||(n=t.subscribe(d),r=WI())}function _(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=fb)}function E(){o||(o=!0,y())}function T(){o&&(o=!1,_())}const A={addNestedSub:u,notifyNestedSubs:f,handleChangeWrapper:d,isSubscribed:g,trySubscribe:E,tryUnsubscribe:T,getListeners:()=>r};return A}var JI=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eO=JI(),tO=()=>typeof navigator<"u"&&navigator.product==="ReactNative",nO=tO(),rO=()=>eO||nO?O.useLayoutEffect:O.useEffect,iO=rO(),Pp=Symbol.for("react-redux-context"),kp=typeof globalThis<"u"?globalThis:{};function aO(){if(!O.createContext)return{};const t=kp[Pp]??(kp[Pp]=new Map);let e=t.get(O.createContext);return e||(e=O.createContext(null),t.set(O.createContext,e)),e}var us=aO();function sO(t){const{children:e,context:n,serverState:r,store:a}=t,o=O.useMemo(()=>{const d=ZI(a);return{store:a,subscription:d,getServerState:r?()=>r:void 0}},[a,r]),u=O.useMemo(()=>a.getState(),[a]);iO(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),u!==a.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,u]);const f=n||us;return O.createElement(f.Provider,{value:o},e)}var oO=sO;function Rv(t=us){return function(){return O.useContext(t)}}var Lw=Rv();function Uw(t=us){const e=t===us?Lw:Rv(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var lO=Uw();function uO(t=us){const e=t===us?lO:Uw(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Ss=uO(),cO=(t,e)=>t===e;function fO(t=us){const e=t===us?Lw:Rv(t),n=(r,a={})=>{const{equalityFn:o=cO}=typeof a=="function"?{equalityFn:a}:a,u=e(),{store:f,subscription:d,getServerState:g}=u;O.useRef(!0);const y=O.useCallback({[r.name](E){return r(E)}}[r.name],[r]),_=QI.useSyncExternalStoreWithSelector(d.addNestedSub,f.getState,g||f.getState,y,o);return O.useDebugValue(_),_};return Object.assign(n,{withTypes:()=>n}),n}var zt=fO();const hO=()=>{};var hb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},dO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],u=t[n++],f=t[n++],d=((a&7)<<18|(o&63)<<12|(u&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],u=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},jw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const o=t[a],u=a+1<t.length,f=u?t[a+1]:0,d=a+2<t.length,g=d?t[a+2]:0,y=o>>2,_=(o&3)<<4|f>>4;let E=(f&15)<<2|g>>6,T=g&63;d||(T=64,u||(E=64)),r.push(n[y],n[_],n[E],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Vw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||f==null||g==null||_==null)throw new mO;const E=o<<2|f>>4;if(r.push(E),g!==64){const T=f<<4&240|g>>2;if(r.push(T),_!==64){const A=g<<6&192|_;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class mO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gO=function(t){const e=Vw(t);return jw.encodeByteArray(e,!0)},cd=function(t){return gO(t).replace(/\./g,"")},zw=function(t){try{return jw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=()=>pO().__FIREBASE_DEFAULTS__,vO=()=>{if(typeof process>"u"||typeof hb>"u")return;const t=hb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_O=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zw(t[1]);return e&&JSON.parse(e)},Kd=()=>{try{return hO()||yO()||vO()||_O()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Fw=t=>{var e,n;return(n=(e=Kd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},EO=t=>{const e=Fw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Bw=()=>{var t;return(t=Kd())===null||t===void 0?void 0:t.config},Hw=t=>{var e;return(e=Kd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bO=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(t){return t.endsWith(".cloudworkstations.dev")}async function qw(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[cd(JSON.stringify(n)),cd(JSON.stringify(u)),""].join(".")}const vc={};function TO(){const t={prod:[],emulator:[]};for(const e of Object.keys(vc))vc[e]?t.emulator.push(e):t.prod.push(e);return t}function wO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let db=!1;function $w(t,e){if(typeof window>"u"||typeof document>"u"||!Kl(window.location.host)||vc[t]===e||vc[t]||db)return;vc[t]=e;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",o=TO().prod.length>0;function u(){const E=document.getElementById(r);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function d(E,T){E.setAttribute("width","24"),E.setAttribute("id",T),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{db=!0,u()},E}function y(E,T){E.setAttribute("id",T),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=wO(r),T=n("text"),A=document.getElementById(T)||document.createElement("span"),M=n("learnmore"),P=document.getElementById(M)||document.createElement("a"),j=n("preprendIcon"),G=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const Y=E.element;f(Y),y(P,M);const re=g();d(G,j),Y.append(G,A,P,re),document.body.appendChild(Y)}o?(A.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pn())}function RO(){var t;const e=(t=Kd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function IO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OO(){const t=Pn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function DO(){return!RO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NO(){try{return typeof indexedDB=="object"}catch{return!1}}function PO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO="FirebaseError";class da extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=kO,Object.setPrototypeOf(this,da.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qc.prototype.create)}}class Qc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?MO(o,r):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new da(a,f,r)}}function MO(t,e){return t.replace(LO,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const LO=/\{\$([^}]+)}/g;function UO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function co(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const o=t[a],u=e[a];if(mb(o)&&mb(u)){if(!co(o,u))return!1}else if(o!==u)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function mb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function lc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function uc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function VO(t,e){const n=new jO(t,e);return n.subscribe.bind(n)}class jO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zO(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=Mp),a.error===void 0&&(a.error=Mp),a.complete===void 0&&(a.complete=Mp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Mp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(t){return t&&t._delegate?t._delegate:t}class fo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new bO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HO(e))try{this.getOrInitializeService({instanceIdentifier:no})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=no){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=no){return this.instances.has(e)}getOptions(e=no){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(o);r===f&&u.resolve(a)}return a}onInit(e,n){var r;const a=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=no){return this.component?this.component.multipleInstances?e:no:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BO(t){return t===no?void 0:t}function HO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new FO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(at||(at={}));const $O={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},GO=at.INFO,KO={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},YO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=KO[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Cv=class{constructor(e){this.name=e,this._logLevel=GO,this._logHandler=YO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$O[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}};const QO=(t,e)=>e.some(n=>t instanceof n);let gb,pb;function XO(){return gb||(gb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WO(){return pb||(pb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Gw=new WeakMap,py=new WeakMap,Kw=new WeakMap,Lp=new WeakMap,xv=new WeakMap;function ZO(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",u)},o=()=>{n(rs(t.result)),a()},u=()=>{r(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&Gw.set(n,t)}).catch(()=>{}),xv.set(e,t),e}function JO(t){if(py.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",u),t.removeEventListener("abort",u)},o=()=>{n(),a()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",u),t.addEventListener("abort",u)});py.set(t,e)}let yy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return py.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Kw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eD(t){yy=t(yy)}function tD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Up(this),e,...n);return Kw.set(r,e.sort?e.sort():[e]),rs(r)}:WO().includes(t)?function(...e){return t.apply(Up(this),e),rs(Gw.get(this))}:function(...e){return rs(t.apply(Up(this),e))}}function nD(t){return typeof t=="function"?tD(t):(t instanceof IDBTransaction&&JO(t),QO(t,XO())?new Proxy(t,yy):t)}function rs(t){if(t instanceof IDBRequest)return ZO(t);if(Lp.has(t))return Lp.get(t);const e=nD(t);return e!==t&&(Lp.set(t,e),xv.set(e,t)),e}const Up=t=>xv.get(t);function rD(t,e,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const u=indexedDB.open(t,e),f=rs(u);return r&&u.addEventListener("upgradeneeded",d=>{r(rs(u.result),d.oldVersion,d.newVersion,rs(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),f.then(d=>{o&&d.addEventListener("close",()=>o()),a&&d.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const iD=["get","getKey","getAll","getAllKeys","count"],aD=["put","add","delete","clear"],Vp=new Map;function yb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vp.get(e))return Vp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=aD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||iD.includes(n)))return;const o=async function(u,...f){const d=this.transaction(u,a?"readwrite":"readonly");let g=d.store;return r&&(g=g.index(f.shift())),(await Promise.all([g[n](...f),a&&d.done]))[0]};return Vp.set(e,o),o}eD(t=>({...t,get:(e,n,r)=>yb(e,n)||t.get(e,n,r),has:(e,n)=>!!yb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function oD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vy="@firebase/app",vb="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new Cv("@firebase/app"),lD="@firebase/app-compat",uD="@firebase/analytics-compat",cD="@firebase/analytics",fD="@firebase/app-check-compat",hD="@firebase/app-check",dD="@firebase/auth",mD="@firebase/auth-compat",gD="@firebase/database",pD="@firebase/data-connect",yD="@firebase/database-compat",vD="@firebase/functions",_D="@firebase/functions-compat",ED="@firebase/installations",bD="@firebase/installations-compat",SD="@firebase/messaging",TD="@firebase/messaging-compat",wD="@firebase/performance",AD="@firebase/performance-compat",RD="@firebase/remote-config",CD="@firebase/remote-config-compat",xD="@firebase/storage",ID="@firebase/storage-compat",OD="@firebase/firestore",DD="@firebase/ai",ND="@firebase/firestore-compat",PD="firebase",kD="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="[DEFAULT]",MD={[vy]:"fire-core",[lD]:"fire-core-compat",[cD]:"fire-analytics",[uD]:"fire-analytics-compat",[hD]:"fire-app-check",[fD]:"fire-app-check-compat",[dD]:"fire-auth",[mD]:"fire-auth-compat",[gD]:"fire-rtdb",[pD]:"fire-data-connect",[yD]:"fire-rtdb-compat",[vD]:"fire-fn",[_D]:"fire-fn-compat",[ED]:"fire-iid",[bD]:"fire-iid-compat",[SD]:"fire-fcm",[TD]:"fire-fcm-compat",[wD]:"fire-perf",[AD]:"fire-perf-compat",[RD]:"fire-rc",[CD]:"fire-rc-compat",[xD]:"fire-gcs",[ID]:"fire-gcs-compat",[OD]:"fire-fst",[ND]:"fire-fst-compat",[DD]:"fire-vertex","fire-js":"fire-js",[PD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=new Map,LD=new Map,Ey=new Map;function _b(t,e){try{t.container.addComponent(e)}catch(n){sa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ml(t){const e=t.name;if(Ey.has(e))return sa.debug(`There were multiple attempts to register component ${e}.`),!1;Ey.set(e,t);for(const n of fd.values())_b(n,t);for(const n of LD.values())_b(n,t);return!0}function Iv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Dr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},is=new Qc("app","Firebase",UD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=kD;function Yw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:_y,automaticDataCollectionEnabled:!0},e),a=r.name;if(typeof a!="string"||!a)throw is.create("bad-app-name",{appName:String(a)});if(n||(n=Bw()),!n)throw is.create("no-options");const o=fd.get(a);if(o){if(co(n,o.options)&&co(r,o.config))return o;throw is.create("duplicate-app",{appName:a})}const u=new qO(a);for(const d of Ey.values())u.addComponent(d);const f=new VD(n,r,u);return fd.set(a,f),f}function Qw(t=_y){const e=fd.get(t);if(!e&&t===_y&&Bw())return Yw();if(!e)throw is.create("no-app",{appName:t});return e}function as(t,e,n){var r;let a=(r=MD[t])!==null&&r!==void 0?r:t;n&&(a+=`-${n}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${a}" with version "${e}":`];o&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sa.warn(f.join(" "));return}Ml(new fo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="firebase-heartbeat-database",zD=1,xc="firebase-heartbeat-store";let jp=null;function Xw(){return jp||(jp=rD(jD,zD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xc)}catch(n){console.warn(n)}}}}).catch(t=>{throw is.create("idb-open",{originalErrorMessage:t.message})})),jp}async function FD(t){try{const n=(await Xw()).transaction(xc),r=await n.objectStore(xc).get(Ww(t));return await n.done,r}catch(e){if(e instanceof da)sa.warn(e.message);else{const n=is.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});sa.warn(n.message)}}}async function Eb(t,e){try{const r=(await Xw()).transaction(xc,"readwrite");await r.objectStore(xc).put(e,Ww(t)),await r.done}catch(n){if(n instanceof da)sa.warn(n.message);else{const r=is.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});sa.warn(r.message)}}}function Ww(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=1024,HD=30;class qD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=bb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>HD){const u=KD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){sa.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bb(),{heartbeatsToSend:r,unsentEntries:a}=$D(this._heartbeatsCache.heartbeats),o=cd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return sa.warn(n),""}}}function bb(){return new Date().toISOString().substring(0,10)}function $D(t,e=BD){const n=[];let r=t.slice();for(const a of t){const o=n.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),Sb(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Sb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class GD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NO()?PO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Eb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Eb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Sb(t){return cd(JSON.stringify({version:2,heartbeats:t})).length}function KD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(t){Ml(new fo("platform-logger",e=>new sD(e),"PRIVATE")),Ml(new fo("heartbeat",e=>new qD(e),"PRIVATE")),as(vy,vb,t),as(vy,vb,"esm2017"),as("fire-js","")}YD("");function Ov(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function Zw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QD=Zw,Jw=new Qc("auth","Firebase",Zw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd=new Cv("@firebase/auth");function XD(t,...e){hd.logLevel<=at.WARN&&hd.warn(`Auth (${Yl}): ${t}`,...e)}function Bh(t,...e){hd.logLevel<=at.ERROR&&hd.error(`Auth (${Yl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(t,...e){throw Dv(t,...e)}function Ei(t,...e){return Dv(t,...e)}function eA(t,e,n){const r=Object.assign(Object.assign({},QD()),{[e]:n});return new Qc("auth","Firebase",r).create(e,{appName:t.name})}function ta(t){return eA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Jw.create(t,...e)}function Ve(t,e,...n){if(!t)throw Dv(e,...n)}function Ji(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bh(e),new Error(e)}function oa(t,e){t||Ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function WD(){return Tb()==="http:"||Tb()==="https:"}function Tb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WD()||xO()||"connection"in navigator)?navigator.onLine:!0}function JD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n){this.shortDelay=e,this.longDelay=n,oa(n>e,"Short delay should be less than long delay!"),this.isMobile=AO()||IO()}get(){return ZD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(t,e){oa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nN=new Wc(3e4,6e4);function Ts(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ws(t,e,n,r,a={}){return nA(t,a,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const f=Xc(Object.assign({key:t.config.apiKey},u)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const g=Object.assign({method:e,headers:d},o);return CO()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&Kl(t.emulatorConfig.host)&&(g.credentials="include"),tA.fetch()(await rA(t,t.config.apiHost,n,f),g)})}async function nA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},eN),e);try{const a=new iN(t),o=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Ih(t,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const f=o.ok?u.errorMessage:u.error.message,[d,g]=f.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ih(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Ih(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw Ih(t,"user-disabled",u);const y=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw eA(t,y,g);qr(t,y)}}catch(a){if(a instanceof da)throw a;qr(t,"network-request-failed",{message:String(a)})}}async function Zc(t,e,n,r,a={}){const o=await ws(t,e,n,r,a);return"mfaPendingCredential"in o&&qr(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function rA(t,e,n,r){const a=`${e}${n}?${r}`,o=t,u=o.config.emulator?Nv(t.config,a):`${t.config.apiScheme}://${a}`;return tN.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function rN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ei(this.auth,"network-request-failed")),nN.get())})}}function Ih(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Ei(t,e,r);return a.customData._tokenResponse=n,a}function wb(t){return t!==void 0&&t.enterprise!==void 0}class aN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return rN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sN(t,e){return ws(t,"GET","/v2/recaptchaConfig",Ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oN(t,e){return ws(t,"POST","/v1/accounts:delete",e)}async function dd(t,e){return ws(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lN(t,e=!1){const n=Kn(t),r=await n.getIdToken(e),a=Pv(r);Ve(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:a,token:r,authTime:_c(zp(a.auth_time)),issuedAtTime:_c(zp(a.iat)),expirationTime:_c(zp(a.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function zp(t){return Number(t)*1e3}function Pv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Bh("JWT malformed, contained fewer than 3 sections"),null;try{const a=zw(n);return a?JSON.parse(a):(Bh("Failed to decode base64 JWT payload"),null)}catch(a){return Bh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Ab(t){const e=Pv(t);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ic(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof da&&uN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function uN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_c(this.lastLoginAt),this.creationTime=_c(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function md(t){var e;const n=t.auth,r=await t.getIdToken(),a=await Ic(t,dd(n,{idToken:r}));Ve(a==null?void 0:a.users.length,n,"internal-error");const o=a.users[0];t._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?iA(o.providerUserInfo):[],f=hN(t.providerData,u),d=t.isAnonymous,g=!(t.email&&o.passwordHash)&&!(f!=null&&f.length),y=d?g:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Sy(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(t,_)}async function fN(t){const e=Kn(t);await md(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hN(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function iA(t){return t.map(e=>{var{providerId:n}=e,r=Ov(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(t,e){const n=await nA(t,{},async()=>{const r=Xc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=t.config,u=await rA(t,a,"/v1/token",`key=${o}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:f,body:r};return t.emulatorConfig&&Kl(t.emulatorConfig.host)&&(d.credentials="include"),tA.fetch()(u,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mN(t,e){return ws(t,"POST","/v2/accounts:revokeToken",Ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ab(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=Ab(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:o}=await dN(e,n);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:o}=n,u=new Il;return r&&(Ve(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(Ve(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(Ve(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Il,this.toJSON())}_performRefresh(){return Ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(t,e){Ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zr{constructor(e){var{uid:n,auth:r,stsTokenManager:a}=e,o=Ov(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Sy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ic(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return lN(this,e)}reload(){return fN(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await md(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dr(this.auth.app))return Promise.reject(ta(this.auth));const e=await this.getIdToken();return await Ic(this,oN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,a,o,u,f,d,g,y;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,E=(a=n.email)!==null&&a!==void 0?a:void 0,T=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,A=(u=n.photoURL)!==null&&u!==void 0?u:void 0,M=(f=n.tenantId)!==null&&f!==void 0?f:void 0,P=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,j=(g=n.createdAt)!==null&&g!==void 0?g:void 0,G=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:Y,emailVerified:re,isAnonymous:te,providerData:F,stsTokenManager:D}=n;Ve(Y&&D,e,"internal-error");const x=Il.fromJSON(this.name,D);Ve(typeof Y=="string",e,"internal-error"),Ya(_,e.name),Ya(E,e.name),Ve(typeof re=="boolean",e,"internal-error"),Ve(typeof te=="boolean",e,"internal-error"),Ya(T,e.name),Ya(A,e.name),Ya(M,e.name),Ya(P,e.name),Ya(j,e.name),Ya(G,e.name);const C=new zr({uid:Y,auth:e,email:E,emailVerified:re,displayName:_,isAnonymous:te,photoURL:A,phoneNumber:T,tenantId:M,stsTokenManager:x,createdAt:j,lastLoginAt:G});return F&&Array.isArray(F)&&(C.providerData=F.map(N=>Object.assign({},N))),P&&(C._redirectEventId=P),C}static async _fromIdTokenResponse(e,n,r=!1){const a=new Il;a.updateFromServerResponse(n);const o=new zr({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await md(o),o}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Ve(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?iA(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),f=new Il;f.updateFromIdToken(r);const d=new zr({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Sy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,g),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=new Map;function ea(t){oa(t instanceof Function,"Expected a class definition");let e=Rb.get(t);return e?(oa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Rb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aA.type="NONE";const Cb=aA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(t,e,n){return`firebase:${t}:${e}:${n}`}class Ol{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=Hh(this.userKey,a.apiKey,o),this.fullPersistenceKey=Hh("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await dd(this.auth,{idToken:e}).catch(()=>{});return n?zr._fromGetAccountInfoResponse(this.auth,n,e):null}return zr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ol(ea(Cb),e,r);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=a[0]||ea(Cb);const u=Hh(r,e.config.apiKey,e.name);let f=null;for(const g of n)try{const y=await g._get(u);if(y){let _;if(typeof y=="string"){const E=await dd(e,{idToken:y}).catch(()=>{});if(!E)break;_=await zr._fromGetAccountInfoResponse(e,E,y)}else _=zr._fromJSON(e,y);g!==o&&(f=_),o=g;break}}catch{}const d=a.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Ol(o,e,r):(o=d[0],f&&await o._set(u,f.toJSON()),await Promise.all(n.map(async g=>{if(g!==o)try{await g._remove(u)}catch{}})),new Ol(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fA(e))return"Blackberry";if(hA(e))return"Webos";if(oA(e))return"Safari";if((e.includes("chrome/")||lA(e))&&!e.includes("edge/"))return"Chrome";if(cA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function sA(t=Pn()){return/firefox\//i.test(t)}function oA(t=Pn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lA(t=Pn()){return/crios\//i.test(t)}function uA(t=Pn()){return/iemobile/i.test(t)}function cA(t=Pn()){return/android/i.test(t)}function fA(t=Pn()){return/blackberry/i.test(t)}function hA(t=Pn()){return/webos/i.test(t)}function kv(t=Pn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function gN(t=Pn()){var e;return kv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function pN(){return OO()&&document.documentMode===10}function dA(t=Pn()){return kv(t)||cA(t)||hA(t)||fA(t)||/windows phone/i.test(t)||uA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(t,e=[]){let n;switch(t){case"Browser":n=xb(Pn());break;case"Worker":n=`${xb(Pn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Yl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((u,f)=>{try{const d=e(o);u(d)}catch(d){f(d)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vN(t,e={}){return ws(t,"GET","/v2/passwordPolicy",Ts(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=6;class EN{constructor(e){var n,r,a,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:_N,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,a,o,u,f;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(a=d.containsLowercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(f=d.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ib(this),this.idTokenSubscription=new Ib(this),this.beforeStateQueue=new yN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Jw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ea(n)),this._initializationPromise=this.queue(async()=>{var r,a,o;if(!this._deleted&&(this.persistenceManager=await Ol.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await dd(this,{idToken:e}),r=await zr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Dr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=a==null?void 0:a._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===f)&&(d!=null&&d.user)&&(a=d.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await md(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dr(this.app))return Promise.reject(ta(this));const n=e?Kn(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dr(this.app)?Promise.reject(ta(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dr(this.app)?Promise.reject(ta(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ea(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vN(this),n=new EN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await mN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ea(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await Ol.create(this,[ea(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(f,this,"internal-error"),f.then(()=>{u||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,a);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(Dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&XD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function So(t){return Kn(t)}class Ib{constructor(e){this.auth=e,this.observer=null,this.addObserver=VO(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SN(t){Yd=t}function gA(t){return Yd.loadJS(t)}function TN(){return Yd.recaptchaEnterpriseScript}function wN(){return Yd.gapiScript}function AN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class RN{constructor(){this.enterprise=new CN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class CN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const xN="recaptcha-enterprise",pA="NO_RECAPTCHA";class IN{constructor(e){this.type=xN,this.auth=So(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,f)=>{sN(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new aN(d);return o.tenantId==null?o._agentRecaptchaConfig=g:o._tenantRecaptchaConfigs[o.tenantId]=g,u(g.siteKey)}}).catch(d=>{f(d)})})}function a(o,u,f){const d=window.grecaptcha;wb(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(g=>{u(g)}).catch(()=>{u(pA)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new RN().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(f=>{if(!n&&wb(window.grecaptcha))a(f,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=TN();d.length!==0&&(d+=f),gA(d).then(()=>{a(f,o,u)}).catch(g=>{u(g)})}}).catch(f=>{u(f)})})}}async function Ob(t,e,n,r=!1,a=!1){const o=new IN(t);let u;if(a)u=pA;else try{u=await o.verify(n)}catch{u=await o.verify(n,!0)}const f=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const d=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const d=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Ty(t,e,n,r,a){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Ob(t,e,n,n==="getOobCode");return r(t,u)}else return r(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Ob(t,e,n,n==="getOobCode");return r(t,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(t,e){const n=Iv(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),o=n.getOptions();if(co(o,e??{}))return a;qr(a,"already-initialized")}return n.initialize({options:e})}function DN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ea);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function NN(t,e,n){const r=So(t);Ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=yA(e),{host:u,port:f}=PN(e),d=f===null?"":`:${f}`,g={url:`${o}//${u}${d}/`},y=Object.freeze({host:u,port:f,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ve(co(g,r.config.emulator)&&co(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Kl(u)?(qw(`${o}//${u}${d}`),$w("Auth",!0)):kN()}function yA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function PN(t){const e=yA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:Db(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:Db(u)}}}function Db(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function kN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ji("not implemented")}_getIdTokenResponse(e){return Ji("not implemented")}_linkToIdToken(e,n){return Ji("not implemented")}_getReauthenticationResolver(e){return Ji("not implemented")}}async function MN(t,e){return ws(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LN(t,e){return Zc(t,"POST","/v1/accounts:signInWithPassword",Ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(t,e){return Zc(t,"POST","/v1/accounts:signInWithEmailLink",Ts(t,e))}async function VN(t,e){return Zc(t,"POST","/v1/accounts:signInWithEmailLink",Ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends Mv{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Oc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Oc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ty(e,n,"signInWithPassword",LN);case"emailLink":return UN(e,{email:this._email,oobCode:this._password});default:qr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ty(e,r,"signUpPassword",MN);case"emailLink":return VN(e,{idToken:n,email:this._email,oobCode:this._password});default:qr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(t,e){return Zc(t,"POST","/v1/accounts:signInWithIdp",Ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN="http://localhost";class ho extends Mv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ho(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=n,o=Ov(n,["providerId","signInMethod"]);if(!r||!a)return null;const u=new ho(r,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Dl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Dl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Dl(e,n)}buildRequest(){const e={requestUri:jN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Xc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function FN(t){const e=lc(uc(t)).link,n=e?lc(uc(e)).deep_link_id:null,r=lc(uc(t)).deep_link_id;return(r?lc(uc(r)).link:null)||r||n||e||t}class Lv{constructor(e){var n,r,a,o,u,f;const d=lc(uc(e)),g=(n=d.apiKey)!==null&&n!==void 0?n:null,y=(r=d.oobCode)!==null&&r!==void 0?r:null,_=zN((a=d.mode)!==null&&a!==void 0?a:null);Ve(g&&y&&_,"argument-error"),this.apiKey=g,this.operation=_,this.code=y,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=d.lang)!==null&&u!==void 0?u:null,this.tenantId=(f=d.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const n=FN(e);try{return new Lv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(){this.providerId=Ql.PROVIDER_ID}static credential(e,n){return Oc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Lv.parseLink(n);return Ve(r,"argument-error"),Oc._fromEmailAndCode(e,r.code,r.tenantId)}}Ql.PROVIDER_ID="password";Ql.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ql.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc extends vA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends Jc{constructor(){super("facebook.com")}static credential(e){return ho._fromParams({providerId:Wa.PROVIDER_ID,signInMethod:Wa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wa.credentialFromTaggedObject(e)}static credentialFromError(e){return Wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wa.credential(e.oauthAccessToken)}catch{return null}}}Wa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za extends Jc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ho._fromParams({providerId:Za.PROVIDER_ID,signInMethod:Za.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Za.credentialFromTaggedObject(e)}static credentialFromError(e){return Za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Za.credential(n,r)}catch{return null}}}Za.GOOGLE_SIGN_IN_METHOD="google.com";Za.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends Jc{constructor(){super("github.com")}static credential(e){return ho._fromParams({providerId:Ja.PROVIDER_ID,signInMethod:Ja.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ja.credentialFromTaggedObject(e)}static credentialFromError(e){return Ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ja.credential(e.oauthAccessToken)}catch{return null}}}Ja.GITHUB_SIGN_IN_METHOD="github.com";Ja.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Jc{constructor(){super("twitter.com")}static credential(e,n){return ho._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return es.credential(n,r)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BN(t,e){return Zc(t,"POST","/v1/accounts:signUp",Ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const o=await zr._fromIdTokenResponse(e,r,a),u=Nb(r);return new mo({user:o,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=Nb(r);return new mo({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function Nb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd extends da{constructor(e,n,r,a){var o;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,gd.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new gd(e,n,r,a)}}function _A(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?gd._fromErrorAndOperation(t,o,e,r):o})}async function HN(t,e,n=!1){const r=await Ic(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return mo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qN(t,e,n=!1){const{auth:r}=t;if(Dr(r.app))return Promise.reject(ta(r));const a="reauthenticate";try{const o=await Ic(t,_A(r,a,e,t),n);Ve(o.idToken,r,"internal-error");const u=Pv(o.idToken);Ve(u,r,"internal-error");const{sub:f}=u;return Ve(t.uid===f,r,"user-mismatch"),mo._forOperation(t,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&qr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EA(t,e,n=!1){if(Dr(t.app))return Promise.reject(ta(t));const r="signIn",a=await _A(t,r,e),o=await mo._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(o.user),o}async function $N(t,e){return EA(So(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bA(t){const e=So(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function GN(t,e,n){if(Dr(t.app))return Promise.reject(ta(t));const r=So(t),u=await Ty(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",BN).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&bA(t),d}),f=await mo._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(f.user),f}function KN(t,e,n){return Dr(t.app)?Promise.reject(ta(t)):$N(Kn(t),Ql.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&bA(t),r})}function YN(t,e,n,r){return Kn(t).onIdTokenChanged(e,n,r)}function QN(t,e,n){return Kn(t).beforeAuthStateChanged(e,n)}function XN(t,e,n,r){return Kn(t).onAuthStateChanged(e,n,r)}function WN(t){return Kn(t).signOut()}const pd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pd,"1"),this.storage.removeItem(pd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=1e3,JN=10;class TA extends SA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,d)=>{this.notifyListeners(u,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);pN()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,JN):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ZN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}TA.type="LOCAL";const eP=TA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA extends SA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}wA.type="SESSION";const AA=wA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Qd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:o}=n.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(u).map(async g=>g(n.origin,o)),d=await tP(f);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((f,d)=>{const g=Uv("",20);a.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),f(E.data.response);break;default:clearTimeout(y),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(){return window}function rP(t){bi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function iP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function sP(){return RA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="firebaseLocalStorageDb",oP=1,yd="firebaseLocalStorage",xA="fbase_key";class ef{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xd(t,e){return t.transaction([yd],e?"readwrite":"readonly").objectStore(yd)}function lP(){const t=indexedDB.deleteDatabase(CA);return new ef(t).toPromise()}function wy(){const t=indexedDB.open(CA,oP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(yd,{keyPath:xA})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(yd)?e(r):(r.close(),await lP(),e(await wy()))})})}async function Pb(t,e,n){const r=Xd(t,!0).put({[xA]:e,value:n});return new ef(r).toPromise()}async function uP(t,e){const n=Xd(t,!1).get(e),r=await new ef(n).toPromise();return r===void 0?null:r.value}function kb(t,e){const n=Xd(t,!0).delete(e);return new ef(n).toPromise()}const cP=800,fP=3;class IA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>fP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qd._getInstance(sP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await iP(),!this.activeServiceWorker)return;this.sender=new nP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wy();return await Pb(e,pd,"1"),await kb(e,pd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Pb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>uP(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Xd(a,!1).getAll();return new ef(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IA.type="LOCAL";const hP=IA;new Wc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t,e){return e?ea(e):(Ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv extends Mv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Dl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Dl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function mP(t){return EA(t.auth,new Vv(t),t.bypassAuthState)}function gP(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),qN(n,new Vv(t),t.bypassAuthState)}async function pP(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),HN(n,new Vv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,n,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:o,error:u,type:f}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(d))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mP;case"linkViaPopup":case"linkViaRedirect":return pP;case"reauthViaPopup":case"reauthViaRedirect":return gP;default:qr(this.auth,"internal-error")}}resolve(e){oa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=new Wc(2e3,1e4);class Rl extends OA{constructor(e,n,r,a,o){super(e,n,a,o),this.provider=r,this.authWindow=null,this.pollId=null,Rl.currentPopupAction&&Rl.currentPopupAction.cancel(),Rl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){oa(this.filter.length===1,"Popup operations only handle one event");const e=Uv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yP.get())};e()}}Rl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP="pendingRedirect",qh=new Map;class _P extends OA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=qh.get(this.auth._key());if(!e){try{const r=await EP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}qh.set(this.auth._key(),e)}return this.bypassAuthState||qh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EP(t,e){const n=TP(e),r=SP(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function bP(t,e){qh.set(t._key(),e)}function SP(t){return ea(t._redirectPersistence)}function TP(t){return Hh(vP,t.config.apiKey,t.name)}async function wP(t,e,n=!1){if(Dr(t.app))return Promise.reject(ta(t));const r=So(t),a=dP(r,e),u=await new _P(r,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=10*60*1e3;class RP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!DA(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ei(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mb(e))}saveEventToCache(e){this.cachedEventUids.add(Mb(e)),this.lastProcessedEventTime=Date.now()}}function Mb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function DA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xP(t,e={}){return ws(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OP=/^https?/;async function DP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await xP(t);for(const n of e)try{if(NP(n))return}catch{}qr(t,"unauthorized-domain")}function NP(t){const e=by(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!OP.test(n))return!1;if(IP.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=new Wc(3e4,6e4);function Lb(){const t=bi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function kP(t){return new Promise((e,n)=>{var r,a,o;function u(){Lb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Lb(),n(Ei(t,"network-request-failed"))},timeout:PP.get()})}if(!((a=(r=bi().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=bi().gapi)===null||o===void 0)&&o.load)u();else{const f=AN("iframefcb");return bi()[f]=()=>{gapi.load?u():n(Ei(t,"network-request-failed"))},gA(`${wN()}?onload=${f}`).catch(d=>n(d))}}).catch(e=>{throw $h=null,e})}let $h=null;function MP(t){return $h=$h||kP(t),$h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=new Wc(5e3,15e3),UP="__/auth/iframe",VP="emulator/auth/iframe",jP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FP(t){const e=t.config;Ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Nv(e,VP):`https://${t.config.authDomain}/${UP}`,r={apiKey:e.apiKey,appName:t.name,v:Yl},a=zP.get(t.config.apiHost);a&&(r.eid=a);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Xc(r).slice(1)}`}async function BP(t){const e=await MP(t),n=bi().gapi;return Ve(n,t,"internal-error"),e.open({where:document.body,url:FP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jP,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const u=Ei(t,"network-request-failed"),f=bi().setTimeout(()=>{o(u)},LP.get());function d(){bi().clearTimeout(f),a(r)}r.ping(d).then(d,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qP=500,$P=600,GP="_blank",KP="http://localhost";class Ub{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YP(t,e,n,r=qP,a=$P){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const d=Object.assign(Object.assign({},HP),{width:r.toString(),height:a.toString(),top:o,left:u}),g=Pn().toLowerCase();n&&(f=lA(g)?GP:n),sA(g)&&(e=e||KP,d.scrollbars="yes");const y=Object.entries(d).reduce((E,[T,A])=>`${E}${T}=${A},`,"");if(gN(g)&&f!=="_self")return QP(e||"",f),new Ub(null);const _=window.open(e||"",f,y);Ve(_,t,"popup-blocked");try{_.focus()}catch{}return new Ub(_)}function QP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP="__/auth/handler",WP="emulator/auth/handler",ZP=encodeURIComponent("fac");async function Vb(t,e,n,r,a,o){Ve(t.config.authDomain,t,"auth-domain-config-required"),Ve(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Yl,eventId:a};if(e instanceof vA){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",UO(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))u[y]=_}if(e instanceof Jc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const d=await t._getAppCheckToken(),g=d?`#${ZP}=${encodeURIComponent(d)}`:"";return`${JP(t)}?${Xc(f).slice(1)}${g}`}function JP({config:t}){return t.emulator?Nv(t,WP):`https://${t.authDomain}/${XP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="webStorageSupport";class ek{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AA,this._completeRedirectFn=wP,this._overrideRedirectResult=bP}async _openPopup(e,n,r,a){var o;oa((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await Vb(e,n,r,by(),a);return YP(e,u,Uv())}async _openRedirect(e,n,r,a){await this._originValidation(e);const o=await Vb(e,n,r,by(),a);return rP(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:o}=this.eventManagers[n];return a?Promise.resolve(a):(oa(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await BP(e),r=new RP(e);return n.register("authEvent",a=>(Ve(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Fp,{type:Fp},a=>{var o;const u=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[Fp];u!==void 0&&n(!!u),qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=DP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return dA()||oA()||kv()}}const tk=ek;var jb="@firebase/auth",zb="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ik(t){Ml(new fo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=r.options;Ve(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mA(t)},g=new bN(r,a,o,d);return DN(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ml(new fo("auth-internal",e=>{const n=So(e.getProvider("auth").getImmediate());return(r=>new nk(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),as(jb,zb,rk(t)),as(jb,zb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=5*60,sk=Hw("authIdTokenMaxAge")||ak;let Fb=null;const ok=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>sk)return;const a=n==null?void 0:n.token;Fb!==a&&(Fb=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function lk(t=Qw()){const e=Iv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=ON(t,{popupRedirectResolver:tk,persistence:[hP,eP,AA]}),r=Hw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=ok(o.toString());QN(n,u,()=>u(n.currentUser)),YN(n,f=>u(f))}}const a=Fw("auth");return a&&NN(n,`http://${a}`),n}function uk(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}SN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const o=Ei("internal-error");o.customData=a,n(o)},r.type="text/javascript",r.charset="UTF-8",uk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ik("Browser");var rc={},Bb;function ck(){if(Bb)return rc;Bb=1,Object.defineProperty(rc,"__esModule",{value:!0}),rc.parse=u,rc.serialize=g;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function u(E,T){const A=new o,M=E.length;if(M<2)return A;const P=(T==null?void 0:T.decode)||y;let j=0;do{const G=E.indexOf("=",j);if(G===-1)break;const Y=E.indexOf(";",j),re=Y===-1?M:Y;if(G>re){j=E.lastIndexOf(";",G-1)+1;continue}const te=f(E,j,G),F=d(E,G,te),D=E.slice(te,F);if(A[D]===void 0){let x=f(E,G+1,re),C=d(E,re,x);const N=P(E.slice(x,C));A[D]=N}j=re+1}while(j<M);return A}function f(E,T,A){do{const M=E.charCodeAt(T);if(M!==32&&M!==9)return T}while(++T<A);return A}function d(E,T,A){for(;T>A;){const M=E.charCodeAt(--T);if(M!==32&&M!==9)return T+1}return A}function g(E,T,A){const M=(A==null?void 0:A.encode)||encodeURIComponent;if(!t.test(E))throw new TypeError(`argument name is invalid: ${E}`);const P=M(T);if(!e.test(P))throw new TypeError(`argument val is invalid: ${T}`);let j=E+"="+P;if(!A)return j;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);j+="; Max-Age="+A.maxAge}if(A.domain){if(!n.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);j+="; Domain="+A.domain}if(A.path){if(!r.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);j+="; Path="+A.path}if(A.expires){if(!_(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);j+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(j+="; HttpOnly"),A.secure&&(j+="; Secure"),A.partitioned&&(j+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return j}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function _(E){return a.call(E)==="[object Date]"}return rc}ck();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var NA=t=>{throw TypeError(t)},fk=(t,e,n)=>e.has(t)||NA("Cannot "+n),Bp=(t,e,n)=>(fk(t,e,"read from private field"),n?n.call(t):e.get(t)),hk=(t,e,n)=>e.has(t)?NA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Hb="popstate";function dk(t={}){function e(a,o){let{pathname:u="/",search:f="",hash:d=""}=ma(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Dc("",{pathname:u,search:f,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){let u=a.document.querySelector("base"),f="";if(u&&u.getAttribute("href")){let d=a.location.href,g=d.indexOf("#");f=g===-1?d:d.slice(0,g)}return f+"#"+(typeof o=="string"?o:cs(o))}function r(a,o){Mt(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return gk(e,n,r,t)}function Je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Mt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mk(){return Math.random().toString(36).substring(2,10)}function qb(t,e){return{usr:t.state,key:t.key,idx:e}}function Dc(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ma(e):e,state:n,key:e&&e.key||r||mk()}}function cs({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ma(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function gk(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,u=a.history,f="POP",d=null,g=y();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function y(){return(u.state||{idx:null}).idx}function _(){f="POP";let P=y(),j=P==null?null:P-g;g=P,d&&d({action:f,location:M.location,delta:j})}function E(P,j){f="PUSH";let G=Dc(M.location,P,j);n&&n(G,P),g=y()+1;let Y=qb(G,g),re=M.createHref(G);try{u.pushState(Y,"",re)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;a.location.assign(re)}o&&d&&d({action:f,location:M.location,delta:1})}function T(P,j){f="REPLACE";let G=Dc(M.location,P,j);n&&n(G,P),g=y();let Y=qb(G,g),re=M.createHref(G);u.replaceState(Y,"",re),o&&d&&d({action:f,location:M.location,delta:0})}function A(P){return PA(P)}let M={get action(){return f},get location(){return t(a,u)},listen(P){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(Hb,_),d=P,()=>{a.removeEventListener(Hb,_),d=null}},createHref(P){return e(a,P)},createURL:A,encodeLocation(P){let j=A(P);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:E,replace:T,go(P){return u.go(P)}};return M}function PA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Je(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:cs(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var cc,$b=class{constructor(t){if(hk(this,cc,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(Bp(this,cc).has(t))return Bp(this,cc).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){Bp(this,cc).set(t,e)}};cc=new WeakMap;var pk=new Set(["lazy","caseSensitive","path","id","index","children"]);function yk(t){return pk.has(t)}var vk=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function _k(t){return vk.has(t)}function Ek(t){return t.index===!0}function vd(t,e,n=[],r={}){return t.map((a,o)=>{let u=[...n,String(o)],f=typeof a.id=="string"?a.id:u.join("-");if(Je(a.index!==!0||!a.children,"Cannot specify children on an index route"),Je(!r[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),Ek(a)){let d={...a,...e(a),id:f};return r[f]=d,d}else{let d={...a,...e(a),id:f,children:void 0};return r[f]=d,a.children&&(d.children=vd(a.children,e,u,r)),d}})}function ts(t,e,n="/"){return Gh(t,e,n,!1)}function Gh(t,e,n,r){let a=typeof e=="string"?ma(e):e,o=Yn(a.pathname||"/",n);if(o==null)return null;let u=kA(t);Sk(u);let f=null;for(let d=0;f==null&&d<u.length;++d){let g=Pk(o);f=Dk(u[d],g,r)}return f}function bk(t,e){let{route:n,pathname:r,params:a}=t;return{id:n.id,pathname:r,params:a,data:e[n.id],handle:n.handle}}function kA(t,e=[],n=[],r=""){let a=(o,u,f)=>{let d={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};d.relativePath.startsWith("/")&&(Je(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let g=Si([r,d.relativePath]),y=n.concat(d);o.children&&o.children.length>0&&(Je(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),kA(o.children,e,y,g)),!(o.path==null&&!o.index)&&e.push({path:g,score:Ik(g,o.index),routesMeta:y})};return t.forEach((o,u)=>{var f;if(o.path===""||!((f=o.path)!=null&&f.includes("?")))a(o,u);else for(let d of MA(o.path))a(o,u,d)}),e}function MA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let u=MA(r.join("/")),f=[];return f.push(...u.map(d=>d===""?o:[o,d].join("/"))),a&&f.push(...u),f.map(d=>t.startsWith("/")&&d===""?"/":d)}function Sk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Ok(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Tk=/^:[\w-]+$/,wk=3,Ak=2,Rk=1,Ck=10,xk=-2,Gb=t=>t==="*";function Ik(t,e){let n=t.split("/"),r=n.length;return n.some(Gb)&&(r+=xk),e&&(r+=Ak),n.filter(a=>!Gb(a)).reduce((a,o)=>a+(Tk.test(o)?wk:o===""?Rk:Ck),r)}function Ok(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function Dk(t,e,n=!1){let{routesMeta:r}=t,a={},o="/",u=[];for(let f=0;f<r.length;++f){let d=r[f],g=f===r.length-1,y=o==="/"?e:e.slice(o.length)||"/",_=_d({path:d.relativePath,caseSensitive:d.caseSensitive,end:g},y),E=d.route;if(!_&&g&&n&&!r[r.length-1].route.index&&(_=_d({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),u.push({params:a,pathname:Si([o,_.pathname]),pathnameBase:Lk(Si([o,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(o=Si([o,_.pathnameBase]))}return u}function _d(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Nk(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:r.reduce((g,{paramName:y,isOptional:_},E)=>{if(y==="*"){let A=f[E]||"";u=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const T=f[E];return _&&!T?g[y]=void 0:g[y]=(T||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:u,pattern:t}}function Nk(t,e=!1,n=!0){Mt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,d)=>(r.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function Pk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Yn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function kk(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?ma(t):t;return{pathname:n?n.startsWith("/")?n:Mk(n,e):e,search:Uk(r),hash:Vk(a)}}function Mk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Hp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function LA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Wd(t){let e=LA(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Zd(t,e,n,r=!1){let a;typeof t=="string"?a=ma(t):(a={...t},Je(!a.pathname||!a.pathname.includes("?"),Hp("?","pathname","search",a)),Je(!a.pathname||!a.pathname.includes("#"),Hp("#","pathname","hash",a)),Je(!a.search||!a.search.includes("#"),Hp("#","search","hash",a)));let o=t===""||a.pathname==="",u=o?"/":a.pathname,f;if(u==null)f=n;else{let _=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),_-=1;a.pathname=E.join("/")}f=_>=0?e[_]:"/"}let d=kk(a,f),g=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(g||y)&&(d.pathname+="/"),d}var Si=t=>t.join("/").replace(/\/\/+/g,"/"),Lk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Uk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Vk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Ed=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Nc(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var UA=["POST","PUT","PATCH","DELETE"],jk=new Set(UA),zk=["GET",...UA],Fk=new Set(zk),Bk=new Set([301,302,303,307,308]),Hk=new Set([307,308]),qp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},qk={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},El={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},jv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$k=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),VA="remix-router-transitions",jA=Symbol("ResetLoaderData");function Gk(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Je(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],a=t.mapRouteProperties||$k,o={},u=vd(t.routes,a,void 0,o),f,d=t.basename||"/",g=t.dataStrategy||Wk,y={unstable_middleware:!1,...t.future},_=null,E=new Set,T=null,A=null,M=null,P=t.hydrationData!=null,j=ts(u,t.history.location,d),G=!1,Y=null,re;if(j==null&&!t.patchRoutesOnNavigation){let z=Or(404,{pathname:t.history.location.pathname}),{matches:$,route:X}=iS(u);re=!0,j=$,Y={[X.id]:z}}else if(j&&!t.hydrationData&&Un(j,u,t.history.location.pathname).active&&(j=null),j)if(j.some(z=>z.route.lazy))re=!1;else if(!j.some(z=>z.route.loader))re=!0;else{let z=t.hydrationData?t.hydrationData.loaderData:null,$=t.hydrationData?t.hydrationData.errors:null;if($){let X=j.findIndex(oe=>$[oe.route.id]!==void 0);re=j.slice(0,X+1).every(oe=>!Ry(oe.route,z,$))}else re=j.every(X=>!Ry(X.route,z,$))}else{re=!1,j=[];let z=Un(null,u,t.history.location.pathname);z.active&&z.matches&&(G=!0,j=z.matches)}let te,F={historyAction:t.history.action,location:t.history.location,matches:j,initialized:re,navigation:qp,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||Y,fetchers:new Map,blockers:new Map},D="POP",x=!1,C,N=!1,U=new Map,H=null,k=!1,Re=!1,Fe=new Set,W=new Map,fe=0,ye=-1,Ne=new Map,V=new Set,ie=new Map,de=new Map,ue=new Set,be=new Map,Be,Oe=null;function Gt(){if(_=t.history.listen(({action:z,location:$,delta:X})=>{if(Be){Be(),Be=void 0;return}Mt(be.size===0||X!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let oe=ba({currentLocation:F.location,nextLocation:$,historyAction:z});if(oe&&X!=null){let me=new Promise(ve=>{Be=ve});t.history.go(X*-1),gr(oe,{state:"blocked",location:$,proceed(){gr(oe,{state:"proceeding",proceed:void 0,reset:void 0,location:$}),me.then(()=>t.history.go(X))},reset(){let ve=new Map(F.blockers);ve.set(oe,El),Ot({blockers:ve})}});return}return Mn(z,$)}),n){lM(e,U);let z=()=>uM(e,U);e.addEventListener("pagehide",z),H=()=>e.removeEventListener("pagehide",z)}return F.initialized||Mn("POP",F.location,{initialHydration:!0}),te}function bt(){_&&_(),H&&H(),E.clear(),C&&C.abort(),F.fetchers.forEach((z,$)=>Kt($)),F.blockers.forEach((z,$)=>Oi($))}function hr(z){return E.add(z),()=>E.delete(z)}function Ot(z,$={}){F={...F,...z};let X=[],oe=[];F.fetchers.forEach((me,ve)=>{me.state==="idle"&&(ue.has(ve)?X.push(ve):oe.push(ve))}),ue.forEach(me=>{!F.fetchers.has(me)&&!W.has(me)&&X.push(me)}),[...E].forEach(me=>me(F,{deletedFetchers:X,viewTransitionOpts:$.viewTransitionOpts,flushSync:$.flushSync===!0})),X.forEach(me=>Kt(me)),oe.forEach(me=>F.fetchers.delete(me))}function An(z,$,{flushSync:X}={}){var Ce,ke;let oe=F.actionData!=null&&F.navigation.formMethod!=null&&or(F.navigation.formMethod)&&F.navigation.state==="loading"&&((Ce=z.state)==null?void 0:Ce._isRedirect)!==!0,me;$.actionData?Object.keys($.actionData).length>0?me=$.actionData:me=null:oe?me=F.actionData:me=null;let ve=$.loaderData?nS(F.loaderData,$.loaderData,$.matches||[],$.errors):F.loaderData,De=F.blockers;De.size>0&&(De=new Map(De),De.forEach((we,Le)=>De.set(Le,El)));let Ee=x===!0||F.navigation.formMethod!=null&&or(F.navigation.formMethod)&&((ke=z.state)==null?void 0:ke._isRedirect)!==!0;f&&(u=f,f=void 0),k||D==="POP"||(D==="PUSH"?t.history.push(z,z.state):D==="REPLACE"&&t.history.replace(z,z.state));let Te;if(D==="POP"){let we=U.get(F.location.pathname);we&&we.has(z.pathname)?Te={currentLocation:F.location,nextLocation:z}:U.has(z.pathname)&&(Te={currentLocation:z,nextLocation:F.location})}else if(N){let we=U.get(F.location.pathname);we?we.add(z.pathname):(we=new Set([z.pathname]),U.set(F.location.pathname,we)),Te={currentLocation:F.location,nextLocation:z}}Ot({...$,actionData:me,loaderData:ve,historyAction:D,location:z,initialized:!0,navigation:qp,revalidation:"idle",restoreScrollPosition:Sa(z,$.matches||F.matches),preventScrollReset:Ee,blockers:De},{viewTransitionOpts:Te,flushSync:X===!0}),D="POP",x=!1,N=!1,k=!1,Re=!1,Oe==null||Oe.resolve(),Oe=null}async function Qr(z,$){if(typeof z=="number"){t.history.go(z);return}let X=Ay(F.location,F.matches,d,z,$==null?void 0:$.fromRouteId,$==null?void 0:$.relative),{path:oe,submission:me,error:ve}=Kb(!1,X,$),De=F.location,Ee=Dc(F.location,oe,$&&$.state);Ee={...Ee,...t.history.encodeLocation(Ee)};let Te=$&&$.replace!=null?$.replace:void 0,Ce="PUSH";Te===!0?Ce="REPLACE":Te===!1||me!=null&&or(me.formMethod)&&me.formAction===F.location.pathname+F.location.search&&(Ce="REPLACE");let ke=$&&"preventScrollReset"in $?$.preventScrollReset===!0:void 0,we=($&&$.flushSync)===!0,Le=ba({currentLocation:De,nextLocation:Ee,historyAction:Ce});if(Le){gr(Le,{state:"blocked",location:Ee,proceed(){gr(Le,{state:"proceeding",proceed:void 0,reset:void 0,location:Ee}),Qr(z,$)},reset(){let et=new Map(F.blockers);et.set(Le,El),Ot({blockers:et})}});return}await Mn(Ce,Ee,{submission:me,pendingError:ve,preventScrollReset:ke,replace:$&&$.replace,enableViewTransition:$&&$.viewTransition,flushSync:we})}function xi(){Oe||(Oe=cM()),Ea(),Ot({revalidation:"loading"});let z=Oe.promise;return F.navigation.state==="submitting"?z:F.navigation.state==="idle"?(Mn(F.historyAction,F.location,{startUninterruptedRevalidation:!0}),z):(Mn(D||F.historyAction,F.navigation.location,{overrideNavigation:F.navigation,enableViewTransition:N===!0}),z)}async function Mn(z,$,X){C&&C.abort(),C=null,D=z,k=(X&&X.startUninterruptedRevalidation)===!0,kr(F.location,F.matches),x=(X&&X.preventScrollReset)===!0,N=(X&&X.enableViewTransition)===!0;let oe=f||u,me=X&&X.overrideNavigation,ve=X!=null&&X.initialHydration&&F.matches&&F.matches.length>0&&!G?F.matches:ts(oe,$,d),De=(X&&X.flushSync)===!0;if(ve&&F.initialized&&!Re&&rM(F.location,$)&&!(X&&X.submission&&or(X.submission.formMethod))){An($,{matches:ve},{flushSync:De});return}let Ee=Un(ve,oe,$.pathname);if(Ee.active&&Ee.matches&&(ve=Ee.matches),!ve){let{error:ht,notFoundMatches:ot,route:We}=Di($.pathname);An($,{matches:ot,loaderData:{},errors:{[We.id]:ht}},{flushSync:De});return}C=new AbortController;let Te=bl(t.history,$,C.signal,X&&X.submission),Ce=new $b(t.unstable_getContext?await t.unstable_getContext():void 0),ke;if(X&&X.pendingError)ke=[io(ve).route.id,{type:"error",error:X.pendingError}];else if(X&&X.submission&&or(X.submission.formMethod)){let ht=await Cs(Te,$,X.submission,ve,Ce,Ee.active,X&&X.initialHydration===!0,{replace:X.replace,flushSync:De});if(ht.shortCircuited)return;if(ht.pendingActionResult){let[ot,We]=ht.pendingActionResult;if(sr(We)&&Nc(We.error)&&We.error.status===404){C=null,An($,{matches:ht.matches,loaderData:{},errors:{[ot]:We.error}});return}}ve=ht.matches||ve,ke=ht.pendingActionResult,me=$p($,X.submission),De=!1,Ee.active=!1,Te=bl(t.history,Te.url,Te.signal)}let{shortCircuited:we,matches:Le,loaderData:et,errors:pt}=await Oo(Te,$,ve,Ce,Ee.active,me,X&&X.submission,X&&X.fetcherSubmission,X&&X.replace,X&&X.initialHydration===!0,De,ke);we||(C=null,An($,{matches:Le||ve,...rS(ke),loaderData:et,errors:pt}))}async function Cs(z,$,X,oe,me,ve,De,Ee={}){Ea();let Te=sM($,X);if(Ot({navigation:Te},{flushSync:Ee.flushSync===!0}),ve){let we=await Jr(oe,$.pathname,z.signal);if(we.type==="aborted")return{shortCircuited:!0};if(we.type==="error"){let Le=io(we.partialMatches).route.id;return{matches:we.partialMatches,pendingActionResult:[Le,{type:"error",error:we.error}]}}else if(we.matches)oe=we.matches;else{let{notFoundMatches:Le,error:et,route:pt}=Di($.pathname);return{matches:Le,pendingActionResult:[pt.id,{type:"error",error:et}]}}}let Ce,ke=fc(oe,$);if(!ke.route.action&&!ke.route.lazy)Ce={type:"error",error:Or(405,{method:z.method,pathname:$.pathname,routeId:ke.route.id})};else{let we=Nl(a,o,z,oe,ke,De?[]:r,me),Le=await dr(z,we,me,null);if(Ce=Le[ke.route.id],!Ce){for(let et of oe)if(Le[et.route.id]){Ce=Le[et.route.id];break}}if(z.signal.aborted)return{shortCircuited:!0}}if(ao(Ce)){let we;return Ee&&Ee.replace!=null?we=Ee.replace:we=Jb(Ce.response.headers.get("Location"),new URL(z.url),d)===F.location.pathname+F.location.search,await Pr(z,Ce,!0,{submission:X,replace:we}),{shortCircuited:!0}}if(sr(Ce)){let we=io(oe,ke.route.id);return(Ee&&Ee.replace)!==!0&&(D="PUSH"),{matches:oe,pendingActionResult:[we.route.id,Ce,ke.route.id]}}return{matches:oe,pendingActionResult:[ke.route.id,Ce]}}async function Oo(z,$,X,oe,me,ve,De,Ee,Te,Ce,ke,we){let Le=ve||$p($,De),et=De||Ee||sS(Le),pt=!k&&!Ce;if(me){if(pt){let Yt=Ln(we);Ot({navigation:Le,...Yt!==void 0?{actionData:Yt}:{}},{flushSync:ke})}let He=await Jr(X,$.pathname,z.signal);if(He.type==="aborted")return{shortCircuited:!0};if(He.type==="error"){let Yt=io(He.partialMatches).route.id;return{matches:He.partialMatches,loaderData:{},errors:{[Yt]:He.error}}}else if(He.matches)X=He.matches;else{let{error:Yt,notFoundMatches:Wn,route:Bn}=Di($.pathname);return{matches:Wn,loaderData:{},errors:{[Bn.id]:Yt}}}}let ht=f||u,{dsMatches:ot,revalidatingFetchers:We}=Yb(z,oe,a,o,t.history,F,X,et,$,Ce?[]:r,Ce===!0,Re,Fe,ue,ie,V,ht,d,t.patchRoutesOnNavigation!=null,we);if(ye=++fe,!t.dataStrategy&&!ot.some(He=>He.shouldLoad)&&We.length===0){let He=Wr();return An($,{matches:X,loaderData:{},errors:we&&sr(we[1])?{[we[0]]:we[1].error}:null,...rS(we),...He?{fetchers:new Map(F.fetchers)}:{}},{flushSync:ke}),{shortCircuited:!0}}if(pt){let He={};if(!me){He.navigation=Le;let Yt=Ln(we);Yt!==void 0&&(He.actionData=Yt)}We.length>0&&(He.fetchers=ru(We)),Ot(He,{flushSync:ke})}We.forEach(He=>{mr(He.key),He.controller&&W.set(He.key,He.controller)});let yr=()=>We.forEach(He=>mr(He.key));C&&C.signal.addEventListener("abort",yr);let{loaderResults:Jt,fetcherResults:Vn}=await _a(ot,We,z,oe);if(z.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",yr),We.forEach(He=>W.delete(He.key));let mn=Oh(Jt);if(mn)return await Pr(z,mn.result,!0,{replace:Te}),{shortCircuited:!0};if(mn=Oh(Vn),mn)return V.add(mn.key),await Pr(z,mn.result,!0,{replace:Te}),{shortCircuited:!0};let{loaderData:ti,errors:Xn}=tS(F,X,Jt,we,We,Vn);Ce&&F.errors&&(Xn={...F.errors,...Xn});let wa=Wr(),Cn=Zr(ye),jn=wa||Cn||We.length>0;return{matches:X,loaderData:ti,errors:Xn,...jn?{fetchers:new Map(F.fetchers)}:{}}}function Ln(z){if(z&&!sr(z[1]))return{[z[0]]:z[1].data};if(F.actionData)return Object.keys(F.actionData).length===0?null:F.actionData}function ru(z){return z.forEach($=>{let X=F.fetchers.get($.key),oe=ic(void 0,X?X.data:void 0);F.fetchers.set($.key,oe)}),new Map(F.fetchers)}async function xs(z,$,X,oe){mr(z);let me=(oe&&oe.flushSync)===!0,ve=f||u,De=Ay(F.location,F.matches,d,X,$,oe==null?void 0:oe.relative),Ee=ts(ve,De,d),Te=Un(Ee,ve,De);if(Te.active&&Te.matches&&(Ee=Te.matches),!Ee){Ye(z,$,Or(404,{pathname:De}),{flushSync:me});return}let{path:Ce,submission:ke,error:we}=Kb(!0,De,oe);if(we){Ye(z,$,we,{flushSync:me});return}let Le=fc(Ee,Ce),et=new $b(t.unstable_getContext?await t.unstable_getContext():void 0),pt=(oe&&oe.preventScrollReset)===!0;if(ke&&or(ke.formMethod)){await va(z,$,Ce,Le,Ee,et,Te.active,me,pt,ke);return}ie.set(z,{routeId:$,path:Ce}),await Ii(z,$,Ce,Le,Ee,et,Te.active,me,pt,ke)}async function va(z,$,X,oe,me,ve,De,Ee,Te,Ce){Ea(),ie.delete(z);function ke(Rt){if(!Rt.route.action&&!Rt.route.lazy){let vr=Or(405,{method:Ce.formMethod,pathname:X,routeId:$});return Ye(z,$,vr,{flushSync:Ee}),!0}return!1}if(!De&&ke(oe))return;let we=F.fetchers.get(z);mt(z,oM(Ce,we),{flushSync:Ee});let Le=new AbortController,et=bl(t.history,X,Le.signal,Ce);if(De){let Rt=await Jr(me,X,et.signal,z);if(Rt.type==="aborted")return;if(Rt.type==="error"){Ye(z,$,Rt.error,{flushSync:Ee});return}else if(Rt.matches){if(me=Rt.matches,oe=fc(me,X),ke(oe))return}else{Ye(z,$,Or(404,{pathname:X}),{flushSync:Ee});return}}W.set(z,Le);let pt=fe,ht=Nl(a,o,et,me,oe,r,ve),We=(await dr(et,ht,ve,z))[oe.route.id];if(et.signal.aborted){W.get(z)===Le&&W.delete(z);return}if(ue.has(z)){if(ao(We)||sr(We)){mt(z,Xa(void 0));return}}else{if(ao(We))if(W.delete(z),ye>pt){mt(z,Xa(void 0));return}else return V.add(z),mt(z,ic(Ce)),Pr(et,We,!1,{fetcherSubmission:Ce,preventScrollReset:Te});if(sr(We)){Ye(z,$,We.error);return}}let yr=F.navigation.location||F.location,Jt=bl(t.history,yr,Le.signal),Vn=f||u,mn=F.navigation.state!=="idle"?ts(Vn,F.navigation.location,d):F.matches;Je(mn,"Didn't find any matches after fetcher action");let ti=++fe;Ne.set(z,ti);let Xn=ic(Ce,We.data);F.fetchers.set(z,Xn);let{dsMatches:wa,revalidatingFetchers:Cn}=Yb(Jt,ve,a,o,t.history,F,mn,Ce,yr,r,!1,Re,Fe,ue,ie,V,Vn,d,t.patchRoutesOnNavigation!=null,[oe.route.id,We]);Cn.filter(Rt=>Rt.key!==z).forEach(Rt=>{let vr=Rt.key,Ni=F.fetchers.get(vr),gn=ic(void 0,Ni?Ni.data:void 0);F.fetchers.set(vr,gn),mr(vr),Rt.controller&&W.set(vr,Rt.controller)}),Ot({fetchers:new Map(F.fetchers)});let jn=()=>Cn.forEach(Rt=>mr(Rt.key));Le.signal.addEventListener("abort",jn);let{loaderResults:He,fetcherResults:Yt}=await _a(wa,Cn,Jt,ve);if(Le.signal.aborted)return;if(Le.signal.removeEventListener("abort",jn),Ne.delete(z),W.delete(z),Cn.forEach(Rt=>W.delete(Rt.key)),F.fetchers.has(z)){let Rt=Xa(We.data);F.fetchers.set(z,Rt)}let Wn=Oh(He);if(Wn)return Pr(Jt,Wn.result,!1,{preventScrollReset:Te});if(Wn=Oh(Yt),Wn)return V.add(Wn.key),Pr(Jt,Wn.result,!1,{preventScrollReset:Te});let{loaderData:Bn,errors:ni}=tS(F,mn,He,void 0,Cn,Yt);Zr(ti),F.navigation.state==="loading"&&ti>ye?(Je(D,"Expected pending action"),C&&C.abort(),An(F.navigation.location,{matches:mn,loaderData:Bn,errors:ni,fetchers:new Map(F.fetchers)})):(Ot({errors:ni,loaderData:nS(F.loaderData,Bn,mn,ni),fetchers:new Map(F.fetchers)}),Re=!1)}async function Ii(z,$,X,oe,me,ve,De,Ee,Te,Ce){let ke=F.fetchers.get(z);mt(z,ic(Ce,ke?ke.data:void 0),{flushSync:Ee});let we=new AbortController,Le=bl(t.history,X,we.signal);if(De){let We=await Jr(me,X,Le.signal,z);if(We.type==="aborted")return;if(We.type==="error"){Ye(z,$,We.error,{flushSync:Ee});return}else if(We.matches)me=We.matches,oe=fc(me,X);else{Ye(z,$,Or(404,{pathname:X}),{flushSync:Ee});return}}W.set(z,we);let et=fe,pt=Nl(a,o,Le,me,oe,r,ve),ot=(await dr(Le,pt,ve,z))[oe.route.id];if(W.get(z)===we&&W.delete(z),!Le.signal.aborted){if(ue.has(z)){mt(z,Xa(void 0));return}if(ao(ot))if(ye>et){mt(z,Xa(void 0));return}else{V.add(z),await Pr(Le,ot,!1,{preventScrollReset:Te});return}if(sr(ot)){Ye(z,$,ot.error);return}mt(z,Xa(ot.data))}}async function Pr(z,$,X,{submission:oe,fetcherSubmission:me,preventScrollReset:ve,replace:De}={}){$.response.headers.has("X-Remix-Revalidate")&&(Re=!0);let Ee=$.response.headers.get("Location");Je(Ee,"Expected a Location header on the redirect Response"),Ee=Jb(Ee,new URL(z.url),d);let Te=Dc(F.location,Ee,{_isRedirect:!0});if(n){let pt=!1;if($.response.headers.has("X-Remix-Reload-Document"))pt=!0;else if(jv.test(Ee)){const ht=PA(Ee,!0);pt=ht.origin!==e.location.origin||Yn(ht.pathname,d)==null}if(pt){De?e.location.replace(Ee):e.location.assign(Ee);return}}C=null;let Ce=De===!0||$.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ke,formAction:we,formEncType:Le}=F.navigation;!oe&&!me&&ke&&we&&Le&&(oe=sS(F.navigation));let et=oe||me;if(Hk.has($.response.status)&&et&&or(et.formMethod))await Mn(Ce,Te,{submission:{...et,formAction:Ee},preventScrollReset:ve||x,enableViewTransition:X?N:void 0});else{let pt=$p(Te,oe);await Mn(Ce,Te,{overrideNavigation:pt,fetcherSubmission:me,preventScrollReset:ve||x,enableViewTransition:X?N:void 0})}}async function dr(z,$,X,oe){let me,ve={};try{me=await Zk(g,z,$,oe,X,!1)}catch(De){return $.filter(Ee=>Ee.shouldLoad).forEach(Ee=>{ve[Ee.route.id]={type:"error",error:De}}),ve}if(z.signal.aborted)return ve;for(let[De,Ee]of Object.entries(me))if(iM(Ee)){let Te=Ee.result;ve[De]={type:"redirect",response:tM(Te,z,De,$,d)}}else ve[De]=await eM(Ee);return ve}async function _a(z,$,X,oe){let me=dr(X,z,oe,null),ve=Promise.all($.map(async Te=>{if(Te.matches&&Te.match&&Te.request&&Te.controller){let ke=(await dr(Te.request,Te.matches,oe,Te.key))[Te.match.route.id];return{[Te.key]:ke}}else return Promise.resolve({[Te.key]:{type:"error",error:Or(404,{pathname:Te.path})}})})),De=await me,Ee=(await ve).reduce((Te,Ce)=>Object.assign(Te,Ce),{});return{loaderResults:De,fetcherResults:Ee}}function Ea(){Re=!0,ie.forEach((z,$)=>{W.has($)&&Fe.add($),mr($)})}function mt(z,$,X={}){F.fetchers.set(z,$),Ot({fetchers:new Map(F.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function Ye(z,$,X,oe={}){let me=io(F.matches,$);Kt(z),Ot({errors:{[me.route.id]:X},fetchers:new Map(F.fetchers)},{flushSync:(oe&&oe.flushSync)===!0})}function Rn(z){return de.set(z,(de.get(z)||0)+1),ue.has(z)&&ue.delete(z),F.fetchers.get(z)||qk}function Kt(z){let $=F.fetchers.get(z);W.has(z)&&!($&&$.state==="loading"&&Ne.has(z))&&mr(z),ie.delete(z),Ne.delete(z),V.delete(z),ue.delete(z),Fe.delete(z),F.fetchers.delete(z)}function Do(z){let $=(de.get(z)||0)-1;$<=0?(de.delete(z),ue.add(z)):de.set(z,$),Ot({fetchers:new Map(F.fetchers)})}function mr(z){let $=W.get(z);$&&($.abort(),W.delete(z))}function Xr(z){for(let $ of z){let X=Rn($),oe=Xa(X.data);F.fetchers.set($,oe)}}function Wr(){let z=[],$=!1;for(let X of V){let oe=F.fetchers.get(X);Je(oe,`Expected fetcher: ${X}`),oe.state==="loading"&&(V.delete(X),z.push(X),$=!0)}return Xr(z),$}function Zr(z){let $=[];for(let[X,oe]of Ne)if(oe<z){let me=F.fetchers.get(X);Je(me,`Expected fetcher: ${X}`),me.state==="loading"&&(mr(X),Ne.delete(X),$.push(X))}return Xr($),$.length>0}function Qn(z,$){let X=F.blockers.get(z)||El;return be.get(z)!==$&&be.set(z,$),X}function Oi(z){F.blockers.delete(z),be.delete(z)}function gr(z,$){let X=F.blockers.get(z)||El;Je(X.state==="unblocked"&&$.state==="blocked"||X.state==="blocked"&&$.state==="blocked"||X.state==="blocked"&&$.state==="proceeding"||X.state==="blocked"&&$.state==="unblocked"||X.state==="proceeding"&&$.state==="unblocked",`Invalid blocker state transition: ${X.state} -> ${$.state}`);let oe=new Map(F.blockers);oe.set(z,$),Ot({blockers:oe})}function ba({currentLocation:z,nextLocation:$,historyAction:X}){if(be.size===0)return;be.size>1&&Mt(!1,"A router only supports one blocker at a time");let oe=Array.from(be.entries()),[me,ve]=oe[oe.length-1],De=F.blockers.get(me);if(!(De&&De.state==="proceeding")&&ve({currentLocation:z,nextLocation:$,historyAction:X}))return me}function Di(z){let $=Or(404,{pathname:z}),X=f||u,{matches:oe,route:me}=iS(X);return{notFoundMatches:oe,route:me,error:$}}function Is(z,$,X){if(T=z,M=$,A=X||null,!P&&F.navigation===qp){P=!0;let oe=Sa(F.location,F.matches);oe!=null&&Ot({restoreScrollPosition:oe})}return()=>{T=null,M=null,A=null}}function pr(z,$){return A&&A(z,$.map(oe=>bk(oe,F.loaderData)))||z.key}function kr(z,$){if(T&&M){let X=pr(z,$);T[X]=M()}}function Sa(z,$){if(T){let X=pr(z,$),oe=T[X];if(typeof oe=="number")return oe}return null}function Un(z,$,X){if(t.patchRoutesOnNavigation)if(z){if(Object.keys(z[0].params).length>0)return{active:!0,matches:Gh($,X,d,!0)}}else return{active:!0,matches:Gh($,X,d,!0)||[]};return{active:!1,matches:null}}async function Jr(z,$,X,oe){if(!t.patchRoutesOnNavigation)return{type:"success",matches:z};let me=z;for(;;){let ve=f==null,De=f||u,Ee=o;try{await t.patchRoutesOnNavigation({signal:X,path:$,matches:me,fetcherKey:oe,patch:(ke,we)=>{X.aborted||Qb(ke,we,De,Ee,a)}})}catch(ke){return{type:"error",error:ke,partialMatches:me}}finally{ve&&!X.aborted&&(u=[...u])}if(X.aborted)return{type:"aborted"};let Te=ts(De,$,d);if(Te)return{type:"success",matches:Te};let Ce=Gh(De,$,d,!0);if(!Ce||me.length===Ce.length&&me.every((ke,we)=>ke.route.id===Ce[we].route.id))return{type:"success",matches:null};me=Ce}}function ei(z){o={},f=vd(z,a,void 0,o)}function Ta(z,$){let X=f==null;Qb(z,$,f||u,o,a),X&&(u=[...u],Ot({}))}return te={get basename(){return d},get future(){return y},get state(){return F},get routes(){return u},get window(){return e},initialize:Gt,subscribe:hr,enableScrollRestoration:Is,navigate:Qr,fetch:xs,revalidate:xi,createHref:z=>t.history.createHref(z),encodeLocation:z=>t.history.encodeLocation(z),getFetcher:Rn,deleteFetcher:Do,dispose:bt,getBlocker:Qn,deleteBlocker:Oi,patchRoutes:Ta,_internalFetchControllers:W,_internalSetRoutes:ei},te}function Kk(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Ay(t,e,n,r,a,o){let u,f;if(a){u=[];for(let g of e)if(u.push(g),g.route.id===a){f=g;break}}else u=e,f=e[e.length-1];let d=Zd(r||".",Wd(u),Yn(t.pathname,n)||t.pathname,o==="path");if(r==null&&(d.search=t.search,d.hash=t.hash),(r==null||r===""||r===".")&&f){let g=zv(d.search);if(f.route.index&&!g)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&g){let y=new URLSearchParams(d.search),_=y.getAll("index");y.delete("index"),_.filter(T=>T).forEach(T=>y.append("index",T));let E=y.toString();d.search=E?`?${E}`:""}}return n!=="/"&&(d.pathname=d.pathname==="/"?n:Si([n,d.pathname])),cs(d)}function Kb(t,e,n){if(!n||!Kk(n))return{path:e};if(n.formMethod&&!aM(n.formMethod))return{path:e,error:Or(405,{method:n.formMethod})};let r=()=>({path:e,error:Or(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),u=$A(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!or(o))return r();let _=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((E,[T,A])=>`${E}${T}=${A}
`,""):String(n.body);return{path:e,submission:{formMethod:o,formAction:u,formEncType:n.formEncType,formData:void 0,json:void 0,text:_}}}else if(n.formEncType==="application/json"){if(!or(o))return r();try{let _=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:o,formAction:u,formEncType:n.formEncType,formData:void 0,json:_,text:void 0}}}catch{return r()}}}Je(typeof FormData=="function","FormData is not available in this environment");let f,d;if(n.formData)f=xy(n.formData),d=n.formData;else if(n.body instanceof FormData)f=xy(n.body),d=n.body;else if(n.body instanceof URLSearchParams)f=n.body,d=eS(f);else if(n.body==null)f=new URLSearchParams,d=new FormData;else try{f=new URLSearchParams(n.body),d=eS(f)}catch{return r()}let g={formMethod:o,formAction:u,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(or(g.formMethod))return{path:e,submission:g};let y=ma(e);return t&&y.search&&zv(y.search)&&f.append("index",""),y.search=`?${f}`,{path:cs(y),submission:g}}function Yb(t,e,n,r,a,o,u,f,d,g,y,_,E,T,A,M,P,j,G,Y){var k;let re=Y?sr(Y[1])?Y[1].error:Y[1].data:void 0,te=a.createURL(o.location),F=a.createURL(d),D;if(y&&o.errors){let Re=Object.keys(o.errors)[0];D=u.findIndex(Fe=>Fe.route.id===Re)}else if(Y&&sr(Y[1])){let Re=Y[0];D=u.findIndex(Fe=>Fe.route.id===Re)-1}let x=Y?Y[1].statusCode:void 0,C=x&&x>=400,N={currentUrl:te,currentParams:((k=o.matches[0])==null?void 0:k.params)||{},nextUrl:F,nextParams:u[0].params,...f,actionResult:re,actionStatus:x},U=u.map((Re,Fe)=>{let{route:W}=Re,fe=null;if(D!=null&&Fe>D?fe=!1:W.lazy?fe=!0:W.loader==null?fe=!1:y?fe=Ry(W,o.loaderData,o.errors):Yk(o.loaderData,o.matches[Fe],Re)&&(fe=!0),fe!==null)return Cy(n,r,t,Re,g,e,fe);let ye=C?!1:_||te.pathname+te.search===F.pathname+F.search||te.search!==F.search||Qk(o.matches[Fe],Re),Ne={...N,defaultShouldRevalidate:ye},V=bd(Re,Ne);return Cy(n,r,t,Re,g,e,V,Ne)}),H=[];return A.forEach((Re,Fe)=>{if(y||!u.some(ue=>ue.route.id===Re.routeId)||T.has(Fe))return;let W=o.fetchers.get(Fe),fe=W&&W.state!=="idle"&&W.data===void 0,ye=ts(P,Re.path,j);if(!ye){if(G&&fe)return;H.push({key:Fe,routeId:Re.routeId,path:Re.path,matches:null,match:null,request:null,controller:null});return}if(M.has(Fe))return;let Ne=fc(ye,Re.path),V=new AbortController,ie=bl(a,Re.path,V.signal),de=null;if(E.has(Fe))E.delete(Fe),de=Nl(n,r,ie,ye,Ne,g,e);else if(fe)_&&(de=Nl(n,r,ie,ye,Ne,g,e));else{let ue={...N,defaultShouldRevalidate:C?!1:_};bd(Ne,ue)&&(de=Nl(n,r,ie,ye,Ne,g,e,ue))}de&&H.push({key:Fe,routeId:Re.routeId,path:Re.path,matches:de,match:Ne,request:ie,controller:V})}),{dsMatches:U,revalidatingFetchers:H}}function Ry(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&t.id in e,a=n!=null&&n[t.id]!==void 0;return!r&&a?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!a}function Yk(t,e,n){let r=!e||n.route.id!==e.route.id,a=!t.hasOwnProperty(n.route.id);return r||a}function Qk(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function bd(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Qb(t,e,n,r,a){let o;if(t){let d=r[t];Je(d,`No route found to patch children into: routeId = ${t}`),d.children||(d.children=[]),o=d.children}else o=n;let u=e.filter(d=>!o.some(g=>zA(d,g))),f=vd(u,a,[t||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...f)}function zA(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var a;return(a=e.children)==null?void 0:a.some(o=>zA(n,o))}):!1}var Xb=new WeakMap,FA=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let a=n[e.id];if(Je(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let o=a.lazy[t];if(!o)return;let u=Xb.get(a);u||(u={},Xb.set(a,u));let f=u[t];if(f)return f;let d=(async()=>{let g=yk(t),_=a[t]!==void 0&&t!=="hasErrorBoundary";if(g)Mt(!g,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),u[t]=Promise.resolve();else if(_)Mt(!1,`Route "${a.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let E=await o();E!=null&&(Object.assign(a,{[t]:E}),Object.assign(a,r(a)))}typeof a.lazy=="object"&&(a.lazy[t]=void 0,Object.values(a.lazy).every(E=>E===void 0)&&(a.lazy=void 0))})();return u[t]=d,d},Wb=new WeakMap;function Xk(t,e,n,r,a){let o=n[t.id];if(Je(o,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let y=Wb.get(o);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let _=(async()=>{Je(typeof t.lazy=="function","No lazy route function found");let E=await t.lazy(),T={};for(let A in E){let M=E[A];if(M===void 0)continue;let P=_k(A),G=o[A]!==void 0&&A!=="hasErrorBoundary";P?Mt(!P,"Route property "+A+" is not a supported property to be returned from a lazy route function. This property will be ignored."):G?Mt(!G,`Route "${o.id}" has a static property "${A}" defined but its lazy function is also returning a value for this property. The lazy route property "${A}" will be ignored.`):T[A]=M}Object.assign(o,T),Object.assign(o,{...r(o),lazy:void 0})})();return Wb.set(o,_),_.catch(()=>{}),{lazyRoutePromise:_,lazyHandlerPromise:_}}let u=Object.keys(t.lazy),f=[],d;for(let y of u){if(a&&a.includes(y))continue;let _=FA({key:y,route:t,manifest:n,mapRouteProperties:r});_&&(f.push(_),y===e&&(d=_))}let g=f.length>0?Promise.all(f).then(()=>{}):void 0;return g==null||g.catch(()=>{}),d==null||d.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:d}}async function Zb(t){let e=t.matches.filter(a=>a.shouldLoad),n={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,o)=>{n[e[o].route.id]=a}),n}async function Wk(t){return t.matches.some(e=>e.route.unstable_middleware)?BA(t,!1,()=>Zb(t),(e,n)=>({[n]:{type:"error",result:e}})):Zb(t)}async function BA(t,e,n,r){let{matches:a,request:o,params:u,context:f}=t,d={handlerResult:void 0};try{let g=a.flatMap(_=>_.route.unstable_middleware?_.route.unstable_middleware.map(E=>[_.route.id,E]):[]),y=await HA({request:o,params:u,context:f},g,e,d,n);return e?y:d.handlerResult}catch(g){if(!d.middlewareError)throw g;let y=await r(d.middlewareError.error,d.middlewareError.routeId);return d.handlerResult?Object.assign(d.handlerResult,y):y}}async function HA(t,e,n,r,a,o=0){let{request:u}=t;if(u.signal.aborted)throw u.signal.reason?u.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${u.method} ${u.url}`);let f=e[o];if(!f)return r.handlerResult=await a(),r.handlerResult;let[d,g]=f,y=!1,_,E=async()=>{if(y)throw new Error("You may only call `next()` once per middleware");y=!0,await HA(t,e,n,r,a,o+1)};try{let T=await g({request:t.request,params:t.params,context:t.context},E);return y?T===void 0?_:T:E()}catch(T){throw r.middlewareError?r.middlewareError.error!==T&&(r.middlewareError={routeId:d,error:T}):r.middlewareError={routeId:d,error:T},T}}function qA(t,e,n,r,a){let o=FA({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),u=Xk(r.route,or(n.method)?"action":"loader",e,t,a);return{middleware:o,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function Cy(t,e,n,r,a,o,u,f=null){let d=!1,g=qA(t,e,n,r,a);return{...r,_lazyPromises:g,shouldLoad:u,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler(y){return d=!0,f?typeof y=="boolean"?bd(r,{...f,defaultShouldRevalidate:y}):bd(r,f):u},resolve(y){return d||u||y&&n.method==="GET"&&(r.route.lazy||r.route.loader)?Jk({request:n,match:r,lazyHandlerPromise:g==null?void 0:g.handler,lazyRoutePromise:g==null?void 0:g.route,handlerOverride:y,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Nl(t,e,n,r,a,o,u,f=null){return r.map(d=>d.route.id!==a.route.id?{...d,shouldLoad:!1,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler:()=>!1,_lazyPromises:qA(t,e,n,d,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Cy(t,e,n,d,o,u,!0,f))}async function Zk(t,e,n,r,a,o){n.some(g=>{var y;return(y=g._lazyPromises)==null?void 0:y.middleware})&&await Promise.all(n.map(g=>{var y;return(y=g._lazyPromises)==null?void 0:y.middleware}));let u={request:e,params:n[0].params,context:a,matches:n},d=await t({...u,fetcherKey:r,unstable_runClientMiddleware:g=>{let y=u;return BA(y,!1,()=>g({...y,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(_,E)=>({[E]:{type:"error",result:_}}))}});try{await Promise.all(n.flatMap(g=>{var y,_;return[(y=g._lazyPromises)==null?void 0:y.handler,(_=g._lazyPromises)==null?void 0:_.route]}))}catch{}return d}async function Jk({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:a,scopedContext:o}){let u,f,d=or(t.method),g=d?"action":"loader",y=_=>{let E,T=new Promise((P,j)=>E=j);f=()=>E(),t.signal.addEventListener("abort",f);let A=P=>typeof _!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${e.route.id}]`)):_({request:t,params:e.params,context:o},...P!==void 0?[P]:[]),M=(async()=>{try{return{type:"data",result:await(a?a(j=>A(j)):A())}}catch(P){return{type:"error",result:P}}})();return Promise.race([M,T])};try{let _=d?e.route.action:e.route.loader;if(n||r)if(_){let E,[T]=await Promise.all([y(_).catch(A=>{E=A}),n,r]);if(E!==void 0)throw E;u=T}else{await n;let E=d?e.route.action:e.route.loader;if(E)[u]=await Promise.all([y(E),r]);else if(g==="action"){let T=new URL(t.url),A=T.pathname+T.search;throw Or(405,{method:t.method,pathname:A,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(_)u=await y(_);else{let E=new URL(t.url),T=E.pathname+E.search;throw Or(404,{pathname:T})}}catch(_){return{type:"error",result:_}}finally{f&&t.signal.removeEventListener("abort",f)}return u}async function eM(t){var r,a,o,u,f,d;let{result:e,type:n}=t;if(GA(e)){let g;try{let y=e.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?e.body==null?g=null:g=await e.json():g=await e.text()}catch(y){return{type:"error",error:y}}return n==="error"?{type:"error",error:new Ed(e.status,e.statusText,g),statusCode:e.status,headers:e.headers}:{type:"data",data:g,statusCode:e.status,headers:e.headers}}return n==="error"?aS(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Ed(((o=e.init)==null?void 0:o.status)||500,void 0,e.data),statusCode:Nc(e)?e.status:void 0,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Nc(e)?e.status:void 0}:aS(e)?{type:"data",data:e.data,statusCode:(f=e.init)==null?void 0:f.status,headers:(d=e.init)!=null&&d.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function tM(t,e,n,r,a){let o=t.headers.get("Location");if(Je(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!jv.test(o)){let u=r.slice(0,r.findIndex(f=>f.route.id===n)+1);o=Ay(new URL(e.url),u,a,o),t.headers.set("Location",o)}return t}function Jb(t,e,n){if(jv.test(t)){let r=t,a=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=Yn(a.pathname,n)!=null;if(a.origin===e.origin&&o)return a.pathname+a.search+a.hash}return t}function bl(t,e,n,r){let a=t.createURL($A(e)).toString(),o={signal:n};if(r&&or(r.formMethod)){let{formMethod:u,formEncType:f}=r;o.method=u.toUpperCase(),f==="application/json"?(o.headers=new Headers({"Content-Type":f}),o.body=JSON.stringify(r.json)):f==="text/plain"?o.body=r.text:f==="application/x-www-form-urlencoded"&&r.formData?o.body=xy(r.formData):o.body=r.formData}return new Request(a,o)}function xy(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function eS(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function nM(t,e,n,r=!1,a=!1){let o={},u=null,f,d=!1,g={},y=n&&sr(n[1])?n[1].error:void 0;return t.forEach(_=>{if(!(_.route.id in e))return;let E=_.route.id,T=e[E];if(Je(!ao(T),"Cannot handle redirect results in processLoaderData"),sr(T)){let A=T.error;if(y!==void 0&&(A=y,y=void 0),u=u||{},a)u[E]=A;else{let M=io(t,E);u[M.route.id]==null&&(u[M.route.id]=A)}r||(o[E]=jA),d||(d=!0,f=Nc(T.error)?T.error.status:500),T.headers&&(g[E]=T.headers)}else o[E]=T.data,T.statusCode&&T.statusCode!==200&&!d&&(f=T.statusCode),T.headers&&(g[E]=T.headers)}),y!==void 0&&n&&(u={[n[0]]:y},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:u,statusCode:f||200,loaderHeaders:g}}function tS(t,e,n,r,a,o){let{loaderData:u,errors:f}=nM(e,n,r);return a.filter(d=>!d.matches||d.matches.some(g=>g.shouldLoad)).forEach(d=>{let{key:g,match:y,controller:_}=d,E=o[g];if(Je(E,"Did not find corresponding fetcher result"),!(_&&_.signal.aborted))if(sr(E)){let T=io(t.matches,y==null?void 0:y.route.id);f&&f[T.route.id]||(f={...f,[T.route.id]:E.error}),t.fetchers.delete(g)}else if(ao(E))Je(!1,"Unhandled fetcher revalidation redirect");else{let T=Xa(E.data);t.fetchers.set(g,T)}}),{loaderData:u,errors:f}}function nS(t,e,n,r){let a=Object.entries(e).filter(([,o])=>o!==jA).reduce((o,[u,f])=>(o[u]=f,o),{});for(let o of n){let u=o.route.id;if(!e.hasOwnProperty(u)&&t.hasOwnProperty(u)&&o.route.loader&&(a[u]=t[u]),r&&r.hasOwnProperty(u))break}return a}function rS(t){return t?sr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function io(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function iS(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Or(t,{pathname:e,routeId:n,method:r,type:a,message:o}={}){let u="Unknown Server Error",f="Unknown @remix-run/router error";return t===400?(u="Bad Request",r&&e&&n?f=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(f="Unable to encode submission body")):t===403?(u="Forbidden",f=`Route "${n}" does not match URL "${e}"`):t===404?(u="Not Found",f=`No route matches URL "${e}"`):t===405&&(u="Method Not Allowed",r&&e&&n?f=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(f=`Invalid request method "${r.toUpperCase()}"`)),new Ed(t||500,u,new Error(f),!0)}function Oh(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,a]=e[n];if(ao(a))return{key:r,result:a}}}function $A(t){let e=typeof t=="string"?ma(t):t;return cs({...e,hash:""})}function rM(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function iM(t){return GA(t.result)&&Bk.has(t.result.status)}function sr(t){return t.type==="error"}function ao(t){return(t&&t.type)==="redirect"}function aS(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function GA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function aM(t){return Fk.has(t.toUpperCase())}function or(t){return jk.has(t.toUpperCase())}function zv(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function fc(t,e){let n=typeof e=="string"?ma(e).search:e.search;if(t[t.length-1].route.index&&zv(n||""))return t[t.length-1];let r=LA(t);return r[r.length-1]}function sS(t){let{formMethod:e,formAction:n,formEncType:r,text:a,formData:o,json:u}=t;if(!(!e||!n||!r)){if(a!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:u,text:void 0}}}function $p(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function sM(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ic(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function oM(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Xa(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function lM(t,e){try{let n=t.sessionStorage.getItem(VA);if(n){let r=JSON.parse(n);for(let[a,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(a,new Set(o||[]))}}catch{}}function uM(t,e){if(e.size>0){let n={};for(let[r,a]of e)n[r]=[...a];try{t.sessionStorage.setItem(VA,JSON.stringify(n))}catch(r){Mt(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function cM(){let t,e,n=new Promise((r,a)=>{t=async o=>{r(o);try{await n}catch{}},e=async o=>{a(o);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var To=O.createContext(null);To.displayName="DataRouter";var tf=O.createContext(null);tf.displayName="DataRouterState";var Fv=O.createContext({isTransitioning:!1});Fv.displayName="ViewTransition";var KA=O.createContext(new Map);KA.displayName="Fetchers";var fM=O.createContext(null);fM.displayName="Await";var Gr=O.createContext(null);Gr.displayName="Navigation";var Jd=O.createContext(null);Jd.displayName="Location";var Kr=O.createContext({outlet:null,matches:[],isDataRoute:!1});Kr.displayName="Route";var Bv=O.createContext(null);Bv.displayName="RouteError";function hM(t,{relative:e}={}){Je(Xl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=O.useContext(Gr),{hash:a,pathname:o,search:u}=nf(t,{relative:e}),f=o;return n!=="/"&&(f=o==="/"?n:Si([n,o])),r.createHref({pathname:f,search:u,hash:a})}function Xl(){return O.useContext(Jd)!=null}function Yr(){return Je(Xl(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Jd).location}var YA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QA(t){O.useContext(Gr).static||O.useLayoutEffect(t)}function Wl(){let{isDataRoute:t}=O.useContext(Kr);return t?CM():dM()}function dM(){Je(Xl(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(To),{basename:e,navigator:n}=O.useContext(Gr),{matches:r}=O.useContext(Kr),{pathname:a}=Yr(),o=JSON.stringify(Wd(r)),u=O.useRef(!1);return QA(()=>{u.current=!0}),O.useCallback((d,g={})=>{if(Mt(u.current,YA),!u.current)return;if(typeof d=="number"){n.go(d);return}let y=Zd(d,JSON.parse(o),a,g.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Si([e,y.pathname])),(g.replace?n.replace:n.push)(y,g.state,g)},[e,n,o,a,t])}var mM=O.createContext(null);function gM(t){let e=O.useContext(Kr).outlet;return e&&O.createElement(mM.Provider,{value:t},e)}function nf(t,{relative:e}={}){let{matches:n}=O.useContext(Kr),{pathname:r}=Yr(),a=JSON.stringify(Wd(n));return O.useMemo(()=>Zd(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function pM(t,e,n,r){Je(Xl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=O.useContext(Gr),{matches:o}=O.useContext(Kr),u=o[o.length-1],f=u?u.params:{},d=u?u.pathname:"/",g=u?u.pathnameBase:"/",y=u&&u.route;{let j=y&&y.path||"";ZA(d,!y||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let _=Yr(),E;E=_;let T=E.pathname||"/",A=T;if(g!=="/"){let j=g.replace(/^\//,"").split("/");A="/"+T.replace(/^\//,"").split("/").slice(j.length).join("/")}let M=ts(t,{pathname:A});return Mt(y||M!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Mt(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),bM(M&&M.map(j=>Object.assign({},j,{params:Object.assign({},f,j.params),pathname:Si([g,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?g:Si([g,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,n,r)}function yM(){let t=wM(),e=Nc(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:o},"ErrorBoundary")," or"," ",O.createElement("code",{style:o},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:a},n):null,u)}var vM=O.createElement(yM,null),_M=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?O.createElement(Kr.Provider,{value:this.props.routeContext},O.createElement(Bv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function EM({routeContext:t,match:e,children:n}){let r=O.useContext(To);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(Kr.Provider,{value:t},n)}function bM(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=n==null?void 0:n.errors;if(o!=null){let d=a.findIndex(g=>g.route.id&&(o==null?void 0:o[g.route.id])!==void 0);Je(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,f=-1;if(n)for(let d=0;d<a.length;d++){let g=a[d];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=d),g.route.id){let{loaderData:y,errors:_}=n,E=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!_||_[g.route.id]===void 0);if(g.route.lazy||E){u=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((d,g,y)=>{let _,E=!1,T=null,A=null;n&&(_=o&&g.route.id?o[g.route.id]:void 0,T=g.route.errorElement||vM,u&&(f<0&&y===0?(ZA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,A=null):f===y&&(E=!0,A=g.route.hydrateFallbackElement||null)));let M=e.concat(a.slice(0,y+1)),P=()=>{let j;return _?j=T:E?j=A:g.route.Component?j=O.createElement(g.route.Component,null):g.route.element?j=g.route.element:j=d,O.createElement(EM,{match:g,routeContext:{outlet:d,matches:M,isDataRoute:n!=null},children:j})};return n&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?O.createElement(_M,{location:n.location,revalidation:n.revalidation,component:T,error:_,children:P(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):P()},null)}function Hv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XA(t){let e=O.useContext(To);return Je(e,Hv(t)),e}function WA(t){let e=O.useContext(tf);return Je(e,Hv(t)),e}function SM(t){let e=O.useContext(Kr);return Je(e,Hv(t)),e}function qv(t){let e=SM(t),n=e.matches[e.matches.length-1];return Je(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function TM(){return qv("useRouteId")}function wM(){var r;let t=O.useContext(Bv),e=WA("useRouteError"),n=qv("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}var AM=0;function RM(t){let{router:e,basename:n}=XA("useBlocker"),r=WA("useBlocker"),[a,o]=O.useState(""),u=O.useCallback(f=>{if(typeof t!="function")return!!t;if(n==="/")return t(f);let{currentLocation:d,nextLocation:g,historyAction:y}=f;return t({currentLocation:{...d,pathname:Yn(d.pathname,n)||d.pathname},nextLocation:{...g,pathname:Yn(g.pathname,n)||g.pathname},historyAction:y})},[n,t]);return O.useEffect(()=>{let f=String(++AM);return o(f),()=>e.deleteBlocker(f)},[e]),O.useEffect(()=>{a!==""&&e.getBlocker(a,u)},[e,a,u]),a&&r.blockers.has(a)?r.blockers.get(a):El}function CM(){let{router:t}=XA("useNavigate"),e=qv("useNavigate"),n=O.useRef(!1);return QA(()=>{n.current=!0}),O.useCallback(async(a,o={})=>{Mt(n.current,YA),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...o}))},[t,e])}var oS={};function ZA(t,e,n){!e&&!oS[t]&&(oS[t]=!0,Mt(!1,n))}var lS={};function uS(t,e){!t&&!lS[e]&&(lS[e]=!0,console.warn(e))}function xM(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Mt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:O.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Mt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:O.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Mt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:O.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var IM=["HydrateFallback","hydrateFallbackElement"],OM=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function DM({router:t,flushSync:e}){let[n,r]=O.useState(t.state),[a,o]=O.useState(),[u,f]=O.useState({isTransitioning:!1}),[d,g]=O.useState(),[y,_]=O.useState(),[E,T]=O.useState(),A=O.useRef(new Map),M=O.useCallback((Y,{deletedFetchers:re,flushSync:te,viewTransitionOpts:F})=>{Y.fetchers.forEach((x,C)=>{x.data!==void 0&&A.current.set(C,x.data)}),re.forEach(x=>A.current.delete(x)),uS(te===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let D=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(uS(F==null||D,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!F||!D){e&&te?e(()=>r(Y)):O.startTransition(()=>r(Y));return}if(e&&te){e(()=>{y&&(d&&d.resolve(),y.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:F.currentLocation,nextLocation:F.nextLocation})});let x=t.window.document.startViewTransition(()=>{e(()=>r(Y))});x.finished.finally(()=>{e(()=>{g(void 0),_(void 0),o(void 0),f({isTransitioning:!1})})}),e(()=>_(x));return}y?(d&&d.resolve(),y.skipTransition(),T({state:Y,currentLocation:F.currentLocation,nextLocation:F.nextLocation})):(o(Y),f({isTransitioning:!0,flushSync:!1,currentLocation:F.currentLocation,nextLocation:F.nextLocation}))},[t.window,e,y,d]);O.useLayoutEffect(()=>t.subscribe(M),[t,M]),O.useEffect(()=>{u.isTransitioning&&!u.flushSync&&g(new OM)},[u]),O.useEffect(()=>{if(d&&a&&t.window){let Y=a,re=d.promise,te=t.window.document.startViewTransition(async()=>{O.startTransition(()=>r(Y)),await re});te.finished.finally(()=>{g(void 0),_(void 0),o(void 0),f({isTransitioning:!1})}),_(te)}},[a,d,t.window]),O.useEffect(()=>{d&&a&&n.location.key===a.location.key&&d.resolve()},[d,y,n.location,a]),O.useEffect(()=>{!u.isTransitioning&&E&&(o(E.state),f({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),T(void 0))},[u.isTransitioning,E]);let P=O.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:Y=>t.navigate(Y),push:(Y,re,te)=>t.navigate(Y,{state:re,preventScrollReset:te==null?void 0:te.preventScrollReset}),replace:(Y,re,te)=>t.navigate(Y,{replace:!0,state:re,preventScrollReset:te==null?void 0:te.preventScrollReset})}),[t]),j=t.basename||"/",G=O.useMemo(()=>({router:t,navigator:P,static:!1,basename:j}),[t,P,j]);return O.createElement(O.Fragment,null,O.createElement(To.Provider,{value:G},O.createElement(tf.Provider,{value:n},O.createElement(KA.Provider,{value:A.current},O.createElement(Fv.Provider,{value:u},O.createElement(MM,{basename:j,location:n.location,navigationType:n.historyAction,navigator:P},O.createElement(NM,{routes:t.routes,future:t.future,state:n})))))),null)}var NM=O.memo(PM);function PM({routes:t,future:e,state:n}){return pM(t,void 0,n,e)}function JA({to:t,replace:e,state:n,relative:r}){Je(Xl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=O.useContext(Gr);Mt(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=O.useContext(Kr),{pathname:u}=Yr(),f=Wl(),d=Zd(t,Wd(o),u,r==="path"),g=JSON.stringify(d);return O.useEffect(()=>{f(JSON.parse(g),{replace:e,state:n,relative:r})},[f,g,r,e,n]),null}function kM(t){return gM(t.context)}function MM({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:o=!1}){Je(!Xl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=O.useMemo(()=>({basename:u,navigator:a,static:o,future:{}}),[u,a,o]);typeof n=="string"&&(n=ma(n));let{pathname:d="/",search:g="",hash:y="",state:_=null,key:E="default"}=n,T=O.useMemo(()=>{let A=Yn(d,u);return A==null?null:{location:{pathname:A,search:g,hash:y,state:_,key:E},navigationType:r}},[u,d,g,y,_,E,r]);return Mt(T!=null,`<Router basename="${u}"> is not able to match the URL "${d}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:O.createElement(Gr.Provider,{value:f},O.createElement(Jd.Provider,{children:e,value:T}))}var Kh="get",Yh="application/x-www-form-urlencoded";function em(t){return t!=null&&typeof t.tagName=="string"}function LM(t){return em(t)&&t.tagName.toLowerCase()==="button"}function UM(t){return em(t)&&t.tagName.toLowerCase()==="form"}function VM(t){return em(t)&&t.tagName.toLowerCase()==="input"}function jM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function zM(t,e){return t.button===0&&(!e||e==="_self")&&!jM(t)}function Iy(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function FM(t,e){let n=Iy(t);return e&&e.forEach((r,a)=>{n.has(a)||e.getAll(a).forEach(o=>{n.append(a,o)})}),n}var Dh=null;function BM(){if(Dh===null)try{new FormData(document.createElement("form"),0),Dh=!1}catch{Dh=!0}return Dh}var HM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gp(t){return t!=null&&!HM.has(t)?(Mt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yh}"`),null):t}function qM(t,e){let n,r,a,o,u;if(UM(t)){let f=t.getAttribute("action");r=f?Yn(f,e):null,n=t.getAttribute("method")||Kh,a=Gp(t.getAttribute("enctype"))||Yh,o=new FormData(t)}else if(LM(t)||VM(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||f.getAttribute("action");if(r=d?Yn(d,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Kh,a=Gp(t.getAttribute("formenctype"))||Gp(f.getAttribute("enctype"))||Yh,o=new FormData(f,t),!BM()){let{name:g,type:y,value:_}=t;if(y==="image"){let E=g?`${g}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else g&&o.append(g,_)}}else{if(em(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kh,r=null,a=Yh,u=t}return o&&a==="text/plain"&&(u=o,o=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:o,body:u}}function $v(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function $M(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GM(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function KM(t,e,n){let r=await Promise.all(t.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await $M(o,n);return u.links?u.links():[]}return[]}));return WM(r.flat(1).filter(GM).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function cS(t,e,n,r,a,o){let u=(d,g)=>n[g]?d.route.id!==n[g].route.id:!0,f=(d,g)=>{var y;return n[g].pathname!==d.pathname||((y=n[g].route.path)==null?void 0:y.endsWith("*"))&&n[g].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,g)=>u(d,g)||f(d,g)):o==="data"?e.filter((d,g)=>{var _;let y=r.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(u(d,g)||f(d,g))return!0;if(d.route.shouldRevalidate){let E=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function YM(t,e,{includeHydrateFallback:n}={}){return QM(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function QM(t){return[...new Set(t)]}function XM(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function WM(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let o=JSON.stringify(XM(a));return n.has(o)||(n.add(o),r.push({key:o,link:a})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ZM=new Set([100,101,204,205]);function JM(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Yn(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function eR(){let t=O.useContext(To);return $v(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function e4(){let t=O.useContext(tf);return $v(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Gv=O.createContext(void 0);Gv.displayName="FrameworkContext";function tR(){let t=O.useContext(Gv);return $v(t,"You must render this element inside a <HydratedRouter> element"),t}function t4(t,e){let n=O.useContext(Gv),[r,a]=O.useState(!1),[o,u]=O.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:g,onMouseLeave:y,onTouchStart:_}=e,E=O.useRef(null);O.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let M=j=>{j.forEach(G=>{u(G.isIntersecting)})},P=new IntersectionObserver(M,{threshold:.5});return E.current&&P.observe(E.current),()=>{P.disconnect()}}},[t]),O.useEffect(()=>{if(r){let M=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(M)}}},[r]);let T=()=>{a(!0)},A=()=>{a(!1),u(!1)};return n?t!=="intent"?[o,E,{}]:[o,E,{onFocus:ac(f,T),onBlur:ac(d,A),onMouseEnter:ac(g,T),onMouseLeave:ac(y,A),onTouchStart:ac(_,T)}]:[!1,E,{}]}function ac(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function n4({page:t,...e}){let{router:n}=eR(),r=O.useMemo(()=>ts(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?O.createElement(i4,{page:t,matches:r,...e}):null}function r4(t){let{manifest:e,routeModules:n}=tR(),[r,a]=O.useState([]);return O.useEffect(()=>{let o=!1;return KM(t,e,n).then(u=>{o||a(u)}),()=>{o=!0}},[t,e,n]),r}function i4({page:t,matches:e,...n}){let r=Yr(),{manifest:a,routeModules:o}=tR(),{basename:u}=eR(),{loaderData:f,matches:d}=e4(),g=O.useMemo(()=>cS(t,e,d,a,r,"data"),[t,e,d,a,r]),y=O.useMemo(()=>cS(t,e,d,a,r,"assets"),[t,e,d,a,r]),_=O.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let A=new Set,M=!1;if(e.forEach(j=>{var Y;let G=a.routes[j.route.id];!G||!G.hasLoader||(!g.some(re=>re.route.id===j.route.id)&&j.route.id in f&&((Y=o[j.route.id])!=null&&Y.shouldRevalidate)||G.hasClientLoader?M=!0:A.add(j.route.id))}),A.size===0)return[];let P=JM(t,u);return M&&A.size>0&&P.searchParams.set("_routes",e.filter(j=>A.has(j.route.id)).map(j=>j.route.id).join(",")),[P.pathname+P.search]},[u,f,r,a,g,e,t,o]),E=O.useMemo(()=>YM(y,a),[y,a]),T=r4(y);return O.createElement(O.Fragment,null,_.map(A=>O.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),E.map(A=>O.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),T.map(({key:A,link:M})=>O.createElement("link",{key:A,...M})))}function a4(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var nR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nR&&(window.__reactRouterVersion="7.6.2")}catch{}function s4(t,e){return Gk({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:dk({window:e==null?void 0:e.window}),hydrationData:o4(),routes:t,mapRouteProperties:xM,hydrationRouteProperties:IM,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function o4(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:l4(t.errors)}),t}function l4(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,a]of e)if(a&&a.__type==="RouteErrorResponse")n[r]=new Ed(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let u=new o(a.message);u.stack="",n[r]=u}catch{}}if(n[r]==null){let o=new Error(a.message);o.stack="",n[r]=o}}else n[r]=a;return n}var rR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kv=O.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:o,replace:u,state:f,target:d,to:g,preventScrollReset:y,viewTransition:_,...E},T){let{basename:A}=O.useContext(Gr),M=typeof g=="string"&&rR.test(g),P,j=!1;if(typeof g=="string"&&M&&(P=g,nR))try{let C=new URL(window.location.href),N=g.startsWith("//")?new URL(C.protocol+g):new URL(g),U=Yn(N.pathname,A);N.origin===C.origin&&U!=null?g=U+N.search+N.hash:j=!0}catch{Mt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=hM(g,{relative:a}),[Y,re,te]=t4(r,E),F=h4(g,{replace:u,state:f,target:d,preventScrollReset:y,relative:a,viewTransition:_});function D(C){e&&e(C),C.defaultPrevented||F(C)}let x=O.createElement("a",{...E,...te,href:P||G,onClick:j||o?e:D,ref:a4(T,re),target:d,"data-discover":!M&&n==="render"?"true":void 0});return Y&&!M?O.createElement(O.Fragment,null,x,O.createElement(n4,{page:G})):x});Kv.displayName="Link";var u4=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:o,to:u,viewTransition:f,children:d,...g},y){let _=nf(u,{relative:g.relative}),E=Yr(),T=O.useContext(tf),{navigator:A,basename:M}=O.useContext(Gr),P=T!=null&&y4(_)&&f===!0,j=A.encodeLocation?A.encodeLocation(_).pathname:_.pathname,G=E.pathname,Y=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(G=G.toLowerCase(),Y=Y?Y.toLowerCase():null,j=j.toLowerCase()),Y&&M&&(Y=Yn(Y,M)||Y);const re=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let te=G===j||!a&&G.startsWith(j)&&G.charAt(re)==="/",F=Y!=null&&(Y===j||!a&&Y.startsWith(j)&&Y.charAt(j.length)==="/"),D={isActive:te,isPending:F,isTransitioning:P},x=te?e:void 0,C;typeof r=="function"?C=r(D):C=[r,te?"active":null,F?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let N=typeof o=="function"?o(D):o;return O.createElement(Kv,{...g,"aria-current":x,className:C,ref:y,style:N,to:u,viewTransition:f},typeof d=="function"?d(D):d)});u4.displayName="NavLink";var c4=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:o,method:u=Kh,action:f,onSubmit:d,relative:g,preventScrollReset:y,viewTransition:_,...E},T)=>{let A=g4(),M=p4(f,{relative:g}),P=u.toLowerCase()==="get"?"get":"post",j=typeof f=="string"&&rR.test(f),G=Y=>{if(d&&d(Y),Y.defaultPrevented)return;Y.preventDefault();let re=Y.nativeEvent.submitter,te=(re==null?void 0:re.getAttribute("formmethod"))||u;A(re||Y.currentTarget,{fetcherKey:e,method:te,navigate:n,replace:a,state:o,relative:g,preventScrollReset:y,viewTransition:_})};return O.createElement("form",{ref:T,method:P,action:M,onSubmit:r?d:G,...E,"data-discover":!j&&t==="render"?"true":void 0})});c4.displayName="Form";function f4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iR(t){let e=O.useContext(To);return Je(e,f4(t)),e}function h4(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:u}={}){let f=Wl(),d=Yr(),g=nf(t,{relative:o});return O.useCallback(y=>{if(zM(y,e)){y.preventDefault();let _=n!==void 0?n:cs(d)===cs(g);f(t,{replace:_,state:r,preventScrollReset:a,relative:o,viewTransition:u})}},[d,f,g,n,r,e,t,a,o,u])}function Yv(t){Mt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=O.useRef(Iy(t)),n=O.useRef(!1),r=Yr(),a=O.useMemo(()=>FM(r.search,n.current?null:e.current),[r.search]),o=Wl(),u=O.useCallback((f,d)=>{const g=Iy(typeof f=="function"?f(a):f);n.current=!0,o("?"+g,d)},[o,a]);return[a,u]}var d4=0,m4=()=>`__${String(++d4)}__`;function g4(){let{router:t}=iR("useSubmit"),{basename:e}=O.useContext(Gr),n=TM();return O.useCallback(async(r,a={})=>{let{action:o,method:u,encType:f,formData:d,body:g}=qM(r,e);if(a.navigate===!1){let y=a.fetcherKey||m4();await t.fetch(y,n,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:g,formMethod:a.method||u,formEncType:a.encType||f,flushSync:a.flushSync})}else await t.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:g,formMethod:a.method||u,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function p4(t,{relative:e}={}){let{basename:n}=O.useContext(Gr),r=O.useContext(Kr);Je(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...nf(t||".",{relative:e})},u=Yr();if(t==null){o.search=u.search;let f=new URLSearchParams(o.search),d=f.getAll("index");if(d.some(y=>y==="")){f.delete("index"),d.filter(_=>_).forEach(_=>f.append("index",_));let y=f.toString();o.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Si([n,o.pathname])),cs(o)}function y4(t,e={}){let n=O.useContext(Fv);Je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=iR("useViewTransitionState"),a=nf(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Yn(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Yn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return _d(a.pathname,u)!=null||_d(a.pathname,o)!=null}[...ZM];const v4=(t,e,n,r)=>{var o,u,f,d;const a=[n,{code:e,...r||{}}];if((u=(o=t==null?void 0:t.services)==null?void 0:o.logger)!=null&&u.forward)return t.services.logger.forward(a,"warn","react-i18next::",!0);uo(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),(d=(f=t==null?void 0:t.services)==null?void 0:f.logger)!=null&&d.warn?t.services.logger.warn(...a):console!=null&&console.warn&&console.warn(...a)},fS={},Oy=(t,e,n,r)=>{uo(n)&&fS[n]||(uo(n)&&(fS[n]=new Date),v4(t,e,n,r))},aR=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},Dy=(t,e,n)=>{t.loadNamespaces(e,aR(t,n))},hS=(t,e,n,r)=>{if(uo(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return Dy(t,n,r);n.forEach(a=>{t.options.ns.indexOf(a)<0&&t.options.ns.push(a)}),t.loadLanguages(e,aR(t,r))},_4=(t,e,n={})=>!e.languages||!e.languages.length?(Oy(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,a)=>{var o;if(((o=n.bindI18n)==null?void 0:o.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!a(r.isLanguageChangingTo,t))return!1}}),uo=t=>typeof t=="string",E4=t=>typeof t=="object"&&t!==null,b4=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,S4={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},T4=t=>S4[t],w4=t=>t.replace(b4,T4);let Ny={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:w4};const A4=(t={})=>{Ny={...Ny,...t}},R4=()=>Ny;let sR;const C4=t=>{sR=t},x4=()=>sR,I4={type:"3rdParty",init(t){A4(t.options.react),C4(t)}},O4=O.createContext();class D4{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const N4=(t,e)=>{const n=O.useRef();return O.useEffect(()=>{n.current=t},[t,e]),n.current},oR=(t,e,n,r)=>t.getFixedT(e,n,r),P4=(t,e,n,r)=>O.useCallback(oR(t,e,n,r),[t,e,n,r]),$t=(t,e={})=>{var re,te,F,D;const{i18n:n}=e,{i18n:r,defaultNS:a}=O.useContext(O4)||{},o=n||r||x4();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new D4),!o){Oy(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const x=(N,U)=>uo(U)?U:E4(U)&&uo(U.defaultValue)?U.defaultValue:Array.isArray(N)?N[N.length-1]:N,C=[x,{},!1];return C.t=x,C.i18n={},C.ready=!1,C}(re=o.options.react)!=null&&re.wait&&Oy(o,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const u={...R4(),...o.options.react,...e},{useSuspense:f,keyPrefix:d}=u;let g=a||((te=o.options)==null?void 0:te.defaultNS);g=uo(g)?[g]:g||["translation"],(D=(F=o.reportNamespaces).addUsedNamespaces)==null||D.call(F,g);const y=(o.isInitialized||o.initializedStoreOnce)&&g.every(x=>_4(x,o,u)),_=P4(o,e.lng||null,u.nsMode==="fallback"?g:g[0],d),E=()=>_,T=()=>oR(o,e.lng||null,u.nsMode==="fallback"?g:g[0],d),[A,M]=O.useState(E);let P=g.join();e.lng&&(P=`${e.lng}${P}`);const j=N4(P),G=O.useRef(!0);O.useEffect(()=>{const{bindI18n:x,bindI18nStore:C}=u;G.current=!0,!y&&!f&&(e.lng?hS(o,e.lng,g,()=>{G.current&&M(T)}):Dy(o,g,()=>{G.current&&M(T)})),y&&j&&j!==P&&G.current&&M(T);const N=()=>{G.current&&M(T)};return x&&(o==null||o.on(x,N)),C&&(o==null||o.store.on(C,N)),()=>{G.current=!1,o&&(x==null||x.split(" ").forEach(U=>o.off(U,N))),C&&o&&C.split(" ").forEach(U=>o.store.off(U,N))}},[o,P]),O.useEffect(()=>{G.current&&y&&M(E)},[o,d,y]);const Y=[A,o,y];if(Y.t=A,Y.i18n=o,Y.ready=y,y||!y&&!f)return Y;throw new Promise(x=>{e.lng?hS(o,e.lng,g,()=>x()):Dy(o,g,()=>x())})};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const k4={prefix:"fas",iconName:"right-to-bracket",icon:[512,512,["sign-in-alt"],"f2f6","M217.9 105.9L340.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L217.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1L32 320c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM352 416l64 0c17.7 0 32-14.3 32-32l0-256c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0c53 0 96 43 96 96l0 256c0 53-43 96-96 96l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},M4={prefix:"fas",iconName:"circle-question",icon:[512,512,[62108,"question-circle"],"f059","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3l58.3 0c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24l0-13.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1l-58.3 0c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"]},L4={prefix:"fas",iconName:"floppy-disk",icon:[448,512,[128190,128426,"save"],"f0c7","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-242.7c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32L64 32zm0 96c0-17.7 14.3-32 32-32l192 0c17.7 0 32 14.3 32 32l0 64c0 17.7-14.3 32-32 32L96 224c-17.7 0-32-14.3-32-32l0-64zM224 288a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"]},U4={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"]},V4={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z"]},j4={prefix:"fas",iconName:"gears",icon:[640,512,["cogs"],"f085","M308.5 135.3c7.1-6.3 9.9-16.2 6.2-25c-2.3-5.3-4.8-10.5-7.6-15.5L304 89.4c-3-5-6.3-9.9-9.8-14.6c-5.7-7.6-15.7-10.1-24.7-7.1l-28.2 9.3c-10.7-8.8-23-16-36.2-20.9L199 27.1c-1.9-9.3-9.1-16.7-18.5-17.8C173.9 8.4 167.2 8 160.4 8l-.7 0c-6.8 0-13.5 .4-20.1 1.2c-9.4 1.1-16.6 8.6-18.5 17.8L115 56.1c-13.3 5-25.5 12.1-36.2 20.9L50.5 67.8c-9-3-19-.5-24.7 7.1c-3.5 4.7-6.8 9.6-9.9 14.6l-3 5.3c-2.8 5-5.3 10.2-7.6 15.6c-3.7 8.7-.9 18.6 6.2 25l22.2 19.8C32.6 161.9 32 168.9 32 176s.6 14.1 1.7 20.9L11.5 216.7c-7.1 6.3-9.9 16.2-6.2 25c2.3 5.3 4.8 10.5 7.6 15.6l3 5.2c3 5.1 6.3 9.9 9.9 14.6c5.7 7.6 15.7 10.1 24.7 7.1l28.2-9.3c10.7 8.8 23 16 36.2 20.9l6.1 29.1c1.9 9.3 9.1 16.7 18.5 17.8c6.7 .8 13.5 1.2 20.4 1.2s13.7-.4 20.4-1.2c9.4-1.1 16.6-8.6 18.5-17.8l6.1-29.1c13.3-5 25.5-12.1 36.2-20.9l28.2 9.3c9 3 19 .5 24.7-7.1c3.5-4.7 6.8-9.5 9.8-14.6l3.1-5.4c2.8-5 5.3-10.2 7.6-15.5c3.7-8.7 .9-18.6-6.2-25l-22.2-19.8c1.1-6.8 1.7-13.8 1.7-20.9s-.6-14.1-1.7-20.9l22.2-19.8zM112 176a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM504.7 500.5c6.3 7.1 16.2 9.9 25 6.2c5.3-2.3 10.5-4.8 15.5-7.6l5.4-3.1c5-3 9.9-6.3 14.6-9.8c7.6-5.7 10.1-15.7 7.1-24.7l-9.3-28.2c8.8-10.7 16-23 20.9-36.2l29.1-6.1c9.3-1.9 16.7-9.1 17.8-18.5c.8-6.7 1.2-13.5 1.2-20.4s-.4-13.7-1.2-20.4c-1.1-9.4-8.6-16.6-17.8-18.5L583.9 307c-5-13.3-12.1-25.5-20.9-36.2l9.3-28.2c3-9 .5-19-7.1-24.7c-4.7-3.5-9.6-6.8-14.6-9.9l-5.3-3c-5-2.8-10.2-5.3-15.6-7.6c-8.7-3.7-18.6-.9-25 6.2l-19.8 22.2c-6.8-1.1-13.8-1.7-20.9-1.7s-14.1 .6-20.9 1.7l-19.8-22.2c-6.3-7.1-16.2-9.9-25-6.2c-5.3 2.3-10.5 4.8-15.6 7.6l-5.2 3c-5.1 3-9.9 6.3-14.6 9.9c-7.6 5.7-10.1 15.7-7.1 24.7l9.3 28.2c-8.8 10.7-16 23-20.9 36.2L315.1 313c-9.3 1.9-16.7 9.1-17.8 18.5c-.8 6.7-1.2 13.5-1.2 20.4s.4 13.7 1.2 20.4c1.1 9.4 8.6 16.6 17.8 18.5l29.1 6.1c5 13.3 12.1 25.5 20.9 36.2l-9.3 28.2c-3 9-.5 19 7.1 24.7c4.7 3.5 9.5 6.8 14.6 9.8l5.4 3.1c5 2.8 10.2 5.3 15.5 7.6c8.7 3.7 18.6 .9 25-6.2l19.8-22.2c6.8 1.1 13.8 1.7 20.9 1.7s14.1-.6 20.9-1.7l19.8 22.2zM464 304a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]},z4={prefix:"fas",iconName:"user-plus",icon:[640,512,[],"f234","M96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM0 482.3C0 383.8 79.8 304 178.3 304l91.4 0C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7L29.7 512C13.3 512 0 498.7 0 482.3zM504 312l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function F4(t,e,n){return(e=H4(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dS(Object(n),!0).forEach(function(r){F4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B4(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H4(t){var e=B4(t,"string");return typeof e=="symbol"?e:e+""}const mS=()=>{};let Qv={},lR={},uR=null,cR={mark:mS,measure:mS};try{typeof window<"u"&&(Qv=window),typeof document<"u"&&(lR=document),typeof MutationObserver<"u"&&(uR=MutationObserver),typeof performance<"u"&&(cR=performance)}catch{}const{userAgent:gS=""}=Qv.navigator||{},fs=Qv,It=lR,pS=uR,Nh=cR;fs.document;const ga=!!It.documentElement&&!!It.head&&typeof It.addEventListener=="function"&&typeof It.createElement=="function",fR=~gS.indexOf("MSIE")||~gS.indexOf("Trident/");var q4=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,$4=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,hR={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},G4={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},dR=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],kn="classic",tm="duotone",K4="sharp",Y4="sharp-duotone",mR=[kn,tm,K4,Y4],Q4={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},X4={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},W4=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),Z4={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},J4=["fak","fa-kit","fakd","fa-kit-duotone"],yS={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},eL=["kit"],tL={kit:{"fa-kit":"fak"}},nL=["fak","fakd"],rL={kit:{fak:"fa-kit"}},vS={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Ph={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},iL=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],aL=["fak","fa-kit","fakd","fa-kit-duotone"],sL={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},oL={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},lL={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},Py={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},uL=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],ky=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...iL,...uL],cL=["solid","regular","light","thin","duotone","brands"],gR=[1,2,3,4,5,6,7,8,9,10],fL=gR.concat([11,12,13,14,15,16,17,18,19,20]),hL=[...Object.keys(lL),...cL,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Ph.GROUP,Ph.SWAP_OPACITY,Ph.PRIMARY,Ph.SECONDARY].concat(gR.map(t=>"".concat(t,"x"))).concat(fL.map(t=>"w-".concat(t))),dL={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const la="___FONT_AWESOME___",My=16,pR="fa",yR="svg-inline--fa",go="data-fa-i2svg",Ly="data-fa-pseudo-element",mL="data-fa-pseudo-element-pending",Xv="data-prefix",Wv="data-icon",_S="fontawesome-i2svg",gL="async",pL=["HTML","HEAD","STYLE","SCRIPT"],vR=(()=>{try{return!0}catch{return!1}})();function rf(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[kn]}})}const _R=ge({},hR);_R[kn]=ge(ge(ge(ge({},{"fa-duotone":"duotone"}),hR[kn]),yS.kit),yS["kit-duotone"]);const yL=rf(_R),Uy=ge({},Z4);Uy[kn]=ge(ge(ge(ge({},{duotone:"fad"}),Uy[kn]),vS.kit),vS["kit-duotone"]);const ES=rf(Uy),Vy=ge({},Py);Vy[kn]=ge(ge({},Vy[kn]),rL.kit);const Zv=rf(Vy),jy=ge({},oL);jy[kn]=ge(ge({},jy[kn]),tL.kit);rf(jy);const vL=q4,ER="fa-layers-text",_L=$4,EL=ge({},Q4);rf(EL);const bL=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Kp=G4,SL=[...eL,...hL],Ec=fs.FontAwesomeConfig||{};function TL(t){var e=It.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function wL(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}It&&typeof It.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,r]=e;const a=wL(TL(n));a!=null&&(Ec[r]=a)});const bR={styleDefault:"solid",familyDefault:kn,cssPrefix:pR,replacementClass:yR,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Ec.familyPrefix&&(Ec.cssPrefix=Ec.familyPrefix);const Ll=ge(ge({},bR),Ec);Ll.autoReplaceSvg||(Ll.observeMutations=!1);const Ae={};Object.keys(bR).forEach(t=>{Object.defineProperty(Ae,t,{enumerable:!0,set:function(e){Ll[t]=e,bc.forEach(n=>n(Ae))},get:function(){return Ll[t]}})});Object.defineProperty(Ae,"familyPrefix",{enumerable:!0,set:function(t){Ll.cssPrefix=t,bc.forEach(e=>e(Ae))},get:function(){return Ll.cssPrefix}});fs.FontAwesomeConfig=Ae;const bc=[];function AL(t){return bc.push(t),()=>{bc.splice(bc.indexOf(t),1)}}const Qa=My,yi={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function RL(t){if(!t||!ga)return;const e=It.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;const n=It.head.childNodes;let r=null;for(let a=n.length-1;a>-1;a--){const o=n[a],u=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(u)>-1&&(r=o)}return It.head.insertBefore(e,r),t}const CL="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Pc(){let t=12,e="";for(;t-- >0;)e+=CL[Math.random()*62|0];return e}function Zl(t){const e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function Jv(t){return t.classList?Zl(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function SR(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function xL(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(SR(t[n]),'" '),"").trim()}function nm(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function e_(t){return t.size!==yi.size||t.x!==yi.x||t.y!==yi.y||t.rotate!==yi.rotate||t.flipX||t.flipY}function IL(t){let{transform:e,containerWidth:n,iconWidth:r}=t;const a={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(e.x*32,", ").concat(e.y*32,") "),u="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),f="rotate(".concat(e.rotate," 0 0)"),d={transform:"".concat(o," ").concat(u," ").concat(f)},g={transform:"translate(".concat(r/2*-1," -256)")};return{outer:a,inner:d,path:g}}function OL(t){let{transform:e,width:n=My,height:r=My,startCentered:a=!1}=t,o="";return a&&fR?o+="translate(".concat(e.x/Qa-n/2,"em, ").concat(e.y/Qa-r/2,"em) "):a?o+="translate(calc(-50% + ".concat(e.x/Qa,"em), calc(-50% + ").concat(e.y/Qa,"em)) "):o+="translate(".concat(e.x/Qa,"em, ").concat(e.y/Qa,"em) "),o+="scale(".concat(e.size/Qa*(e.flipX?-1:1),", ").concat(e.size/Qa*(e.flipY?-1:1),") "),o+="rotate(".concat(e.rotate,"deg) "),o}var DL=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function TR(){const t=pR,e=yR,n=Ae.cssPrefix,r=Ae.replacementClass;let a=DL;if(n!==t||r!==e){const o=new RegExp("\\.".concat(t,"\\-"),"g"),u=new RegExp("\\--".concat(t,"\\-"),"g"),f=new RegExp("\\.".concat(e),"g");a=a.replace(o,".".concat(n,"-")).replace(u,"--".concat(n,"-")).replace(f,".".concat(r))}return a}let bS=!1;function Yp(){Ae.autoAddCss&&!bS&&(RL(TR()),bS=!0)}var NL={mixout(){return{dom:{css:TR,insertCss:Yp}}},hooks(){return{beforeDOMElementCreation(){Yp()},beforeI2svg(){Yp()}}}};const ua=fs||{};ua[la]||(ua[la]={});ua[la].styles||(ua[la].styles={});ua[la].hooks||(ua[la].hooks={});ua[la].shims||(ua[la].shims=[]);var vi=ua[la];const wR=[],AR=function(){It.removeEventListener("DOMContentLoaded",AR),Sd=1,wR.map(t=>t())};let Sd=!1;ga&&(Sd=(It.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(It.readyState),Sd||It.addEventListener("DOMContentLoaded",AR));function PL(t){ga&&(Sd?setTimeout(t,0):wR.push(t))}function af(t){const{tag:e,attributes:n={},children:r=[]}=t;return typeof t=="string"?SR(t):"<".concat(e," ").concat(xL(n),">").concat(r.map(af).join(""),"</").concat(e,">")}function SS(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var Qp=function(e,n,r,a){var o=Object.keys(e),u=o.length,f=n,d,g,y;for(r===void 0?(d=1,y=e[o[0]]):(d=0,y=r);d<u;d++)g=o[d],y=f(y,e[g],g,e);return y};function kL(t){const e=[];let n=0;const r=t.length;for(;n<r;){const a=t.charCodeAt(n++);if(a>=55296&&a<=56319&&n<r){const o=t.charCodeAt(n++);(o&64512)==56320?e.push(((a&1023)<<10)+(o&1023)+65536):(e.push(a),n--)}else e.push(a)}return e}function zy(t){const e=kL(t);return e.length===1?e[0].toString(16):null}function ML(t,e){const n=t.length;let r=t.charCodeAt(e),a;return r>=55296&&r<=56319&&n>e+1&&(a=t.charCodeAt(e+1),a>=56320&&a<=57343)?(r-55296)*1024+a-56320+65536:r}function TS(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function Fy(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,a=TS(e);typeof vi.hooks.addPack=="function"&&!r?vi.hooks.addPack(t,TS(e)):vi.styles[t]=ge(ge({},vi.styles[t]||{}),a),t==="fas"&&Fy("fa",e)}const{styles:kc,shims:LL}=vi,RR=Object.keys(Zv),UL=RR.reduce((t,e)=>(t[e]=Object.keys(Zv[e]),t),{});let t_=null,CR={},xR={},IR={},OR={},DR={};function VL(t){return~SL.indexOf(t)}function jL(t,e){const n=e.split("-"),r=n[0],a=n.slice(1).join("-");return r===t&&a!==""&&!VL(a)?a:null}const NR=()=>{const t=r=>Qp(kc,(a,o,u)=>(a[u]=Qp(o,r,{}),a),{});CR=t((r,a,o)=>(a[3]&&(r[a[3]]=o),a[2]&&a[2].filter(f=>typeof f=="number").forEach(f=>{r[f.toString(16)]=o}),r)),xR=t((r,a,o)=>(r[o]=o,a[2]&&a[2].filter(f=>typeof f=="string").forEach(f=>{r[f]=o}),r)),DR=t((r,a,o)=>{const u=a[2];return r[o]=o,u.forEach(f=>{r[f]=o}),r});const e="far"in kc||Ae.autoFetchSvg,n=Qp(LL,(r,a)=>{const o=a[0];let u=a[1];const f=a[2];return u==="far"&&!e&&(u="fas"),typeof o=="string"&&(r.names[o]={prefix:u,iconName:f}),typeof o=="number"&&(r.unicodes[o.toString(16)]={prefix:u,iconName:f}),r},{names:{},unicodes:{}});IR=n.names,OR=n.unicodes,t_=rm(Ae.styleDefault,{family:Ae.familyDefault})};AL(t=>{t_=rm(t.styleDefault,{family:Ae.familyDefault})});NR();function n_(t,e){return(CR[t]||{})[e]}function zL(t,e){return(xR[t]||{})[e]}function so(t,e){return(DR[t]||{})[e]}function PR(t){return IR[t]||{prefix:null,iconName:null}}function FL(t){const e=OR[t],n=n_("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function hs(){return t_}const kR=()=>({prefix:null,iconName:null,rest:[]});function BL(t){let e=kn;const n=RR.reduce((r,a)=>(r[a]="".concat(Ae.cssPrefix,"-").concat(a),r),{});return mR.forEach(r=>{(t.includes(n[r])||t.some(a=>UL[r].includes(a)))&&(e=r)}),e}function rm(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=kn}=e,r=yL[n][t];if(n===tm&&!t)return"fad";const a=ES[n][t]||ES[n][r],o=t in vi.styles?t:null;return a||o||null}function HL(t){let e=[],n=null;return t.forEach(r=>{const a=jL(Ae.cssPrefix,r);a?n=a:r&&e.push(r)}),{iconName:n,rest:e}}function wS(t){return t.sort().filter((e,n,r)=>r.indexOf(e)===n)}function im(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=e;let r=null;const a=ky.concat(aL),o=wS(t.filter(_=>a.includes(_))),u=wS(t.filter(_=>!ky.includes(_))),f=o.filter(_=>(r=_,!dR.includes(_))),[d=null]=f,g=BL(o),y=ge(ge({},HL(u)),{},{prefix:rm(d,{family:g})});return ge(ge(ge({},y),KL({values:t,family:g,styles:kc,config:Ae,canonical:y,givenPrefix:r})),qL(n,r,y))}function qL(t,e,n){let{prefix:r,iconName:a}=n;if(t||!r||!a)return{prefix:r,iconName:a};const o=e==="fa"?PR(a):{},u=so(r,a);return a=o.iconName||u||a,r=o.prefix||r,r==="far"&&!kc.far&&kc.fas&&!Ae.autoFetchSvg&&(r="fas"),{prefix:r,iconName:a}}const $L=mR.filter(t=>t!==kn||t!==tm),GL=Object.keys(Py).filter(t=>t!==kn).map(t=>Object.keys(Py[t])).flat();function KL(t){const{values:e,family:n,canonical:r,givenPrefix:a="",styles:o={},config:u={}}=t,f=n===tm,d=e.includes("fa-duotone")||e.includes("fad"),g=u.familyDefault==="duotone",y=r.prefix==="fad"||r.prefix==="fa-duotone";if(!f&&(d||g||y)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&$L.includes(n)&&(Object.keys(o).find(E=>GL.includes(E))||u.autoFetchSvg)){const E=W4.get(n).defaultShortPrefixId;r.prefix=E,r.iconName=so(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||a==="fa")&&(r.prefix=hs()||"fas"),r}class YL{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const a=n.reduce(this._pullDefinitions,{});Object.keys(a).forEach(o=>{this.definitions[o]=ge(ge({},this.definitions[o]||{}),a[o]),Fy(o,a[o]);const u=Zv[kn][o];u&&Fy(u,a[o]),NR()})}reset(){this.definitions={}}_pullDefinitions(e,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(a=>{const{prefix:o,iconName:u,icon:f}=r[a],d=f[2];e[o]||(e[o]={}),d.length>0&&d.forEach(g=>{typeof g=="string"&&(e[o][g]=f)}),e[o][u]=f}),e}}let AS=[],Cl={};const Pl={},QL=Object.keys(Pl);function XL(t,e){let{mixoutsTo:n}=e;return AS=t,Cl={},Object.keys(Pl).forEach(r=>{QL.indexOf(r)===-1&&delete Pl[r]}),AS.forEach(r=>{const a=r.mixout?r.mixout():{};if(Object.keys(a).forEach(o=>{typeof a[o]=="function"&&(n[o]=a[o]),typeof a[o]=="object"&&Object.keys(a[o]).forEach(u=>{n[o]||(n[o]={}),n[o][u]=a[o][u]})}),r.hooks){const o=r.hooks();Object.keys(o).forEach(u=>{Cl[u]||(Cl[u]=[]),Cl[u].push(o[u])})}r.provides&&r.provides(Pl)}),n}function By(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return(Cl[t]||[]).forEach(u=>{e=u.apply(null,[e,...r])}),e}function po(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(Cl[t]||[]).forEach(o=>{o.apply(null,n)})}function ds(){const t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Pl[t]?Pl[t].apply(null,e):void 0}function Hy(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t;const n=t.prefix||hs();if(e)return e=so(n,e)||e,SS(MR.definitions,n,e)||SS(vi.styles,n,e)}const MR=new YL,WL=()=>{Ae.autoReplaceSvg=!1,Ae.observeMutations=!1,po("noAuto")},ZL={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ga?(po("beforeI2svg",t),ds("pseudoElements2svg",t),ds("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=t;Ae.autoReplaceSvg===!1&&(Ae.autoReplaceSvg=!0),Ae.observeMutations=!0,PL(()=>{e3({autoReplaceSvgRoot:e}),po("watch",t)})}},JL={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:so(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){const e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=rm(t[0]);return{prefix:n,iconName:so(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(Ae.cssPrefix,"-"))>-1||t.match(vL))){const e=im(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||hs(),iconName:so(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){const e=hs();return{prefix:e,iconName:so(e,t)||t}}}},fr={noAuto:WL,config:Ae,dom:ZL,parse:JL,library:MR,findIconDefinition:Hy,toHtml:af},e3=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=It}=t;(Object.keys(vi.styles).length>0||Ae.autoFetchSvg)&&ga&&Ae.autoReplaceSvg&&fr.dom.i2svg({node:e})};function am(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>af(n))}}),Object.defineProperty(t,"node",{get:function(){if(!ga)return;const n=It.createElement("div");return n.innerHTML=t.html,n.children}}),t}function t3(t){let{children:e,main:n,mask:r,attributes:a,styles:o,transform:u}=t;if(e_(u)&&n.found&&!r.found){const{width:f,height:d}=n,g={x:f/d/2,y:.5};a.style=nm(ge(ge({},o),{},{"transform-origin":"".concat(g.x+u.x/16,"em ").concat(g.y+u.y/16,"em")}))}return[{tag:"svg",attributes:a,children:e}]}function n3(t){let{prefix:e,iconName:n,children:r,attributes:a,symbol:o}=t;const u=o===!0?"".concat(e,"-").concat(Ae.cssPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ge(ge({},a),{},{id:u}),children:r}]}]}function r_(t){const{icons:{main:e,mask:n},prefix:r,iconName:a,transform:o,symbol:u,title:f,maskId:d,titleId:g,extra:y,watchable:_=!1}=t,{width:E,height:T}=n.found?n:e,A=nL.includes(r),M=[Ae.replacementClass,a?"".concat(Ae.cssPrefix,"-").concat(a):""].filter(te=>y.classes.indexOf(te)===-1).filter(te=>te!==""||!!te).concat(y.classes).join(" ");let P={children:[],attributes:ge(ge({},y.attributes),{},{"data-prefix":r,"data-icon":a,class:M,role:y.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(E," ").concat(T)})};const j=A&&!~y.classes.indexOf("fa-fw")?{width:"".concat(E/T*16*.0625,"em")}:{};_&&(P.attributes[go]=""),f&&(P.children.push({tag:"title",attributes:{id:P.attributes["aria-labelledby"]||"title-".concat(g||Pc())},children:[f]}),delete P.attributes.title);const G=ge(ge({},P),{},{prefix:r,iconName:a,main:e,mask:n,maskId:d,transform:o,symbol:u,styles:ge(ge({},j),y.styles)}),{children:Y,attributes:re}=n.found&&e.found?ds("generateAbstractMask",G)||{children:[],attributes:{}}:ds("generateAbstractIcon",G)||{children:[],attributes:{}};return G.children=Y,G.attributes=re,u?n3(G):t3(G)}function RS(t){const{content:e,width:n,height:r,transform:a,title:o,extra:u,watchable:f=!1}=t,d=ge(ge(ge({},u.attributes),o?{title:o}:{}),{},{class:u.classes.join(" ")});f&&(d[go]="");const g=ge({},u.styles);e_(a)&&(g.transform=OL({transform:a,startCentered:!0,width:n,height:r}),g["-webkit-transform"]=g.transform);const y=nm(g);y.length>0&&(d.style=y);const _=[];return _.push({tag:"span",attributes:d,children:[e]}),o&&_.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),_}function r3(t){const{content:e,title:n,extra:r}=t,a=ge(ge(ge({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),o=nm(r.styles);o.length>0&&(a.style=o);const u=[];return u.push({tag:"span",attributes:a,children:[e]}),n&&u.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),u}const{styles:Xp}=vi;function qy(t){const e=t[0],n=t[1],[r]=t.slice(4);let a=null;return Array.isArray(r)?a={tag:"g",attributes:{class:"".concat(Ae.cssPrefix,"-").concat(Kp.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Ae.cssPrefix,"-").concat(Kp.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Ae.cssPrefix,"-").concat(Kp.PRIMARY),fill:"currentColor",d:r[1]}}]}:a={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:a}}const i3={found:!1,width:512,height:512};function a3(t,e){!vR&&!Ae.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function $y(t,e){let n=e;return e==="fa"&&Ae.styleDefault!==null&&(e=hs()),new Promise((r,a)=>{if(n==="fa"){const o=PR(t)||{};t=o.iconName||t,e=o.prefix||e}if(t&&e&&Xp[e]&&Xp[e][t]){const o=Xp[e][t];return r(qy(o))}a3(t,e),r(ge(ge({},i3),{},{icon:Ae.showMissingIcons&&t?ds("missingIconAbstract")||{}:{}}))})}const CS=()=>{},Gy=Ae.measurePerformance&&Nh&&Nh.mark&&Nh.measure?Nh:{mark:CS,measure:CS},hc='FA "6.7.2"',s3=t=>(Gy.mark("".concat(hc," ").concat(t," begins")),()=>LR(t)),LR=t=>{Gy.mark("".concat(hc," ").concat(t," ends")),Gy.measure("".concat(hc," ").concat(t),"".concat(hc," ").concat(t," begins"),"".concat(hc," ").concat(t," ends"))};var i_={begin:s3,end:LR};const Qh=()=>{};function xS(t){return typeof(t.getAttribute?t.getAttribute(go):null)=="string"}function o3(t){const e=t.getAttribute?t.getAttribute(Xv):null,n=t.getAttribute?t.getAttribute(Wv):null;return e&&n}function l3(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Ae.replacementClass)}function u3(){return Ae.autoReplaceSvg===!0?Xh.replace:Xh[Ae.autoReplaceSvg]||Xh.replace}function c3(t){return It.createElementNS("http://www.w3.org/2000/svg",t)}function f3(t){return It.createElement(t)}function UR(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=t.tag==="svg"?c3:f3}=e;if(typeof t=="string")return It.createTextNode(t);const r=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(o){r.setAttribute(o,t.attributes[o])}),(t.children||[]).forEach(function(o){r.appendChild(UR(o,{ceFn:n}))}),r}function h3(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const Xh={replace:function(t){const e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(UR(n),e)}),e.getAttribute(go)===null&&Ae.keepOriginalSource){let n=It.createComment(h3(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){const e=t[0],n=t[1];if(~Jv(e).indexOf(Ae.replacementClass))return Xh.replace(t);const r=new RegExp("".concat(Ae.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const o=n[0].attributes.class.split(" ").reduce((u,f)=>(f===Ae.replacementClass||f.match(r)?u.toSvg.push(f):u.toNode.push(f),u),{toNode:[],toSvg:[]});n[0].attributes.class=o.toSvg.join(" "),o.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",o.toNode.join(" "))}const a=n.map(o=>af(o)).join(`
`);e.setAttribute(go,""),e.innerHTML=a}};function IS(t){t()}function VR(t,e){const n=typeof e=="function"?e:Qh;if(t.length===0)n();else{let r=IS;Ae.mutateApproach===gL&&(r=fs.requestAnimationFrame||IS),r(()=>{const a=u3(),o=i_.begin("mutate");t.map(a),o(),n()})}}let a_=!1;function jR(){a_=!0}function Ky(){a_=!1}let Td=null;function OS(t){if(!pS||!Ae.observeMutations)return;const{treeCallback:e=Qh,nodeCallback:n=Qh,pseudoElementsCallback:r=Qh,observeMutationsRoot:a=It}=t;Td=new pS(o=>{if(a_)return;const u=hs();Zl(o).forEach(f=>{if(f.type==="childList"&&f.addedNodes.length>0&&!xS(f.addedNodes[0])&&(Ae.searchPseudoElements&&r(f.target),e(f.target)),f.type==="attributes"&&f.target.parentNode&&Ae.searchPseudoElements&&r(f.target.parentNode),f.type==="attributes"&&xS(f.target)&&~bL.indexOf(f.attributeName))if(f.attributeName==="class"&&o3(f.target)){const{prefix:d,iconName:g}=im(Jv(f.target));f.target.setAttribute(Xv,d||u),g&&f.target.setAttribute(Wv,g)}else l3(f.target)&&n(f.target)})}),ga&&Td.observe(a,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function d3(){Td&&Td.disconnect()}function m3(t){const e=t.getAttribute("style");let n=[];return e&&(n=e.split(";").reduce((r,a)=>{const o=a.split(":"),u=o[0],f=o.slice(1);return u&&f.length>0&&(r[u]=f.join(":").trim()),r},{})),n}function g3(t){const e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"";let a=im(Jv(t));return a.prefix||(a.prefix=hs()),e&&n&&(a.prefix=e,a.iconName=n),a.iconName&&a.prefix||(a.prefix&&r.length>0&&(a.iconName=zL(a.prefix,t.innerText)||n_(a.prefix,zy(t.innerText))),!a.iconName&&Ae.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(a.iconName=t.firstChild.data)),a}function p3(t){const e=Zl(t.attributes).reduce((a,o)=>(a.name!=="class"&&a.name!=="style"&&(a[o.name]=o.value),a),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return Ae.autoA11y&&(n?e["aria-labelledby"]="".concat(Ae.replacementClass,"-title-").concat(r||Pc()):(e["aria-hidden"]="true",e.focusable="false")),e}function y3(){return{iconName:null,title:null,titleId:null,prefix:null,transform:yi,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function DS(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:a}=g3(t),o=p3(t),u=By("parseNodeAttributes",{},t);let f=e.styleParser?m3(t):[];return ge({iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:yi,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:f,attributes:o}},u)}const{styles:v3}=vi;function zR(t){const e=Ae.autoReplaceSvg==="nest"?DS(t,{styleParser:!1}):DS(t);return~e.extra.classes.indexOf(ER)?ds("generateLayersText",t,e):ds("generateSvgReplacementMutation",t,e)}function _3(){return[...J4,...ky]}function NS(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!ga)return Promise.resolve();const n=It.documentElement.classList,r=y=>n.add("".concat(_S,"-").concat(y)),a=y=>n.remove("".concat(_S,"-").concat(y)),o=Ae.autoFetchSvg?_3():dR.concat(Object.keys(v3));o.includes("fa")||o.push("fa");const u=[".".concat(ER,":not([").concat(go,"])")].concat(o.map(y=>".".concat(y,":not([").concat(go,"])"))).join(", ");if(u.length===0)return Promise.resolve();let f=[];try{f=Zl(t.querySelectorAll(u))}catch{}if(f.length>0)r("pending"),a("complete");else return Promise.resolve();const d=i_.begin("onTree"),g=f.reduce((y,_)=>{try{const E=zR(_);E&&y.push(E)}catch(E){vR||E.name==="MissingIcon"&&console.error(E)}return y},[]);return new Promise((y,_)=>{Promise.all(g).then(E=>{VR(E,()=>{r("active"),r("complete"),a("pending"),typeof e=="function"&&e(),d(),y()})}).catch(E=>{d(),_(E)})})}function E3(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;zR(t).then(n=>{n&&VR([n],e)})}function b3(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(e||{}).icon?e:Hy(e||{});let{mask:a}=n;return a&&(a=(a||{}).icon?a:Hy(a||{})),t(r,ge(ge({},n),{},{mask:a}))}}const S3=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=yi,symbol:r=!1,mask:a=null,maskId:o=null,title:u=null,titleId:f=null,classes:d=[],attributes:g={},styles:y={}}=e;if(!t)return;const{prefix:_,iconName:E,icon:T}=t;return am(ge({type:"icon"},t),()=>(po("beforeDOMElementCreation",{iconDefinition:t,params:e}),Ae.autoA11y&&(u?g["aria-labelledby"]="".concat(Ae.replacementClass,"-title-").concat(f||Pc()):(g["aria-hidden"]="true",g.focusable="false")),r_({icons:{main:qy(T),mask:a?qy(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:_,iconName:E,transform:ge(ge({},yi),n),symbol:r,title:u,maskId:o,titleId:f,extra:{attributes:g,styles:y,classes:d}})))};var T3={mixout(){return{icon:b3(S3)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=NS,t.nodeCallback=E3,t}}},provides(t){t.i2svg=function(e){const{node:n=It,callback:r=()=>{}}=e;return NS(n,r)},t.generateSvgReplacementMutation=function(e,n){const{iconName:r,title:a,titleId:o,prefix:u,transform:f,symbol:d,mask:g,maskId:y,extra:_}=n;return new Promise((E,T)=>{Promise.all([$y(r,u),g.iconName?$y(g.iconName,g.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(A=>{let[M,P]=A;E([e,r_({icons:{main:M,mask:P},prefix:u,iconName:r,transform:f,symbol:d,maskId:y,title:a,titleId:o,extra:_,watchable:!0})])}).catch(T)})},t.generateAbstractIcon=function(e){let{children:n,attributes:r,main:a,transform:o,styles:u}=e;const f=nm(u);f.length>0&&(r.style=f);let d;return e_(o)&&(d=ds("generateAbstractTransformGrouping",{main:a,transform:o,containerWidth:a.width,iconWidth:a.width})),n.push(d||a.icon),{children:n,attributes:r}}}},w3={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=e;return am({type:"layer"},()=>{po("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t(a=>{Array.isArray(a)?a.map(o=>{r=r.concat(o.abstract)}):r=r.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(Ae.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},A3={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:a={},styles:o={}}=e;return am({type:"counter",content:t},()=>(po("beforeDOMElementCreation",{content:t,params:e}),r3({content:t.toString(),title:n,extra:{attributes:a,styles:o,classes:["".concat(Ae.cssPrefix,"-layers-counter"),...r]}})))}}}},R3={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=yi,title:r=null,classes:a=[],attributes:o={},styles:u={}}=e;return am({type:"text",content:t},()=>(po("beforeDOMElementCreation",{content:t,params:e}),RS({content:t,transform:ge(ge({},yi),n),title:r,extra:{attributes:o,styles:u,classes:["".concat(Ae.cssPrefix,"-layers-text"),...a]}})))}}},provides(t){t.generateLayersText=function(e,n){const{title:r,transform:a,extra:o}=n;let u=null,f=null;if(fR){const d=parseInt(getComputedStyle(e).fontSize,10),g=e.getBoundingClientRect();u=g.width/d,f=g.height/d}return Ae.autoA11y&&!r&&(o.attributes["aria-hidden"]="true"),Promise.resolve([e,RS({content:e.innerHTML,width:u,height:f,transform:a,title:r,extra:o,watchable:!0})])}}};const C3=new RegExp('"',"ug"),PS=[1105920,1112319],kS=ge(ge(ge(ge({},{FontAwesome:{normal:"fas",400:"fas"}}),X4),dL),sL),Yy=Object.keys(kS).reduce((t,e)=>(t[e.toLowerCase()]=kS[e],t),{}),x3=Object.keys(Yy).reduce((t,e)=>{const n=Yy[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function I3(t){const e=t.replace(C3,""),n=ML(e,0),r=n>=PS[0]&&n<=PS[1],a=e.length===2?e[0]===e[1]:!1;return{value:zy(a?e[0]:e),isSecondary:r||a}}function O3(t,e){const n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),a=isNaN(r)?"normal":r;return(Yy[n]||{})[a]||x3[n]}function MS(t,e){const n="".concat(mL).concat(e.replace(":","-"));return new Promise((r,a)=>{if(t.getAttribute(n)!==null)return r();const u=Zl(t.children).filter(E=>E.getAttribute(Ly)===e)[0],f=fs.getComputedStyle(t,e),d=f.getPropertyValue("font-family"),g=d.match(_L),y=f.getPropertyValue("font-weight"),_=f.getPropertyValue("content");if(u&&!g)return t.removeChild(u),r();if(g&&_!=="none"&&_!==""){const E=f.getPropertyValue("content");let T=O3(d,y);const{value:A,isSecondary:M}=I3(E),P=g[0].startsWith("FontAwesome");let j=n_(T,A),G=j;if(P){const Y=FL(A);Y.iconName&&Y.prefix&&(j=Y.iconName,T=Y.prefix)}if(j&&!M&&(!u||u.getAttribute(Xv)!==T||u.getAttribute(Wv)!==G)){t.setAttribute(n,G),u&&t.removeChild(u);const Y=y3(),{extra:re}=Y;re.attributes[Ly]=e,$y(j,T).then(te=>{const F=r_(ge(ge({},Y),{},{icons:{main:te,mask:kR()},prefix:T,iconName:G,extra:re,watchable:!0})),D=It.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(D,t.firstChild):t.appendChild(D),D.outerHTML=F.map(x=>af(x)).join(`
`),t.removeAttribute(n),r()}).catch(a)}else r()}else r()})}function D3(t){return Promise.all([MS(t,"::before"),MS(t,"::after")])}function N3(t){return t.parentNode!==document.head&&!~pL.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(Ly)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function LS(t){if(ga)return new Promise((e,n)=>{const r=Zl(t.querySelectorAll("*")).filter(N3).map(D3),a=i_.begin("searchPseudoElements");jR(),Promise.all(r).then(()=>{a(),Ky(),e()}).catch(()=>{a(),Ky(),n()})})}var P3={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=LS,t}}},provides(t){t.pseudoElements2svg=function(e){const{node:n=It}=e;Ae.searchPseudoElements&&LS(n)}}};let US=!1;var k3={mixout(){return{dom:{unwatch(){jR(),US=!0}}}},hooks(){return{bootstrap(){OS(By("mutationObserverCallbacks",{}))},noAuto(){d3()},watch(t){const{observeMutationsRoot:e}=t;US?Ky():OS(By("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const VS=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,r)=>{const a=r.toLowerCase().split("-"),o=a[0];let u=a.slice(1).join("-");if(o&&u==="h")return n.flipX=!0,n;if(o&&u==="v")return n.flipY=!0,n;if(u=parseFloat(u),isNaN(u))return n;switch(o){case"grow":n.size=n.size+u;break;case"shrink":n.size=n.size-u;break;case"left":n.x=n.x-u;break;case"right":n.x=n.x+u;break;case"up":n.y=n.y-u;break;case"down":n.y=n.y+u;break;case"rotate":n.rotate=n.rotate+u;break}return n},e)};var M3={mixout(){return{parse:{transform:t=>VS(t)}}},hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-transform");return n&&(t.transform=VS(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:r,containerWidth:a,iconWidth:o}=e;const u={transform:"translate(".concat(a/2," 256)")},f="translate(".concat(r.x*32,", ").concat(r.y*32,") "),d="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),g="rotate(".concat(r.rotate," 0 0)"),y={transform:"".concat(f," ").concat(d," ").concat(g)},_={transform:"translate(".concat(o/2*-1," -256)")},E={outer:u,inner:y,path:_};return{tag:"g",attributes:ge({},E.outer),children:[{tag:"g",attributes:ge({},E.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:ge(ge({},n.icon.attributes),E.path)}]}]}}}};const Wp={x:0,y:0,width:"100%",height:"100%"};function jS(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function L3(t){return t.tag==="g"?t.children:[t]}var U3={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-mask"),r=n?im(n.split(" ").map(a=>a.trim())):kR();return r.prefix||(r.prefix=hs()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:r,main:a,mask:o,maskId:u,transform:f}=e;const{width:d,icon:g}=a,{width:y,icon:_}=o,E=IL({transform:f,containerWidth:y,iconWidth:d}),T={tag:"rect",attributes:ge(ge({},Wp),{},{fill:"white"})},A=g.children?{children:g.children.map(jS)}:{},M={tag:"g",attributes:ge({},E.inner),children:[jS(ge({tag:g.tag,attributes:ge(ge({},g.attributes),E.path)},A))]},P={tag:"g",attributes:ge({},E.outer),children:[M]},j="mask-".concat(u||Pc()),G="clip-".concat(u||Pc()),Y={tag:"mask",attributes:ge(ge({},Wp),{},{id:j,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[T,P]},re={tag:"defs",children:[{tag:"clipPath",attributes:{id:G},children:L3(_)},Y]};return n.push(re,{tag:"rect",attributes:ge({fill:"currentColor","clip-path":"url(#".concat(G,")"),mask:"url(#".concat(j,")")},Wp)}),{children:n,attributes:r}}}},V3={provides(t){let e=!1;fs.matchMedia&&(e=fs.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},a={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:ge(ge({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const o=ge(ge({},a),{},{attributeName:"opacity"}),u={tag:"circle",attributes:ge(ge({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||u.children.push({tag:"animate",attributes:ge(ge({},a),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ge(ge({},o),{},{values:"1;0;1;1;0;1;"})}),n.push(u),n.push({tag:"path",attributes:ge(ge({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:ge(ge({},o),{},{values:"1;0;0;0;0;1;"})}]}),e||n.push({tag:"path",attributes:ge(ge({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ge(ge({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},j3={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return t.symbol=r,t}}}},z3=[NL,T3,w3,A3,R3,P3,k3,M3,U3,V3,j3];XL(z3,{mixoutsTo:fr});fr.noAuto;fr.config;fr.library;fr.dom;const Qy=fr.parse;fr.findIconDefinition;fr.toHtml;const F3=fr.icon;fr.layer;fr.text;fr.counter;var Zp={exports:{}},Jp,zS;function B3(){if(zS)return Jp;zS=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Jp=t,Jp}var ey,FS;function H3(){if(FS)return ey;FS=1;var t=B3();function e(){}function n(){}return n.resetWarningCache=e,ey=function(){function r(u,f,d,g,y,_){if(_!==t){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}r.isRequired=r;function a(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},ey}var BS;function q3(){return BS||(BS=1,Zp.exports=H3()()),Zp.exports}var $3=q3();const rt=Pw($3);function HS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function pi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HS(Object(n),!0).forEach(function(r){xl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function xl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G3(t,e){if(t==null)return{};var n={},r=Object.keys(t),a,o;for(o=0;o<r.length;o++)a=r[o],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function K3(t,e){if(t==null)return{};var n=G3(t,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xy(t){return Y3(t)||Q3(t)||X3(t)||W3()}function Y3(t){if(Array.isArray(t))return Wy(t)}function Q3(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function X3(t,e){if(t){if(typeof t=="string")return Wy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wy(t,e)}}function Wy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function W3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z3(t){var e,n=t.beat,r=t.fade,a=t.beatFade,o=t.bounce,u=t.shake,f=t.flash,d=t.spin,g=t.spinPulse,y=t.spinReverse,_=t.pulse,E=t.fixedWidth,T=t.inverse,A=t.border,M=t.listItem,P=t.flip,j=t.size,G=t.rotation,Y=t.pull,re=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":a,"fa-bounce":o,"fa-shake":u,"fa-flash":f,"fa-spin":d,"fa-spin-reverse":y,"fa-spin-pulse":g,"fa-pulse":_,"fa-fw":E,"fa-inverse":T,"fa-border":A,"fa-li":M,"fa-flip":P===!0,"fa-flip-horizontal":P==="horizontal"||P==="both","fa-flip-vertical":P==="vertical"||P==="both"},xl(e,"fa-".concat(j),typeof j<"u"&&j!==null),xl(e,"fa-rotate-".concat(G),typeof G<"u"&&G!==null&&G!==0),xl(e,"fa-pull-".concat(Y),typeof Y<"u"&&Y!==null),xl(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(re).map(function(te){return re[te]?te:null}).filter(function(te){return te})}function J3(t){return t=t-0,t===t}function FR(t){return J3(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var e6=["style"];function t6(t){return t.charAt(0).toUpperCase()+t.slice(1)}function n6(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),a=FR(n.slice(0,r)),o=n.slice(r+1).trim();return a.startsWith("webkit")?e[t6(a)]=o:e[a]=o,e},{})}function BR(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(d){return BR(t,d)}),a=Object.keys(e.attributes||{}).reduce(function(d,g){var y=e.attributes[g];switch(g){case"class":d.attrs.className=y,delete e.attributes.class;break;case"style":d.attrs.style=n6(y);break;default:g.indexOf("aria-")===0||g.indexOf("data-")===0?d.attrs[g.toLowerCase()]=y:d.attrs[FR(g)]=y}return d},{attrs:{}}),o=n.style,u=o===void 0?{}:o,f=K3(n,e6);return a.attrs.style=pi(pi({},a.attrs.style),u),t.apply(void 0,[e.tag,pi(pi({},a.attrs),f)].concat(Xy(r)))}var HR=!1;try{HR=!0}catch{}function r6(){if(!HR&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function qS(t){if(t&&wd(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(Qy.icon)return Qy.icon(t);if(t===null)return null;if(t&&wd(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function ty(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?xl({},t,e):{}}var $S={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},pa=kw.forwardRef(function(t,e){var n=pi(pi({},$S),t),r=n.icon,a=n.mask,o=n.symbol,u=n.className,f=n.title,d=n.titleId,g=n.maskId,y=qS(r),_=ty("classes",[].concat(Xy(Z3(n)),Xy((u||"").split(" ")))),E=ty("transform",typeof n.transform=="string"?Qy.transform(n.transform):n.transform),T=ty("mask",qS(a)),A=F3(y,pi(pi(pi(pi({},_),E),T),{},{symbol:o,title:f,titleId:d,maskId:g}));if(!A)return r6("Could not find icon",y),null;var M=A.abstract,P={ref:e};return Object.keys(n).forEach(function(j){$S.hasOwnProperty(j)||(P[j]=n[j])}),i6(M[0],P)});pa.displayName="FontAwesomeIcon";pa.propTypes={beat:rt.bool,border:rt.bool,beatFade:rt.bool,bounce:rt.bool,className:rt.string,fade:rt.bool,flash:rt.bool,mask:rt.oneOfType([rt.object,rt.array,rt.string]),maskId:rt.string,fixedWidth:rt.bool,inverse:rt.bool,flip:rt.oneOf([!0,!1,"horizontal","vertical","both"]),icon:rt.oneOfType([rt.object,rt.array,rt.string]),listItem:rt.bool,pull:rt.oneOf(["right","left"]),pulse:rt.bool,rotation:rt.oneOf([0,90,180,270]),shake:rt.bool,size:rt.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:rt.bool,spinPulse:rt.bool,spinReverse:rt.bool,symbol:rt.oneOfType([rt.bool,rt.string]),title:rt.string,titleId:rt.string,transform:rt.oneOfType([rt.string,rt.object]),swapOpacity:rt.bool};var i6=BR.bind(null,kw.createElement);const a6=()=>I.jsx(pa,{icon:M4}),s6=O.memo(a6),o6=()=>I.jsx(pa,{icon:L4}),l6=O.memo(o6),u6=()=>I.jsx(pa,{icon:j4}),c6=O.memo(u6),f6="_LoadingIcon_1jisw_6",h6={LoadingIcon:f6},d6=t=>{const{size:e="1x"}=t;return I.jsx("span",{className:h6.LoadingIcon,children:I.jsx(pa,{icon:V4,size:e})})},qR=O.memo(d6),m6="_MeloChartIcon_1muw1_1",g6={MeloChartIcon:m6},p6=()=>I.jsx("span",{className:g6.MeloChartIcon}),y6=O.memo(p6),v6=()=>I.jsx(pa,{icon:U4}),GS=O.memo(v6),_6=()=>I.jsx(pa,{icon:k4}),E6=O.memo(_6),b6=()=>I.jsx(pa,{icon:z4}),S6=O.memo(b6),T6="_BlockUI_1m4vb_1",w6={BlockUI:T6},A6=()=>I.jsx("div",{className:w6.BlockUI,children:I.jsx(qR,{size:"3x"})}),R6=O.memo(A6),qt=Object.freeze({DEFAULT:"DEFAULT",DANGER:"DANGER",PRIMARY:"PRIMARY",SUCCESS:"SUCCESS"}),C6="_Button_1o78h_1",x6={Button:C6},I6=t=>{const{category:e=qt.DEFAULT,children:n,className:r="",icon:a=null,textOnly:o=!1,...u}=t;return I.jsxs("button",{className:`${x6.Button} ${r}`,"data-category":e,"data-text-only":o,"data-has-icon":a!=null,...u,children:[a,n]})},Lt=O.memo(I6),O6=t=>{const{deleteSongDialogFnsRef:e}=t,{t:n}=$t();return I.jsx(I.Fragment,{children:I.jsx(Lt,{category:qt.DANGER,onClick:()=>{var r;return(r=e.current)==null?void 0:r.show()},children:n("Delete Song")})})},D6=O.memo(O6),N6="_FieldWithLabel_15xa5_1",P6={FieldWithLabel:N6},k6=t=>{const{label:e,field:n}=t;return I.jsxs("label",{className:P6.FieldWithLabel,children:[I.jsx("span",{children:e}),n]})},na=O.memo(k6),M6="_Input_6v29l_1",L6={Input:M6},U6=t=>I.jsx("input",{className:L6.Input,...t}),ra=O.memo(U6),V6="_NewNotesOption_1ax45_1",j6={NewNotesOption:V6},z6=t=>{const{notesFnsRef:e}=t,{t:n}=$t(),r=O.useCallback(o=>{var u;(u=e.current)==null||u.addMultipleNotes(o)},[e]),a=O.useCallback(o=>{o.preventDefault(),r(+o.target.qty.value)},[r]);return I.jsxs("form",{className:j6.NewNotesOption,onSubmit:a,children:[I.jsx(na,{label:n("New Notes"),field:I.jsx(ra,{type:"number",name:"qty"})}),I.jsx(Lt,{category:qt.PRIMARY,children:n("Add")})]})},F6=O.memo(z6),B6="_NewPitchesOption_1vsl8_1",H6={NewPitchesOption:B6},q6=t=>{const{notesFnsRef:e}=t,{t:n}=$t(),r=O.useCallback(o=>{var u;(u=e.current)==null||u.addMultiplePitches(o)},[e]),a=O.useCallback(o=>{o.preventDefault(),r(+o.target.qty.value)},[r]);return I.jsxs("form",{className:H6.NewPitchesOption,onSubmit:a,children:[I.jsx(na,{label:n("New Pitches"),field:I.jsx(ra,{type:"number",name:"qty"})}),I.jsx(Lt,{category:qt.PRIMARY,children:n("Add")})]})},$6=O.memo(q6),G6="_TrimOptions_ti9xd_1",K6={TrimOptions:G6},Y6=t=>{const{notesFnsRef:e}=t,{t:n}=$t(),r=O.useCallback(()=>{var u;(u=e.current)==null||u.trimPitches()},[e]),a=O.useCallback(()=>{var u;(u=e.current)==null||u.removeEmptyNotesAtTheEnd()},[e]),o=O.useCallback(()=>{a(),r()},[a,r]);return I.jsx("div",{className:K6.TrimOptions,children:I.jsx(Lt,{category:qt.DANGER,onClick:o,textOnly:!0,children:n("Trim Chart")})})},Q6=O.memo(Y6),X6="_ChartControllers_rba5f_1",W6="_Section_rba5f_7",ny={ChartControllers:X6,Section:W6},Z6=t=>{const{notesFnsRef:e,generateChartDialogFnsRef:n,deleteSongDialogFnsRef:r}=t,{t:a}=$t();return I.jsxs("div",{className:ny.ChartControllers,children:[I.jsxs("div",{className:ny.Section,children:[I.jsx(F6,{notesFnsRef:e}),I.jsx($6,{notesFnsRef:e}),I.jsx(Q6,{notesFnsRef:e})]}),I.jsxs("div",{className:ny.Section,children:[I.jsx(Lt,{category:qt.DANGER,onClick:()=>{var o;return(o=n.current)==null?void 0:o.show()},children:a("Generate mapping with lyrics")}),I.jsx(D6,{deleteSongDialogFnsRef:r})]})]})},J6=O.memo(Z6),eU="_Checkbox_5pzbe_1",tU={Checkbox:eU},nU=t=>{const{label:e,initialValue:n,className:r="",onChange:a}=t,[o,u]=O.useState(n);return O.useEffect(()=>{a(o)},[o,a]),I.jsxs("label",{className:`${tU.Checkbox} ${r}`,children:[I.jsx("input",{type:"checkbox",checked:o,onChange:()=>{u(f=>!f)}}),I.jsx("span",{children:e})]})},rU=O.memo(nU);var $R=Mw();const iU="_DialogUIBlocker_ntqep_1",aU="_Dialog_ntqep_1",sU="_DialogHeader_ntqep_32",oU="_DialogBody_ntqep_37",lU="_DialogFooter_ntqep_46",sc={DialogUIBlocker:iU,Dialog:aU,DialogHeader:sU,DialogBody:oU,DialogFooter:lU},uU=t=>{const{bodyContent:e,footerContent:n,title:r,size:a=""}=t;return O.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}),[]),$R.createPortal(I.jsx("div",{className:sc.DialogUIBlocker,children:I.jsxs("div",{className:sc.Dialog,"data-size":a,children:[I.jsx("div",{className:sc.DialogHeader,children:I.jsx("h2",{children:r})}),I.jsx("div",{className:sc.DialogBody,children:e}),I.jsx("div",{className:sc.DialogFooter,children:n})]})}),document.body)},sf=O.memo(uU),cU=Object.freeze({LARGE:"LARGE"}),fU=t=>{const{bodyContent:e,footerContent:n}=t,{t:r}=$t();return I.jsx(sf,{title:r("Confirmation"),bodyContent:e,footerContent:n})},GR=O.memo(fU),hU="_ContextMenu_ip4lh_1",dU="_ContextMenuItem_ip4lh_10",KS={ContextMenu:hU,ContextMenuItem:dU},mU=t=>{const{items:e,contextMenuFnsRef:n}=t,[r,a]=O.useState(null),o=O.useRef(null);return O.useImperativeHandle(n,()=>({setContextMenuData(u){a(u)}}),[]),O.useEffect(()=>{function u(f){o.current&&!o.current.contains(f.target)&&a(null)}return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[a,o]),r?I.jsx("div",{ref:o,className:KS.ContextMenu,style:{top:r==null?void 0:r.top,left:r==null?void 0:r.left},children:e.map(u=>I.jsx("span",{className:KS.ContextMenuItem,onClick:()=>{a(null),u.onClick(r)},"data-type":u.type,children:u.label},`item-${u.label}`))}):I.jsx(I.Fragment,{})},gU=O.memo(mU);function bn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var pU=typeof Symbol=="function"&&Symbol.observable||"@@observable",YS=pU,ry=()=>Math.random().toString(36).substring(7).split("").join("."),yU={INIT:`@@redux/INIT${ry()}`,REPLACE:`@@redux/REPLACE${ry()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ry()}`},Ad=yU;function s_(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function KR(t,e,n){if(typeof t!="function")throw new Error(bn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(bn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(bn(1));return n(KR)(t,e)}let r=t,a=e,o=new Map,u=o,f=0,d=!1;function g(){u===o&&(u=new Map,o.forEach((P,j)=>{u.set(j,P)}))}function y(){if(d)throw new Error(bn(3));return a}function _(P){if(typeof P!="function")throw new Error(bn(4));if(d)throw new Error(bn(5));let j=!0;g();const G=f++;return u.set(G,P),function(){if(j){if(d)throw new Error(bn(6));j=!1,g(),u.delete(G),o=null}}}function E(P){if(!s_(P))throw new Error(bn(7));if(typeof P.type>"u")throw new Error(bn(8));if(typeof P.type!="string")throw new Error(bn(17));if(d)throw new Error(bn(9));try{d=!0,a=r(a,P)}finally{d=!1}return(o=u).forEach(G=>{G()}),P}function T(P){if(typeof P!="function")throw new Error(bn(10));r=P,E({type:Ad.REPLACE})}function A(){const P=_;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(bn(11));function G(){const re=j;re.next&&re.next(y())}return G(),{unsubscribe:P(G)}},[YS](){return this}}}return E({type:Ad.INIT}),{dispatch:E,subscribe:_,getState:y,replaceReducer:T,[YS]:A}}function vU(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Ad.INIT})>"u")throw new Error(bn(12));if(typeof n(void 0,{type:Ad.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(bn(13))})}function _U(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const u=e[o];typeof t[u]=="function"&&(n[u]=t[u])}const r=Object.keys(n);let a;try{vU(n)}catch(o){a=o}return function(u={},f){if(a)throw a;let d=!1;const g={};for(let y=0;y<r.length;y++){const _=r[y],E=n[_],T=u[_],A=E(T,f);if(typeof A>"u")throw f&&f.type,new Error(bn(14));g[_]=A,d=d||A!==T}return d=d||r.length!==Object.keys(u).length,d?g:u}}function Rd(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function EU(...t){return e=>(n,r)=>{const a=e(n,r);let o=()=>{throw new Error(bn(15))};const u={getState:a.getState,dispatch:(d,...g)=>o(d,...g)},f=t.map(d=>d(u));return o=Rd(...f)(a.dispatch),{...a,dispatch:o}}}function bU(t){return s_(t)&&"type"in t&&typeof t.type=="string"}var YR=Symbol.for("immer-nothing"),QS=Symbol.for("immer-draftable"),ur=Symbol.for("immer-state");function jr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ul=Object.getPrototypeOf;function yo(t){return!!t&&!!t[ur]}function ca(t){var e;return t?QR(t)||Array.isArray(t)||!!t[QS]||!!((e=t.constructor)!=null&&e[QS])||om(t)||lm(t):!1}var SU=Object.prototype.constructor.toString();function QR(t){if(!t||typeof t!="object")return!1;const e=Ul(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===SU}function Cd(t,e){sm(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function sm(t){const e=t[ur];return e?e.type_:Array.isArray(t)?1:om(t)?2:lm(t)?3:0}function Zy(t,e){return sm(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function XR(t,e,n){const r=sm(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function TU(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function om(t){return t instanceof Map}function lm(t){return t instanceof Set}function ro(t){return t.copy_||t.base_}function Jy(t,e){if(om(t))return new Map(t);if(lm(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=QR(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ur];let a=Reflect.ownKeys(r);for(let o=0;o<a.length;o++){const u=a[o],f=r[u];f.writable===!1&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(r[u]={configurable:!0,writable:!0,enumerable:f.enumerable,value:t[u]})}return Object.create(Ul(t),r)}else{const r=Ul(t);if(r!==null&&n)return{...t};const a=Object.create(r);return Object.assign(a,t)}}function o_(t,e=!1){return um(t)||yo(t)||!ca(t)||(sm(t)>1&&(t.set=t.add=t.clear=t.delete=wU),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>o_(r,!0))),t}function wU(){jr(2)}function um(t){return Object.isFrozen(t)}var AU={};function vo(t){const e=AU[t];return e||jr(0,t),e}var Mc;function WR(){return Mc}function RU(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function XS(t,e){e&&(vo("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function ev(t){tv(t),t.drafts_.forEach(CU),t.drafts_=null}function tv(t){t===Mc&&(Mc=t.parent_)}function WS(t){return Mc=RU(Mc,t)}function CU(t){const e=t[ur];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function ZS(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ur].modified_&&(ev(e),jr(4)),ca(t)&&(t=xd(e,t),e.parent_||Id(e,t)),e.patches_&&vo("Patches").generateReplacementPatches_(n[ur].base_,t,e.patches_,e.inversePatches_)):t=xd(e,n,[]),ev(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==YR?t:void 0}function xd(t,e,n){if(um(e))return e;const r=e[ur];if(!r)return Cd(e,(a,o)=>JS(t,r,e,a,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Id(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const a=r.copy_;let o=a,u=!1;r.type_===3&&(o=new Set(a),a.clear(),u=!0),Cd(o,(f,d)=>JS(t,r,a,f,d,n,u)),Id(t,a,!1),n&&t.patches_&&vo("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function JS(t,e,n,r,a,o,u){if(yo(a)){const f=o&&e&&e.type_!==3&&!Zy(e.assigned_,r)?o.concat(r):void 0,d=xd(t,a,f);if(XR(n,r,d),yo(d))t.canAutoFreeze_=!1;else return}else u&&n.add(a);if(ca(a)&&!um(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;xd(t,a),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Id(t,a)}}function Id(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&o_(e,n)}function xU(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:WR(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,o=l_;n&&(a=[r],o=Lc);const{revoke:u,proxy:f}=Proxy.revocable(a,o);return r.draft_=f,r.revoke_=u,f}var l_={get(t,e){if(e===ur)return t;const n=ro(t);if(!Zy(n,e))return IU(t,n,e);const r=n[e];return t.finalized_||!ca(r)?r:r===iy(t.base_,e)?(ay(t),t.copy_[e]=rv(r,t)):r},has(t,e){return e in ro(t)},ownKeys(t){return Reflect.ownKeys(ro(t))},set(t,e,n){const r=ZR(ro(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=iy(ro(t),e),o=a==null?void 0:a[ur];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(TU(n,a)&&(n!==void 0||Zy(t.base_,e)))return!0;ay(t),nv(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return iy(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,ay(t),nv(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ro(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){jr(11)},getPrototypeOf(t){return Ul(t.base_)},setPrototypeOf(){jr(12)}},Lc={};Cd(l_,(t,e)=>{Lc[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Lc.deleteProperty=function(t,e){return Lc.set.call(this,t,e,void 0)};Lc.set=function(t,e,n){return l_.set.call(this,t[0],e,n,t[0])};function iy(t,e){const n=t[ur];return(n?ro(n):t)[e]}function IU(t,e,n){var a;const r=ZR(e,n);return r?"value"in r?r.value:(a=r.get)==null?void 0:a.call(t.draft_):void 0}function ZR(t,e){if(!(e in t))return;let n=Ul(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Ul(n)}}function nv(t){t.modified_||(t.modified_=!0,t.parent_&&nv(t.parent_))}function ay(t){t.copy_||(t.copy_=Jy(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var OU=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const u=this;return function(d=o,...g){return u.produce(d,y=>n.call(this,y,...g))}}typeof n!="function"&&jr(6),r!==void 0&&typeof r!="function"&&jr(7);let a;if(ca(e)){const o=WS(this),u=rv(e,void 0);let f=!0;try{a=n(u),f=!1}finally{f?ev(o):tv(o)}return XS(o,r),ZS(a,o)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===YR&&(a=void 0),this.autoFreeze_&&o_(a,!0),r){const o=[],u=[];vo("Patches").generateReplacementPatches_(e,a,o,u),r(o,u)}return a}else jr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(u,...f)=>this.produceWithPatches(u,d=>e(d,...f));let r,a;return[this.produce(e,n,(u,f)=>{r=u,a=f}),r,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ca(t)||jr(8),yo(t)&&(t=DU(t));const e=WS(this),n=rv(t,void 0);return n[ur].isManual_=!0,tv(e),n}finishDraft(t,e){const n=t&&t[ur];(!n||!n.isManual_)&&jr(9);const{scope_:r}=n;return XS(r,e),ZS(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const r=vo("Patches").applyPatches_;return yo(t)?r(t,e):this.produce(t,a=>r(a,e))}};function rv(t,e){const n=om(t)?vo("MapSet").proxyMap_(t,e):lm(t)?vo("MapSet").proxySet_(t,e):xU(t,e);return(e?e.scope_:WR()).drafts_.push(n),n}function DU(t){return yo(t)||jr(10,t),JR(t)}function JR(t){if(!ca(t)||um(t))return t;const e=t[ur];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Jy(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Jy(t,!0);return Cd(n,(r,a)=>{XR(n,r,JR(a))}),e&&(e.finalized_=!1),n}var cr=new OU,eC=cr.produce;cr.produceWithPatches.bind(cr);cr.setAutoFreeze.bind(cr);cr.setUseStrictShallowCopy.bind(cr);cr.applyPatches.bind(cr);cr.createDraft.bind(cr);cr.finishDraft.bind(cr);function tC(t){return({dispatch:n,getState:r})=>a=>o=>typeof o=="function"?o(n,r,t):a(o)}var NU=tC(),PU=tC,kU=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Rd:Rd.apply(null,arguments)},MU=t=>t&&typeof t.match=="function";function Sc(t,e){function n(...r){if(e){let a=e(...r);if(!a)throw new Error(ia(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>bU(r)&&r.type===t,n}var nC=class dc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,dc.prototype)}static get[Symbol.species](){return dc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new dc(...e[0].concat(this)):new dc(...e.concat(this))}};function eT(t){return ca(t)?eC(t,()=>{}):t}function kh(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function LU(t){return typeof t=="boolean"}var UU=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:o=!0}=e??{};let u=new nC;return n&&(LU(n)?u.push(NU):u.push(PU(n.extraArgument))),u},VU="RTK_autoBatch",tT=t=>e=>{setTimeout(e,t)},jU=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let a=!0,o=!1,u=!1;const f=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:tT(10):t.type==="callback"?t.queueNotification:tT(t.timeout),g=()=>{u=!1,o&&(o=!1,f.forEach(y=>y()))};return Object.assign({},r,{subscribe(y){const _=()=>a&&y(),E=r.subscribe(_);return f.add(y),()=>{E(),f.delete(y)}},dispatch(y){var _;try{return a=!((_=y==null?void 0:y.meta)!=null&&_[VU]),o=!a,o&&(u||(u=!0,d(g))),r.dispatch(y)}finally{a=!0}}})},zU=t=>function(n){const{autoBatch:r=!0}=n??{};let a=new nC(t);return r&&a.push(jU(typeof r=="object"?r:void 0)),a};function FU(t){const e=UU(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:o=void 0,enhancers:u=void 0}=t||{};let f;if(typeof n=="function")f=n;else if(s_(n))f=_U(n);else throw new Error(ia(1));let d;typeof r=="function"?d=r(e):d=e();let g=Rd;a&&(g=kU({trace:!1,...typeof a=="object"&&a}));const y=EU(...d),_=zU(y);let E=typeof u=="function"?u(_):_();const T=g(...E);return KR(f,o,T)}function rC(t){const e={},n=[];let r;const a={addCase(o,u){const f=typeof o=="string"?o:o.type;if(!f)throw new Error(ia(28));if(f in e)throw new Error(ia(29));return e[f]=u,a},addMatcher(o,u){return n.push({matcher:o,reducer:u}),a},addDefaultCase(o){return r=o,a}};return t(a),[e,n,r]}function BU(t){return typeof t=="function"}function HU(t,e){let[n,r,a]=rC(e),o;if(BU(t))o=()=>eT(t());else{const f=eT(t);o=()=>f}function u(f=o(),d){let g=[n[d.type],...r.filter(({matcher:y})=>y(d)).map(({reducer:y})=>y)];return g.filter(y=>!!y).length===0&&(g=[a]),g.reduce((y,_)=>{if(_)if(yo(y)){const T=_(y,d);return T===void 0?y:T}else{if(ca(y))return eC(y,E=>_(E,d));{const E=_(y,d);if(E===void 0){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return E}}return y},f)}return u.getInitialState=o,u}var qU=(t,e)=>MU(t)?t.match(e):t(e);function $U(...t){return e=>t.some(n=>qU(n,e))}var GU="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",KU=(t=21)=>{let e="",n=t;for(;n--;)e+=GU[Math.random()*64|0];return e},YU=["name","message","stack","code"],sy=class{constructor(t,e){wp(this,"_type");this.payload=t,this.meta=e}},nT=class{constructor(t,e){wp(this,"_type");this.payload=t,this.meta=e}},QU=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of YU)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},rT="External signal was aborted",wo=(()=>{function t(e,n,r){const a=Sc(e+"/fulfilled",(d,g,y,_)=>({payload:d,meta:{..._||{},arg:y,requestId:g,requestStatus:"fulfilled"}})),o=Sc(e+"/pending",(d,g,y)=>({payload:void 0,meta:{...y||{},arg:g,requestId:d,requestStatus:"pending"}})),u=Sc(e+"/rejected",(d,g,y,_,E)=>({payload:_,error:(r&&r.serializeError||QU)(d||"Rejected"),meta:{...E||{},arg:y,requestId:g,rejectedWithValue:!!_,requestStatus:"rejected",aborted:(d==null?void 0:d.name)==="AbortError",condition:(d==null?void 0:d.name)==="ConditionError"}}));function f(d,{signal:g}={}){return(y,_,E)=>{const T=r!=null&&r.idGenerator?r.idGenerator(d):KU(),A=new AbortController;let M,P;function j(Y){P=Y,A.abort()}g&&(g.aborted?j(rT):g.addEventListener("abort",()=>j(rT),{once:!0}));const G=async function(){var te,F;let Y;try{let D=(te=r==null?void 0:r.condition)==null?void 0:te.call(r,d,{getState:_,extra:E});if(WU(D)&&(D=await D),D===!1||A.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const x=new Promise((C,N)=>{M=()=>{N({name:"AbortError",message:P||"Aborted"})},A.signal.addEventListener("abort",M)});y(o(T,d,(F=r==null?void 0:r.getPendingMeta)==null?void 0:F.call(r,{requestId:T,arg:d},{getState:_,extra:E}))),Y=await Promise.race([x,Promise.resolve(n(d,{dispatch:y,getState:_,extra:E,requestId:T,signal:A.signal,abort:j,rejectWithValue:(C,N)=>new sy(C,N),fulfillWithValue:(C,N)=>new nT(C,N)})).then(C=>{if(C instanceof sy)throw C;return C instanceof nT?a(C.payload,T,d,C.meta):a(C,T,d)})])}catch(D){Y=D instanceof sy?u(null,T,d,D.payload,D.meta):u(D,T,d)}finally{M&&A.signal.removeEventListener("abort",M)}return r&&!r.dispatchConditionRejection&&u.match(Y)&&Y.meta.condition||y(Y),Y}();return Object.assign(G,{abort:j,requestId:T,arg:d,unwrap(){return G.then(XU)}})}}return Object.assign(f,{pending:o,rejected:u,fulfilled:a,settled:$U(u,a),typePrefix:e})}return t.withTypes=()=>t,t})();function XU(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function WU(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var ZU=Symbol.for("rtk-slice-createasyncthunk");function JU(t,e){return`${t}/${e}`}function eV({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[ZU];return function(a){const{name:o,reducerPath:u=o}=a;if(!o)throw new Error(ia(11));const f=(typeof a.reducers=="function"?a.reducers(nV()):a.reducers)||{},d=Object.keys(f),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},y={addCase(re,te){const F=typeof re=="string"?re:re.type;if(!F)throw new Error(ia(12));if(F in g.sliceCaseReducersByType)throw new Error(ia(13));return g.sliceCaseReducersByType[F]=te,y},addMatcher(re,te){return g.sliceMatchers.push({matcher:re,reducer:te}),y},exposeAction(re,te){return g.actionCreators[re]=te,y},exposeCaseReducer(re,te){return g.sliceCaseReducersByName[re]=te,y}};d.forEach(re=>{const te=f[re],F={reducerName:re,type:JU(o,re),createNotation:typeof a.reducers=="function"};iV(te)?sV(F,te,y,e):rV(F,te,y)});function _(){const[re={},te=[],F=void 0]=typeof a.extraReducers=="function"?rC(a.extraReducers):[a.extraReducers],D={...re,...g.sliceCaseReducersByType};return HU(a.initialState,x=>{for(let C in D)x.addCase(C,D[C]);for(let C of g.sliceMatchers)x.addMatcher(C.matcher,C.reducer);for(let C of te)x.addMatcher(C.matcher,C.reducer);F&&x.addDefaultCase(F)})}const E=re=>re,T=new Map,A=new WeakMap;let M;function P(re,te){return M||(M=_()),M(re,te)}function j(){return M||(M=_()),M.getInitialState()}function G(re,te=!1){function F(x){let C=x[re];return typeof C>"u"&&te&&(C=kh(A,F,j)),C}function D(x=E){const C=kh(T,te,()=>new WeakMap);return kh(C,x,()=>{const N={};for(const[U,H]of Object.entries(a.selectors??{}))N[U]=tV(H,x,()=>kh(A,x,j),te);return N})}return{reducerPath:re,getSelectors:D,get selectors(){return D(F)},selectSlice:F}}const Y={name:o,reducer:P,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:j,...G(u),injectInto(re,{reducerPath:te,...F}={}){const D=te??u;return re.inject({reducerPath:D,reducer:P},F),{...Y,...G(D,!0)}}};return Y}}function tV(t,e,n,r){function a(o,...u){let f=e(o);return typeof f>"u"&&r&&(f=n()),t(f,...u)}return a.unwrapped=t,a}var iC=eV();function nV(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function rV({type:t,reducerName:e,createNotation:n},r,a){let o,u;if("reducer"in r){if(n&&!aV(r))throw new Error(ia(17));o=r.reducer,u=r.prepare}else o=r;a.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,u?Sc(t,u):Sc(t))}function iV(t){return t._reducerDefinitionType==="asyncThunk"}function aV(t){return t._reducerDefinitionType==="reducerWithPrepare"}function sV({type:t,reducerName:e},n,r,a){if(!a)throw new Error(ia(18));const{payloadCreator:o,fulfilled:u,pending:f,rejected:d,settled:g,options:y}=n,_=a(t,o,y);r.exposeAction(e,_),u&&r.addCase(_.fulfilled,u),f&&r.addCase(_.pending,f),d&&r.addCase(_.rejected,d),g&&r.addMatcher(_.settled,g),r.exposeCaseReducer(e,{fulfilled:u||Mh,pending:f||Mh,rejected:d||Mh,settled:g||Mh})}function Mh(){}function ia(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const As=Object.freeze({INITIAL_STATE:"initialState",ASYNC_THUNK:"asyncThunk",REDUCERS:"reducers",EXTRA_REDUCERS:"extraReducers",SELECTORS:"selectors"}),aC=(t,e)=>Object.keys(e).forEach(n=>{const{extraReducers:r=()=>null}=e[n];r(t)}),Rs=(t,e)=>Object.keys(t).map(n=>t[n][e]).reduce((n,r)=>({...n,...r}),{}),cm="songs",it=Object.freeze({IDLE:"idle",LOADING:"loading",SUCCEEDED:"succeeded",FAILED:"failed"}),qe=t=>typeof t=="string",oc=()=>{let t,e;const n=new Promise((r,a)=>{t=r,e=a});return n.resolve=t,n.reject=e,n},iT=t=>t==null?"":""+t,oV=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},lV=/###/g,aT=t=>t&&t.indexOf("###")>-1?t.replace(lV,"."):t,sT=t=>!t||qe(t),Tc=(t,e,n)=>{const r=qe(e)?e.split("."):e;let a=0;for(;a<r.length-1;){if(sT(t))return{};const o=aT(r[a]);!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={},++a}return sT(t)?{}:{obj:t,k:aT(r[a])}},oT=(t,e,n)=>{const{obj:r,k:a}=Tc(t,e,Object);if(r!==void 0||e.length===1){r[a]=n;return}let o=e[e.length-1],u=e.slice(0,e.length-1),f=Tc(t,u,Object);for(;f.obj===void 0&&u.length;)o=`${u[u.length-1]}.${o}`,u=u.slice(0,u.length-1),f=Tc(t,u,Object),f!=null&&f.obj&&typeof f.obj[`${f.k}.${o}`]<"u"&&(f.obj=void 0);f.obj[`${f.k}.${o}`]=n},uV=(t,e,n,r)=>{const{obj:a,k:o}=Tc(t,e,Object);a[o]=a[o]||[],a[o].push(n)},Od=(t,e)=>{const{obj:n,k:r}=Tc(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},cV=(t,e,n)=>{const r=Od(t,n);return r!==void 0?r:Od(e,n)},sC=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?qe(t[r])||t[r]instanceof String||qe(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):sC(t[r],e[r],n):t[r]=e[r]);return t},pl=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var fV={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const hV=t=>qe(t)?t.replace(/[&<>"'\/]/g,e=>fV[e]):t;class dV{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const mV=[" ",",","?","!",";"],gV=new dV(20),pV=(t,e,n)=>{e=e||"",n=n||"";const r=mV.filter(u=>e.indexOf(u)<0&&n.indexOf(u)<0);if(r.length===0)return!0;const a=gV.getRegExp(`(${r.map(u=>u==="?"?"\\?":u).join("|")})`);let o=!a.test(t);if(!o){const u=t.indexOf(n);u>0&&!a.test(t.substring(0,u))&&(o=!0)}return o},iv=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let a=t;for(let o=0;o<r.length;){if(!a||typeof a!="object")return;let u,f="";for(let d=o;d<r.length;++d)if(d!==o&&(f+=n),f+=r[d],u=a[f],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&d<r.length-1)continue;o+=d-o+1;break}a=u}return a},Uc=t=>t==null?void 0:t.replace("_","-"),yV={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};class Dd{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||yV,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,a){return a&&!this.debug?null:(qe(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new Dd(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Dd(this.logger,e)}}var _i=new Dd;class fm{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const a=this.observers[r].get(n)||0;this.observers[r].set(n,a+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([a,o])=>{for(let u=0;u<o;u++)a(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,o])=>{for(let u=0;u<o;u++)a.apply(a,[e,...n])})}}class lT extends fm{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,a={}){var g,y;const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let f;e.indexOf(".")>-1?f=e.split("."):(f=[e,n],r&&(Array.isArray(r)?f.push(...r):qe(r)&&o?f.push(...r.split(o)):f.push(r)));const d=Od(this.data,f);return!d&&!n&&!r&&e.indexOf(".")>-1&&(e=f[0],n=f[1],r=f.slice(2).join(".")),d||!u||!qe(r)?d:iv((y=(g=this.data)==null?void 0:g[e])==null?void 0:y[n],r,o)}addResource(e,n,r,a,o={silent:!1}){const u=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let f=[e,n];r&&(f=f.concat(u?r.split(u):r)),e.indexOf(".")>-1&&(f=e.split("."),a=n,n=f[1]),this.addNamespaces(n),oT(this.data,f,a),o.silent||this.emit("added",e,n,r,a)}addResources(e,n,r,a={silent:!1}){for(const o in r)(qe(r[o])||Array.isArray(r[o]))&&this.addResource(e,n,o,r[o],{silent:!0});a.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,a,o,u={silent:!1,skipCopy:!1}){let f=[e,n];e.indexOf(".")>-1&&(f=e.split("."),a=r,r=n,n=f[1]),this.addNamespaces(n);let d=Od(this.data,f)||{};u.skipCopy||(r=JSON.parse(JSON.stringify(r))),a?sC(d,r,o):d={...d,...r},oT(this.data,f,d),u.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(a=>n[a]&&Object.keys(n[a]).length>0)}toJSON(){return this.data}}var oC={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,a){return t.forEach(o=>{var u;e=((u=this.processors[o])==null?void 0:u.process(e,n,r,a))??e}),e}};const uT={},cT=t=>!qe(t)&&typeof t!="boolean"&&typeof t!="number";class Nd extends fm{constructor(e,n={}){super(),oV(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=_i.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const a=this.resolve(e,r);return(a==null?void 0:a.res)!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const u=r&&e.indexOf(r)>-1,f=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!pV(e,r,a);if(u&&!f){const d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:qe(o)?[o]:o};const g=e.split(r);(r!==a||r===a&&this.options.ns.indexOf(g[0])>-1)&&(o=g.shift()),e=g.join(a)}return{key:e,namespaces:qe(o)?[o]:o}}translate(e,n,r){let a=typeof n=="object"?{...n}:n;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(a={...a}),a||(a={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const o=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,u=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:f,namespaces:d}=this.extractFromKey(e[e.length-1],a),g=d[d.length-1];let y=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;y===void 0&&(y=":");const _=a.lng||this.language,E=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((_==null?void 0:_.toLowerCase())==="cimode")return E?o?{res:`${g}${y}${f}`,usedKey:f,exactUsedKey:f,usedLng:_,usedNS:g,usedParams:this.getUsedParamsDetails(a)}:`${g}${y}${f}`:o?{res:f,usedKey:f,exactUsedKey:f,usedLng:_,usedNS:g,usedParams:this.getUsedParamsDetails(a)}:f;const T=this.resolve(e,a);let A=T==null?void 0:T.res;const M=(T==null?void 0:T.usedKey)||f,P=(T==null?void 0:T.exactUsedKey)||f,j=["[object Number]","[object Function]","[object RegExp]"],G=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,Y=!this.i18nFormat||this.i18nFormat.handleAsObject,re=a.count!==void 0&&!qe(a.count),te=Nd.hasDefaultValue(a),F=re?this.pluralResolver.getSuffix(_,a.count,a):"",D=a.ordinal&&re?this.pluralResolver.getSuffix(_,a.count,{ordinal:!1}):"",x=re&&!a.ordinal&&a.count===0,C=x&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${F}`]||a[`defaultValue${D}`]||a.defaultValue;let N=A;Y&&!A&&te&&(N=C);const U=cT(N),H=Object.prototype.toString.apply(N);if(Y&&N&&U&&j.indexOf(H)<0&&!(qe(G)&&Array.isArray(N))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const k=this.options.returnedObjectHandler?this.options.returnedObjectHandler(M,N,{...a,ns:d}):`key '${f} (${this.language})' returned an object instead of string.`;return o?(T.res=k,T.usedParams=this.getUsedParamsDetails(a),T):k}if(u){const k=Array.isArray(N),Re=k?[]:{},Fe=k?P:M;for(const W in N)if(Object.prototype.hasOwnProperty.call(N,W)){const fe=`${Fe}${u}${W}`;te&&!A?Re[W]=this.translate(fe,{...a,defaultValue:cT(C)?C[W]:void 0,joinArrays:!1,ns:d}):Re[W]=this.translate(fe,{...a,joinArrays:!1,ns:d}),Re[W]===fe&&(Re[W]=N[W])}A=Re}}else if(Y&&qe(G)&&Array.isArray(A))A=A.join(G),A&&(A=this.extendTranslation(A,e,a,r));else{let k=!1,Re=!1;!this.isValidLookup(A)&&te&&(k=!0,A=C),this.isValidLookup(A)||(Re=!0,A=f);const W=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Re?void 0:A,fe=te&&C!==A&&this.options.updateMissing;if(Re||k||fe){if(this.logger.log(fe?"updateKey":"missingKey",_,g,f,fe?C:A),u){const ie=this.resolve(f,{...a,keySeparator:!1});ie&&ie.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ye=[];const Ne=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ne&&Ne[0])for(let ie=0;ie<Ne.length;ie++)ye.push(Ne[ie]);else this.options.saveMissingTo==="all"?ye=this.languageUtils.toResolveHierarchy(a.lng||this.language):ye.push(a.lng||this.language);const V=(ie,de,ue)=>{var Be;const be=te&&ue!==A?ue:W;this.options.missingKeyHandler?this.options.missingKeyHandler(ie,g,de,be,fe,a):(Be=this.backendConnector)!=null&&Be.saveMissing&&this.backendConnector.saveMissing(ie,g,de,be,fe,a),this.emit("missingKey",ie,g,de,A)};this.options.saveMissing&&(this.options.saveMissingPlurals&&re?ye.forEach(ie=>{const de=this.pluralResolver.getSuffixes(ie,a);x&&a[`defaultValue${this.options.pluralSeparator}zero`]&&de.indexOf(`${this.options.pluralSeparator}zero`)<0&&de.push(`${this.options.pluralSeparator}zero`),de.forEach(ue=>{V([ie],f+ue,a[`defaultValue${ue}`]||C)})}):V(ye,f,C))}A=this.extendTranslation(A,e,a,T,r),Re&&A===f&&this.options.appendNamespaceToMissingKey&&(A=`${g}${y}${f}`),(Re||k)&&this.options.parseMissingKeyHandler&&(A=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${g}${y}${f}`:f,k?A:void 0,a))}return o?(T.res=A,T.usedParams=this.getUsedParamsDetails(a),T):A}extendTranslation(e,n,r,a,o){var d,g;if((d=this.i18nFormat)!=null&&d.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const y=qe(e)&&(((g=r==null?void 0:r.interpolation)==null?void 0:g.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let _;if(y){const T=e.match(this.interpolator.nestingRegexp);_=T&&T.length}let E=r.replace&&!qe(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(E={...this.options.interpolation.defaultVariables,...E}),e=this.interpolator.interpolate(e,E,r.lng||this.language||a.usedLng,r),y){const T=e.match(this.interpolator.nestingRegexp),A=T&&T.length;_<A&&(r.nest=!1)}!r.lng&&a&&a.res&&(r.lng=this.language||a.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...T)=>(o==null?void 0:o[0])===T[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${T[0]} in key: ${n[0]}`),null):this.translate(...T,n),r)),r.interpolation&&this.interpolator.reset()}const u=r.postProcess||this.options.postProcess,f=qe(u)?[u]:u;return e!=null&&(f!=null&&f.length)&&r.applyPostProcessor!==!1&&(e=oC.handle(f,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,a,o,u,f;return qe(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(r))return;const g=this.extractFromKey(d,n),y=g.key;a=y;let _=g.namespaces;this.options.fallbackNS&&(_=_.concat(this.options.fallbackNS));const E=n.count!==void 0&&!qe(n.count),T=E&&!n.ordinal&&n.count===0,A=n.context!==void 0&&(qe(n.context)||typeof n.context=="number")&&n.context!=="",M=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);_.forEach(P=>{var j,G;this.isValidLookup(r)||(f=P,!uT[`${M[0]}-${P}`]&&((j=this.utils)!=null&&j.hasLoadedNamespace)&&!((G=this.utils)!=null&&G.hasLoadedNamespace(f))&&(uT[`${M[0]}-${P}`]=!0,this.logger.warn(`key "${a}" for languages "${M.join(", ")}" won't get resolved as namespace "${f}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),M.forEach(Y=>{var F;if(this.isValidLookup(r))return;u=Y;const re=[y];if((F=this.i18nFormat)!=null&&F.addLookupKeys)this.i18nFormat.addLookupKeys(re,y,Y,P,n);else{let D;E&&(D=this.pluralResolver.getSuffix(Y,n.count,n));const x=`${this.options.pluralSeparator}zero`,C=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(E&&(re.push(y+D),n.ordinal&&D.indexOf(C)===0&&re.push(y+D.replace(C,this.options.pluralSeparator)),T&&re.push(y+x)),A){const N=`${y}${this.options.contextSeparator}${n.context}`;re.push(N),E&&(re.push(N+D),n.ordinal&&D.indexOf(C)===0&&re.push(N+D.replace(C,this.options.pluralSeparator)),T&&re.push(N+x))}}let te;for(;te=re.pop();)this.isValidLookup(r)||(o=te,r=this.getResource(Y,P,te,n))}))})}),{res:r,usedKey:a,exactUsedKey:o,usedLng:u,usedNS:f}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,a={}){var o;return(o=this.i18nFormat)!=null&&o.getResource?this.i18nFormat.getResource(e,n,r,a):this.resourceStore.getResource(e,n,r,a)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!qe(e.replace);let a=r?e.replace:e;if(r&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!r){a={...a};for(const o of n)delete a[o]}return a}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class fT{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=_i.create("languageUtils")}getScriptPartFromCode(e){if(e=Uc(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Uc(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(qe(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const a=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(a))&&(n=a)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const a=this.getScriptPartFromCode(r);if(this.isSupportedCode(a))return n=a;const o=this.getLanguagePartFromCode(r);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(u=>{if(u===o)return u;if(!(u.indexOf("-")<0&&o.indexOf("-")<0)&&(u.indexOf("-")>0&&o.indexOf("-")<0&&u.substring(0,u.indexOf("-"))===o||u.indexOf(o)===0&&o.length>1))return u})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),qe(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),a=[],o=u=>{u&&(this.isSupportedCode(u)?a.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return qe(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):qe(e)&&o(this.formatLanguageCode(e)),r.forEach(u=>{a.indexOf(u)<0&&o(this.formatLanguageCode(u))}),a}}const hT={zero:0,one:1,two:2,few:3,many:4,other:5},dT={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class vV{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=_i.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=Uc(e==="dev"?"en":e),a=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:a});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let u;try{u=new Intl.PluralRules(r,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),dT;if(!e.match(/-|_/))return dT;const d=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(d,n)}return this.pluralRulesCache[o]=u,u}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(a=>`${n}${a}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((a,o)=>hT[a]-hT[o]).map(a=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(e,n,r={}){const a=this.getRule(e,r);return a?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const mT=(t,e,n,r=".",a=!0)=>{let o=cV(t,e,n);return!o&&a&&qe(n)&&(o=iv(t,n,r),o===void 0&&(o=iv(e,n,r))),o},oy=t=>t.replace(/\$/g,"$$$$");class _V{constructor(e={}){var n;this.logger=_i.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:a,prefix:o,prefixEscaped:u,suffix:f,suffixEscaped:d,formatSeparator:g,unescapeSuffix:y,unescapePrefix:_,nestingPrefix:E,nestingPrefixEscaped:T,nestingSuffix:A,nestingSuffixEscaped:M,nestingOptionsSeparator:P,maxReplaces:j,alwaysFormat:G}=e.interpolation;this.escape=n!==void 0?n:hV,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=o?pl(o):u||"{{",this.suffix=f?pl(f):d||"}}",this.formatSeparator=g||",",this.unescapePrefix=y?"":_||"-",this.unescapeSuffix=this.unescapePrefix?"":y||"",this.nestingPrefix=E?pl(E):T||pl("$t("),this.nestingSuffix=A?pl(A):M||pl(")"),this.nestingOptionsSeparator=P||",",this.maxReplaces=j||1e3,this.alwaysFormat=G!==void 0?G:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,a){var T;let o,u,f;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=A=>{if(A.indexOf(this.formatSeparator)<0){const G=mT(n,d,A,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(G,void 0,r,{...a,...n,interpolationkey:A}):G}const M=A.split(this.formatSeparator),P=M.shift().trim(),j=M.join(this.formatSeparator).trim();return this.format(mT(n,d,P,this.options.keySeparator,this.options.ignoreJSONStructure),j,r,{...a,...n,interpolationkey:P})};this.resetRegExp();const y=(a==null?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,_=((T=a==null?void 0:a.interpolation)==null?void 0:T.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:A=>oy(A)},{regex:this.regexp,safeValue:A=>this.escapeValue?oy(this.escape(A)):oy(A)}].forEach(A=>{for(f=0;o=A.regex.exec(e);){const M=o[1].trim();if(u=g(M),u===void 0)if(typeof y=="function"){const j=y(e,o,a);u=qe(j)?j:""}else if(a&&Object.prototype.hasOwnProperty.call(a,M))u="";else if(_){u=o[0];continue}else this.logger.warn(`missed to pass in variable ${M} for interpolating ${e}`),u="";else!qe(u)&&!this.useRawValueToEscape&&(u=iT(u));const P=A.safeValue(u);if(e=e.replace(o[0],P),_?(A.regex.lastIndex+=u.length,A.regex.lastIndex-=o[0].length):A.regex.lastIndex=0,f++,f>=this.maxReplaces)break}}),e}nest(e,n,r={}){let a,o,u;const f=(d,g)=>{const y=this.nestingOptionsSeparator;if(d.indexOf(y)<0)return d;const _=d.split(new RegExp(`${y}[ ]*{`));let E=`{${_[1]}`;d=_[0],E=this.interpolate(E,u);const T=E.match(/'/g),A=E.match(/"/g);(((T==null?void 0:T.length)??0)%2===0&&!A||A.length%2!==0)&&(E=E.replace(/'/g,'"'));try{u=JSON.parse(E),g&&(u={...g,...u})}catch(M){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,M),`${d}${y}${E}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,d};for(;a=this.nestingRegexp.exec(e);){let d=[];u={...r},u=u.replace&&!qe(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;let g=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){const y=a[1].split(this.formatSeparator).map(_=>_.trim());a[1]=y.shift(),d=y,g=!0}if(o=n(f.call(this,a[1].trim(),u),u),o&&a[0]===e&&!qe(o))return o;qe(o)||(o=iT(o)),o||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),o=""),g&&(o=d.reduce((y,_)=>this.format(y,_,r.lng,{...r,interpolationkey:a[1].trim()}),o.trim())),e=e.replace(a[0],o),this.regexp.lastIndex=0}return e}}const EV=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const a=r[1].substring(0,r[1].length-1);e==="currency"&&a.indexOf(":")<0?n.currency||(n.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?n.range||(n.range=a.trim()):a.split(";").forEach(u=>{if(u){const[f,...d]=u.split(":"),g=d.join(":").trim().replace(/^'+|'+$/g,""),y=f.trim();n[y]||(n[y]=g),g==="false"&&(n[y]=!1),g==="true"&&(n[y]=!0),isNaN(g)||(n[y]=parseInt(g,10))}})}return{formatName:e,formatOptions:n}},gT=t=>{const e={};return(n,r,a)=>{let o=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(o={...o,[a.interpolationkey]:void 0});const u=r+JSON.stringify(o);let f=e[u];return f||(f=t(Uc(r),a),e[u]=f),f(n)}},bV=t=>(e,n,r)=>t(Uc(n),r)(e);class SV{constructor(e={}){this.logger=_i.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?gT:bV;this.formats={number:r((a,o)=>{const u=new Intl.NumberFormat(a,{...o});return f=>u.format(f)}),currency:r((a,o)=>{const u=new Intl.NumberFormat(a,{...o,style:"currency"});return f=>u.format(f)}),datetime:r((a,o)=>{const u=new Intl.DateTimeFormat(a,{...o});return f=>u.format(f)}),relativetime:r((a,o)=>{const u=new Intl.RelativeTimeFormat(a,{...o});return f=>u.format(f,o.range||"day")}),list:r((a,o)=>{const u=new Intl.ListFormat(a,{...o});return f=>u.format(f)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=gT(n)}format(e,n,r,a={}){const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(f=>f.indexOf(")")>-1)){const f=o.findIndex(d=>d.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,f)].join(this.formatSeparator)}return o.reduce((f,d)=>{var _;const{formatName:g,formatOptions:y}=EV(d);if(this.formats[g]){let E=f;try{const T=((_=a==null?void 0:a.formatParams)==null?void 0:_[a.interpolationkey])||{},A=T.locale||T.lng||a.locale||a.lng||r;E=this.formats[g](f,A,{...y,...a,...T})}catch(T){this.logger.warn(T)}return E}else this.logger.warn(`there was no format function for ${g}`);return f},e)}}const TV=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class wV extends fm{constructor(e,n,r,a={}){var o,u;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=a,this.logger=_i.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],(u=(o=this.backend)==null?void 0:o.init)==null||u.call(o,r,a.backend,a)}queueLoad(e,n,r,a){const o={},u={},f={},d={};return e.forEach(g=>{let y=!0;n.forEach(_=>{const E=`${g}|${_}`;!r.reload&&this.store.hasResourceBundle(g,_)?this.state[E]=2:this.state[E]<0||(this.state[E]===1?u[E]===void 0&&(u[E]=!0):(this.state[E]=1,y=!1,u[E]===void 0&&(u[E]=!0),o[E]===void 0&&(o[E]=!0),d[_]===void 0&&(d[_]=!0)))}),y||(f[g]=!0)}),(Object.keys(o).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(o),pending:Object.keys(u),toLoadLanguages:Object.keys(f),toLoadNamespaces:Object.keys(d)}}loaded(e,n,r){const a=e.split("|"),o=a[0],u=a[1];n&&this.emit("failedLoading",o,u,n),!n&&r&&this.store.addResourceBundle(o,u,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const f={};this.queue.forEach(d=>{uV(d.loaded,[o],u),TV(d,e),n&&d.errors.push(n),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(g=>{f[g]||(f[g]={});const y=d.loaded[g];y.length&&y.forEach(_=>{f[g][_]===void 0&&(f[g][_]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",f),this.queue=this.queue.filter(d=>!d.done)}read(e,n,r,a=0,o=this.retryTimeout,u){if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:a,wait:o,callback:u});return}this.readingCalls++;const f=(g,y)=>{if(this.readingCalls--,this.waitingReads.length>0){const _=this.waitingReads.shift();this.read(_.lng,_.ns,_.fcName,_.tried,_.wait,_.callback)}if(g&&y&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,a+1,o*2,u)},o);return}u(g,y)},d=this.backend[r].bind(this.backend);if(d.length===2){try{const g=d(e,n);g&&typeof g.then=="function"?g.then(y=>f(null,y)).catch(f):f(null,g)}catch(g){f(g)}return}return d(e,n,f)}prepareLoading(e,n,r={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();qe(e)&&(e=this.languageUtils.toResolveHierarchy(e)),qe(n)&&(n=[n]);const o=this.queueLoad(e,n,r,a);if(!o.toLoad.length)return o.pending.length||a(),null;o.toLoad.forEach(u=>{this.loadOne(u)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),a=r[0],o=r[1];this.read(a,o,"read",void 0,void 0,(u,f)=>{u&&this.logger.warn(`${n}loading namespace ${o} for language ${a} failed`,u),!u&&f&&this.logger.log(`${n}loaded namespace ${o} for language ${a}`,f),this.loaded(e,u,f)})}saveMissing(e,n,r,a,o,u={},f=()=>{}){var d,g,y,_,E;if((g=(d=this.services)==null?void 0:d.utils)!=null&&g.hasLoadedNamespace&&!((_=(y=this.services)==null?void 0:y.utils)!=null&&_.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((E=this.backend)!=null&&E.create){const T={...u,isUpdate:o},A=this.backend.create.bind(this.backend);if(A.length<6)try{let M;A.length===5?M=A(e,n,r,a,T):M=A(e,n,r,a),M&&typeof M.then=="function"?M.then(P=>f(null,P)).catch(f):f(null,M)}catch(M){f(M)}else A(e,n,r,a,f,T)}!e||!e[0]||this.store.addResource(e[0],n,r,a)}}}const pT=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),qe(t[1])&&(e.defaultValue=t[1]),qe(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),yT=t=>{var e,n;return qe(t.ns)&&(t.ns=[t.ns]),qe(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),qe(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},Lh=()=>{},AV=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class Vc extends fm{constructor(e={},n){if(super(),this.options=yT(e),this.services={},this.logger=_i,this.modules={external:[]},AV(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(qe(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=pT();this.options={...r,...this.options,...yT(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const a=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?_i.init(a(this.modules.logger),this.options):_i.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:g=SV;const y=new fT(this.options);this.store=new lT(this.options.resources,this.options);const _=this.services;_.logger=_i,_.resourceStore=this.store,_.languageUtils=y,_.pluralResolver=new vV(y,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),g&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(_.formatter=a(g),_.formatter.init(_,this.options),this.options.interpolation.format=_.formatter.format.bind(_.formatter)),_.interpolator=new _V(this.options),_.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},_.backendConnector=new wV(a(this.modules.backend),_.resourceStore,_,this.options),_.backendConnector.on("*",(E,...T)=>{this.emit(E,...T)}),this.modules.languageDetector&&(_.languageDetector=a(this.modules.languageDetector),_.languageDetector.init&&_.languageDetector.init(_,this.options.detection,this.options)),this.modules.i18nFormat&&(_.i18nFormat=a(this.modules.i18nFormat),_.i18nFormat.init&&_.i18nFormat.init(this)),this.translator=new Nd(this.services,this.options),this.translator.on("*",(E,...T)=>{this.emit(E,...T)}),this.modules.external.forEach(E=>{E.init&&E.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Lh),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=(...y)=>this.store[g](...y)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=(...y)=>(this.store[g](...y),this)});const f=oc(),d=()=>{const g=(y,_)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),f.resolve(_),n(y,_)};if(this.languages&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),f}loadResources(e,n=Lh){var o,u;let r=n;const a=qe(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((a==null?void 0:a.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const f=[],d=g=>{if(!g||g==="cimode")return;this.services.languageUtils.toResolveHierarchy(g).forEach(_=>{_!=="cimode"&&f.indexOf(_)<0&&f.push(_)})};a?d(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(y=>d(y)),(u=(o=this.options.preload)==null?void 0:o.forEach)==null||u.call(o,g=>d(g)),this.services.backendConnector.load(f,this.options.ns,g=>{!g&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(g)})}else r(null)}reloadResources(e,n,r){const a=oc();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=Lh),this.services.backendConnector.reload(e,n,o=>{a.resolve(),r(o)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&oC.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=oc();this.emit("languageChanging",e);const a=f=>{this.language=f,this.languages=this.services.languageUtils.toResolveHierarchy(f),this.resolvedLanguage=void 0,this.setResolvedLanguage(f)},o=(f,d)=>{d?this.isLanguageChangingTo===e&&(a(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,r.resolve((...g)=>this.t(...g)),n&&n(f,(...g)=>this.t(...g))},u=f=>{var y,_;!e&&!f&&this.services.languageDetector&&(f=[]);const d=qe(f)?f:f&&f[0],g=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(qe(f)?[f]:f);g&&(this.language||a(g),this.translator.language||this.translator.changeLanguage(g),(_=(y=this.services.languageDetector)==null?void 0:y.cacheUserLanguage)==null||_.call(y,g)),this.loadResources(g,E=>{o(E,g)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),r}getFixedT(e,n,r){const a=(o,u,...f)=>{let d;typeof u!="object"?d=this.options.overloadTranslationOptionHandler([o,u].concat(f)):d={...u},d.lng=d.lng||a.lng,d.lngs=d.lngs||a.lngs,d.ns=d.ns||a.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||r||a.keyPrefix);const g=this.options.keySeparator||".";let y;return d.keyPrefix&&Array.isArray(o)?y=o.map(_=>`${d.keyPrefix}${g}${_}`):y=d.keyPrefix?`${d.keyPrefix}${g}${o}`:o,this.t(y,d)};return qe(e)?a.lng=e:a.lngs=e,a.ns=n,a.keyPrefix=r,a}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const u=(f,d)=>{const g=this.services.backendConnector.state[`${f}|${d}`];return g===-1||g===0||g===2};if(n.precheck){const f=n.precheck(this,u);if(f!==void 0)return f}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(r,e)&&(!a||u(o,e)))}loadNamespaces(e,n){const r=oc();return this.options.ns?(qe(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=oc();qe(e)&&(e=[e]);const a=this.options.preload||[],o=e.filter(u=>a.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return o.length?(this.options.preload=a.concat(o),this.loadResources(u=>{r.resolve(),n&&n(u)}),r):(n&&n(),Promise.resolve())}dir(e){var a,o;if(e||(e=this.resolvedLanguage||(((a=this.languages)==null?void 0:a.length)>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((o=this.services)==null?void 0:o.languageUtils)||new fT(pT());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new Vc(e,n)}cloneInstance(e={},n=Lh){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},o=new Vc(a);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(f=>{o[f]=this[f]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r){const f=Object.keys(this.store.data).reduce((d,g)=>(d[g]={...this.store.data[g]},d[g]=Object.keys(d[g]).reduce((y,_)=>(y[_]={...d[g][_]},y),d[g]),d),{});o.store=new lT(f,a),o.services.resourceStore=o.store}return o.translator=new Nd(o.services,a),o.translator.on("*",(f,...d)=>{o.emit(f,...d)}),o.init(a,n),o.translator.options=a,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Pt=Vc.createInstance();Pt.createInstance=Vc.createInstance;Pt.createInstance;Pt.dir;Pt.init;Pt.loadResources;Pt.reloadResources;Pt.use;Pt.changeLanguage;Pt.getFixedT;Pt.t;Pt.exists;Pt.setDefaultNamespace;Pt.hasLoadedNamespace;Pt.loadNamespaces;Pt.loadLanguages;const{slice:RV,forEach:CV}=[];function xV(t){return CV.call(RV.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function IV(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const vT=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,OV=function(t,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(e);let o=`${t}=${a}`;if(r.maxAge>0){const u=r.maxAge-0;if(Number.isNaN(u))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(u)}`}if(r.domain){if(!vT.test(r.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${r.domain}`}if(r.path){if(!vT.test(r.path))throw new TypeError("option path is invalid");o+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(o+="; Partitioned"),o},_T={create(t,e,n,r){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+n*60*1e3)),r&&(a.domain=r),document.cookie=OV(t,e,a)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let a=n[r];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(e)===0)return a.substring(e.length,a.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var DV={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return _T.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:r,cookieDomain:a,cookieOptions:o}=e;n&&typeof document<"u"&&_T.create(n,t,r,a,o)}},NV={name:"querystring",lookup(t){var r;let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:a}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(a=window.location.hash.substring(window.location.hash.indexOf("?")));const u=a.substring(1).split("&");for(let f=0;f<u.length;f++){const d=u[f].indexOf("=");d>0&&u[f].substring(0,d)===e&&(n=u[f].substring(d+1))}}return n}},PV={name:"hash",lookup(t){var a;let{lookupHash:e,lookupFromHashIndex:n}=t,r;if(typeof window<"u"){const{hash:o}=window.location;if(o&&o.length>2){const u=o.substring(1);if(e){const f=u.split("&");for(let d=0;d<f.length;d++){const g=f[d].indexOf("=");g>0&&f[d].substring(0,g)===e&&(r=f[d].substring(g+1))}}if(r)return r;if(!r&&n>-1){const f=o.match(/\/([a-zA-Z-]*)/g);return Array.isArray(f)?(a=f[typeof n=="number"?n:0])==null?void 0:a.replace("/",""):void 0}}}return r}};let yl=null;const ET=()=>{if(yl!==null)return yl;try{if(yl=typeof window<"u"&&window.localStorage!==null,!yl)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{yl=!1}return yl};var kV={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&ET())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&ET()&&window.localStorage.setItem(n,t)}};let vl=null;const bT=()=>{if(vl!==null)return vl;try{if(vl=typeof window<"u"&&window.sessionStorage!==null,!vl)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{vl=!1}return vl};var MV={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&bT())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&bT()&&window.sessionStorage.setItem(n,t)}},LV={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:a}=navigator;if(n)for(let o=0;o<n.length;o++)e.push(n[o]);r&&e.push(r),a&&e.push(a)}return e.length>0?e:void 0}},UV={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},VV={name:"path",lookup(t){var a;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(a=n[typeof e=="number"?e:0])==null?void 0:a.replace("/",""):void 0}},jV={name:"subdomain",lookup(t){var a,o;let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,r=typeof window<"u"&&((o=(a=window.location)==null?void 0:a.hostname)==null?void 0:o.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};let lC=!1;try{document.cookie,lC=!0}catch{}const uC=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];lC||uC.splice(1,1);const zV=()=>({order:uC,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class cC{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=xV(n,this.options||{},zV()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(DV),this.addDetector(NV),this.addDetector(kV),this.addDetector(MV),this.addDetector(LV),this.addDetector(UV),this.addDetector(VV),this.addDetector(jV),this.addDetector(PV)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(r=>{if(this.detectors[r]){let a=this.detectors[r].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(n=n.concat(a))}}),n=n.filter(r=>r!=null&&!IV(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}cC.type="languageDetector";function av(t){"@babel/helpers - typeof";return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},av(t)}function fC(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":av(XMLHttpRequest))==="object"}function FV(t){return!!t&&typeof t.then=="function"}function BV(t){return FV(t)?t:Promise.resolve(t)}const HV="modulepreload",qV=function(t){return"/melo-chart/"+t},ST={},$V=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let u=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),d=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));a=u(n.map(g=>{if(g=qV(g),g in ST)return;ST[g]=!0;const y=g.endsWith(".css"),_=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${_}`))return;const E=document.createElement("link");if(E.rel=y?"stylesheet":HV,y||(E.as="script"),E.crossOrigin="",E.href=g,d&&E.setAttribute("nonce",d),document.head.appendChild(E),y)return new Promise((T,A)=>{E.addEventListener("load",T),E.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${g}`)))})}))}function o(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return a.then(u=>{for(const f of u||[])f.status==="rejected"&&o(f.reason);return e().catch(o)})};function TT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function wT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TT(Object(n),!0).forEach(function(r){GV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GV(t,e,n){return(e=KV(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KV(t){var e=YV(t,"string");return _o(e)=="symbol"?e:e+""}function YV(t,e){if(_o(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_o(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _o(t){"@babel/helpers - typeof";return _o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_o(t)}var ms=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?ms=global.fetch:typeof window<"u"&&window.fetch&&(ms=window.fetch);var jc;fC()&&(typeof global<"u"&&global.XMLHttpRequest?jc=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(jc=window.XMLHttpRequest));var Pd;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?Pd=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(Pd=window.ActiveXObject));typeof ms!="function"&&(ms=void 0);if(!ms&&!jc&&!Pd)try{$V(()=>import("./browser-ponyfill-DMzpDyVc.js").then(t=>t.b),[]).then(function(t){ms=t.default}).catch(function(){})}catch{}var sv=function(e,n){if(n&&_o(n)==="object"){var r="";for(var a in n)r+="&"+encodeURIComponent(a)+"="+encodeURIComponent(n[a]);if(!r)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+r.slice(1)}return e},AT=function(e,n,r,a){var o=function(d){if(!d.ok)return r(d.statusText||"Error",{status:d.status});d.text().then(function(g){r(null,{status:d.status,data:g})}).catch(r)};if(a){var u=a(e,n);if(u instanceof Promise){u.then(o).catch(r);return}}typeof fetch=="function"?fetch(e,n).then(o).catch(r):ms(e,n).then(o).catch(r)},RT=!1,QV=function(e,n,r,a){e.queryStringParams&&(n=sv(n,e.queryStringParams));var o=wT({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(o["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),r&&(o["Content-Type"]="application/json");var u=typeof e.requestOptions=="function"?e.requestOptions(r):e.requestOptions,f=wT({method:r?"POST":"GET",body:r?e.stringify(r):void 0,headers:o},RT?{}:u),d=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{AT(n,f,a,d)}catch(g){if(!u||Object.keys(u).length===0||!g.message||g.message.indexOf("not implemented")<0)return a(g);try{Object.keys(u).forEach(function(y){delete f[y]}),AT(n,f,a,d),RT=!0}catch(y){a(y)}}},XV=function(e,n,r,a){r&&_o(r)==="object"&&(r=sv("",r).slice(1)),e.queryStringParams&&(n=sv(n,e.queryStringParams));try{var o=jc?new jc:new Pd("MSXML2.XMLHTTP.3.0");o.open(r?"POST":"GET",n,1),e.crossDomain||o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.withCredentials=!!e.withCredentials,r&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.overrideMimeType&&o.overrideMimeType("application/json");var u=e.customHeaders;if(u=typeof u=="function"?u():u,u)for(var f in u)o.setRequestHeader(f,u[f]);o.onreadystatechange=function(){o.readyState>3&&a(o.status>=400?o.statusText:null,{status:o.status,data:o.responseText})},o.send(r)}catch(d){console&&console.log(d)}},WV=function(e,n,r,a){if(typeof r=="function"&&(a=r,r=void 0),a=a||function(){},ms&&n.indexOf("file:")!==0)return QV(e,n,r,a);if(fC()||typeof ActiveXObject=="function")return XV(e,n,r,a);a(new Error("No fetch and no xhr implementation found!"))};function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function CT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ly(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CT(Object(n),!0).forEach(function(r){hC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dC(r.key),r)}}function e9(t,e,n){return e&&JV(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hC(t,e,n){return(e=dC(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dC(t){var e=t9(t,"string");return Vl(e)=="symbol"?e:e+""}function t9(t,e){if(Vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var n9=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(n){return JSON.parse(n)},stringify:JSON.stringify,parsePayload:function(n,r,a){return hC({},r,a||"")},parseLoadPayload:function(n,r){},request:WV,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},mC=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};ZV(this,t),this.services=e,this.options=n,this.allOptions=r,this.type="backend",this.init(e,n,r)}return e9(t,[{key:"init",value:function(n){var r=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=n,this.options=ly(ly(ly({},n9()),this.options||{}),a),this.allOptions=o,this.services&&this.options.reloadInterval){var u=setInterval(function(){return r.reload()},this.options.reloadInterval);Vl(u)==="object"&&typeof u.unref=="function"&&u.unref()}}},{key:"readMulti",value:function(n,r,a){this._readAny(n,n,r,r,a)}},{key:"read",value:function(n,r,a){this._readAny([n],n,[r],r,a)}},{key:"_readAny",value:function(n,r,a,o,u){var f=this,d=this.options.loadPath;typeof this.options.loadPath=="function"&&(d=this.options.loadPath(n,a)),d=BV(d),d.then(function(g){if(!g)return u(null,{});var y=f.services.interpolator.interpolate(g,{lng:n.join("+"),ns:a.join("+")});f.loadUrl(y,u,r,o)})}},{key:"loadUrl",value:function(n,r,a,o){var u=this,f=typeof a=="string"?[a]:a,d=typeof o=="string"?[o]:o,g=this.options.parseLoadPayload(f,d);this.options.request(this.options,n,g,function(y,_){if(_&&(_.status>=500&&_.status<600||!_.status))return r("failed loading "+n+"; status code: "+_.status,!0);if(_&&_.status>=400&&_.status<500)return r("failed loading "+n+"; status code: "+_.status,!1);if(!_&&y&&y.message){var E=y.message.toLowerCase(),T=["failed","fetch","network","load"].find(function(P){return E.indexOf(P)>-1});if(T)return r("failed loading "+n+": "+y.message,!0)}if(y)return r(y,!1);var A,M;try{typeof _.data=="string"?A=u.options.parse(_.data,a,o):A=_.data}catch{M="failed parsing "+n+" to json"}if(M)return r(M,!1);r(null,A)})}},{key:"create",value:function(n,r,a,o,u){var f=this;if(this.options.addPath){typeof n=="string"&&(n=[n]);var d=this.options.parsePayload(r,a,o),g=0,y=[],_=[];n.forEach(function(E){var T=f.options.addPath;typeof f.options.addPath=="function"&&(T=f.options.addPath(E,r));var A=f.services.interpolator.interpolate(T,{lng:E,ns:r});f.options.request(f.options,A,d,function(M,P){g+=1,y.push(M),_.push(P),g===n.length&&typeof u=="function"&&u(y,_)})})}}},{key:"reload",value:function(){var n=this,r=this.services,a=r.backendConnector,o=r.languageUtils,u=r.logger,f=a.language;if(!(f&&f.toLowerCase()==="cimode")){var d=[],g=function(_){var E=o.toResolveHierarchy(_);E.forEach(function(T){d.indexOf(T)<0&&d.push(T)})};g(f),this.allOptions.preload&&this.allOptions.preload.forEach(function(y){return g(y)}),d.forEach(function(y){n.allOptions.ns.forEach(function(_){a.read(y,_,"read",null,null,function(E,T){E&&u.warn("loading namespace ".concat(_," for language ").concat(y," failed"),E),!E&&T&&u.log("loaded namespace ".concat(_," for language ").concat(y),T),a.loaded("".concat(y,"|").concat(_),E,T)})})})}}}])}();mC.type="backend";Pt.use(mC).use(cC).use(I4).init({lng:"pt",fallbackLng:"pt",interpolation:{escapeValue:!1},backend:{loadPath:"/melo-chart/locales/{{lng}}/{{ns}}.json"}});var r9="firebase",i9="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */as(r9,i9,"app");const a9={apiKey:"AIzaSyCrUUG-1lrbf5iZXLtswHQTa9H-7wb8bho",authDomain:"melo-chart.firebaseapp.com",projectId:"melo-chart",storageBucket:"melo-chart.firebasestorage.app",messagingSenderId:"218674893122",appId:"1:218674893122:web:5669423f50d704d8ad38db"},gC=Yw(a9),hm=lk(gC),s9=async(t,e)=>{const{user:n}=await KN(hm,t,e);return n},o9=async()=>{await WN(hm)},pC=async(t,e)=>{const{user:n}=await GN(hm,t,e);return n},l9=Object.freeze(Object.defineProperty({__proto__:null,auth:hm,signIn:s9,signOut:o9,signUp:pC},Symbol.toStringTag,{value:"Module"}));var xT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ss,yC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,x){function C(){}C.prototype=x.prototype,D.D=x.prototype,D.prototype=new C,D.prototype.constructor=D,D.C=function(N,U,H){for(var k=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)k[Re-2]=arguments[Re];return x.prototype[U].apply(N,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,x,C){C||(C=0);var N=Array(16);if(typeof x=="string")for(var U=0;16>U;++U)N[U]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(U=0;16>U;++U)N[U]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=D.g[0],C=D.g[1],U=D.g[2];var H=D.g[3],k=x+(H^C&(U^H))+N[0]+3614090360&4294967295;x=C+(k<<7&4294967295|k>>>25),k=H+(U^x&(C^U))+N[1]+3905402710&4294967295,H=x+(k<<12&4294967295|k>>>20),k=U+(C^H&(x^C))+N[2]+606105819&4294967295,U=H+(k<<17&4294967295|k>>>15),k=C+(x^U&(H^x))+N[3]+3250441966&4294967295,C=U+(k<<22&4294967295|k>>>10),k=x+(H^C&(U^H))+N[4]+4118548399&4294967295,x=C+(k<<7&4294967295|k>>>25),k=H+(U^x&(C^U))+N[5]+1200080426&4294967295,H=x+(k<<12&4294967295|k>>>20),k=U+(C^H&(x^C))+N[6]+2821735955&4294967295,U=H+(k<<17&4294967295|k>>>15),k=C+(x^U&(H^x))+N[7]+4249261313&4294967295,C=U+(k<<22&4294967295|k>>>10),k=x+(H^C&(U^H))+N[8]+1770035416&4294967295,x=C+(k<<7&4294967295|k>>>25),k=H+(U^x&(C^U))+N[9]+2336552879&4294967295,H=x+(k<<12&4294967295|k>>>20),k=U+(C^H&(x^C))+N[10]+4294925233&4294967295,U=H+(k<<17&4294967295|k>>>15),k=C+(x^U&(H^x))+N[11]+2304563134&4294967295,C=U+(k<<22&4294967295|k>>>10),k=x+(H^C&(U^H))+N[12]+1804603682&4294967295,x=C+(k<<7&4294967295|k>>>25),k=H+(U^x&(C^U))+N[13]+4254626195&4294967295,H=x+(k<<12&4294967295|k>>>20),k=U+(C^H&(x^C))+N[14]+2792965006&4294967295,U=H+(k<<17&4294967295|k>>>15),k=C+(x^U&(H^x))+N[15]+1236535329&4294967295,C=U+(k<<22&4294967295|k>>>10),k=x+(U^H&(C^U))+N[1]+4129170786&4294967295,x=C+(k<<5&4294967295|k>>>27),k=H+(C^U&(x^C))+N[6]+3225465664&4294967295,H=x+(k<<9&4294967295|k>>>23),k=U+(x^C&(H^x))+N[11]+643717713&4294967295,U=H+(k<<14&4294967295|k>>>18),k=C+(H^x&(U^H))+N[0]+3921069994&4294967295,C=U+(k<<20&4294967295|k>>>12),k=x+(U^H&(C^U))+N[5]+3593408605&4294967295,x=C+(k<<5&4294967295|k>>>27),k=H+(C^U&(x^C))+N[10]+38016083&4294967295,H=x+(k<<9&4294967295|k>>>23),k=U+(x^C&(H^x))+N[15]+3634488961&4294967295,U=H+(k<<14&4294967295|k>>>18),k=C+(H^x&(U^H))+N[4]+3889429448&4294967295,C=U+(k<<20&4294967295|k>>>12),k=x+(U^H&(C^U))+N[9]+568446438&4294967295,x=C+(k<<5&4294967295|k>>>27),k=H+(C^U&(x^C))+N[14]+3275163606&4294967295,H=x+(k<<9&4294967295|k>>>23),k=U+(x^C&(H^x))+N[3]+4107603335&4294967295,U=H+(k<<14&4294967295|k>>>18),k=C+(H^x&(U^H))+N[8]+1163531501&4294967295,C=U+(k<<20&4294967295|k>>>12),k=x+(U^H&(C^U))+N[13]+2850285829&4294967295,x=C+(k<<5&4294967295|k>>>27),k=H+(C^U&(x^C))+N[2]+4243563512&4294967295,H=x+(k<<9&4294967295|k>>>23),k=U+(x^C&(H^x))+N[7]+1735328473&4294967295,U=H+(k<<14&4294967295|k>>>18),k=C+(H^x&(U^H))+N[12]+2368359562&4294967295,C=U+(k<<20&4294967295|k>>>12),k=x+(C^U^H)+N[5]+4294588738&4294967295,x=C+(k<<4&4294967295|k>>>28),k=H+(x^C^U)+N[8]+2272392833&4294967295,H=x+(k<<11&4294967295|k>>>21),k=U+(H^x^C)+N[11]+1839030562&4294967295,U=H+(k<<16&4294967295|k>>>16),k=C+(U^H^x)+N[14]+4259657740&4294967295,C=U+(k<<23&4294967295|k>>>9),k=x+(C^U^H)+N[1]+2763975236&4294967295,x=C+(k<<4&4294967295|k>>>28),k=H+(x^C^U)+N[4]+1272893353&4294967295,H=x+(k<<11&4294967295|k>>>21),k=U+(H^x^C)+N[7]+4139469664&4294967295,U=H+(k<<16&4294967295|k>>>16),k=C+(U^H^x)+N[10]+3200236656&4294967295,C=U+(k<<23&4294967295|k>>>9),k=x+(C^U^H)+N[13]+681279174&4294967295,x=C+(k<<4&4294967295|k>>>28),k=H+(x^C^U)+N[0]+3936430074&4294967295,H=x+(k<<11&4294967295|k>>>21),k=U+(H^x^C)+N[3]+3572445317&4294967295,U=H+(k<<16&4294967295|k>>>16),k=C+(U^H^x)+N[6]+76029189&4294967295,C=U+(k<<23&4294967295|k>>>9),k=x+(C^U^H)+N[9]+3654602809&4294967295,x=C+(k<<4&4294967295|k>>>28),k=H+(x^C^U)+N[12]+3873151461&4294967295,H=x+(k<<11&4294967295|k>>>21),k=U+(H^x^C)+N[15]+530742520&4294967295,U=H+(k<<16&4294967295|k>>>16),k=C+(U^H^x)+N[2]+3299628645&4294967295,C=U+(k<<23&4294967295|k>>>9),k=x+(U^(C|~H))+N[0]+4096336452&4294967295,x=C+(k<<6&4294967295|k>>>26),k=H+(C^(x|~U))+N[7]+1126891415&4294967295,H=x+(k<<10&4294967295|k>>>22),k=U+(x^(H|~C))+N[14]+2878612391&4294967295,U=H+(k<<15&4294967295|k>>>17),k=C+(H^(U|~x))+N[5]+4237533241&4294967295,C=U+(k<<21&4294967295|k>>>11),k=x+(U^(C|~H))+N[12]+1700485571&4294967295,x=C+(k<<6&4294967295|k>>>26),k=H+(C^(x|~U))+N[3]+2399980690&4294967295,H=x+(k<<10&4294967295|k>>>22),k=U+(x^(H|~C))+N[10]+4293915773&4294967295,U=H+(k<<15&4294967295|k>>>17),k=C+(H^(U|~x))+N[1]+2240044497&4294967295,C=U+(k<<21&4294967295|k>>>11),k=x+(U^(C|~H))+N[8]+1873313359&4294967295,x=C+(k<<6&4294967295|k>>>26),k=H+(C^(x|~U))+N[15]+4264355552&4294967295,H=x+(k<<10&4294967295|k>>>22),k=U+(x^(H|~C))+N[6]+2734768916&4294967295,U=H+(k<<15&4294967295|k>>>17),k=C+(H^(U|~x))+N[13]+1309151649&4294967295,C=U+(k<<21&4294967295|k>>>11),k=x+(U^(C|~H))+N[4]+4149444226&4294967295,x=C+(k<<6&4294967295|k>>>26),k=H+(C^(x|~U))+N[11]+3174756917&4294967295,H=x+(k<<10&4294967295|k>>>22),k=U+(x^(H|~C))+N[2]+718787259&4294967295,U=H+(k<<15&4294967295|k>>>17),k=C+(H^(U|~x))+N[9]+3951481745&4294967295,D.g[0]=D.g[0]+x&4294967295,D.g[1]=D.g[1]+(U+(k<<21&4294967295|k>>>11))&4294967295,D.g[2]=D.g[2]+U&4294967295,D.g[3]=D.g[3]+H&4294967295}r.prototype.u=function(D,x){x===void 0&&(x=D.length);for(var C=x-this.blockSize,N=this.B,U=this.h,H=0;H<x;){if(U==0)for(;H<=C;)a(this,D,H),H+=this.blockSize;if(typeof D=="string"){for(;H<x;)if(N[U++]=D.charCodeAt(H++),U==this.blockSize){a(this,N),U=0;break}}else for(;H<x;)if(N[U++]=D[H++],U==this.blockSize){a(this,N),U=0;break}}this.h=U,this.o+=x},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var x=1;x<D.length-8;++x)D[x]=0;var C=8*this.o;for(x=D.length-8;x<D.length;++x)D[x]=C&255,C/=256;for(this.u(D),D=Array(16),x=C=0;4>x;++x)for(var N=0;32>N;N+=8)D[C++]=this.g[x]>>>N&255;return D};function o(D,x){var C=f;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=x(D)}function u(D,x){this.h=x;for(var C=[],N=!0,U=D.length-1;0<=U;U--){var H=D[U]|0;N&&H==x||(C[U]=H,N=!1)}this.g=C}var f={};function d(D){return-128<=D&&128>D?o(D,function(x){return new u([x|0],0>x?-1:0)}):new u([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return _;if(0>D)return P(g(-D));for(var x=[],C=1,N=0;D>=C;N++)x[N]=D/C|0,C*=4294967296;return new u(x,0)}function y(D,x){if(D.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(D.charAt(0)=="-")return P(y(D.substring(1),x));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(x,8)),N=_,U=0;U<D.length;U+=8){var H=Math.min(8,D.length-U),k=parseInt(D.substring(U,U+H),x);8>H?(H=g(Math.pow(x,H)),N=N.j(H).add(g(k))):(N=N.j(C),N=N.add(g(k)))}return N}var _=d(0),E=d(1),T=d(16777216);t=u.prototype,t.m=function(){if(M(this))return-P(this).m();for(var D=0,x=1,C=0;C<this.g.length;C++){var N=this.i(C);D+=(0<=N?N:4294967296+N)*x,x*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(M(this))return"-"+P(this).toString(D);for(var x=g(Math.pow(D,6)),C=this,N="";;){var U=re(C,x).g;C=j(C,U.j(x));var H=((0<C.g.length?C.g[0]:C.h)>>>0).toString(D);if(C=U,A(C))return H+N;for(;6>H.length;)H="0"+H;N=H+N}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(var x=0;x<D.g.length;x++)if(D.g[x]!=0)return!1;return!0}function M(D){return D.h==-1}t.l=function(D){return D=j(this,D),M(D)?-1:A(D)?0:1};function P(D){for(var x=D.g.length,C=[],N=0;N<x;N++)C[N]=~D.g[N];return new u(C,~D.h).add(E)}t.abs=function(){return M(this)?P(this):this},t.add=function(D){for(var x=Math.max(this.g.length,D.g.length),C=[],N=0,U=0;U<=x;U++){var H=N+(this.i(U)&65535)+(D.i(U)&65535),k=(H>>>16)+(this.i(U)>>>16)+(D.i(U)>>>16);N=k>>>16,H&=65535,k&=65535,C[U]=k<<16|H}return new u(C,C[C.length-1]&-2147483648?-1:0)};function j(D,x){return D.add(P(x))}t.j=function(D){if(A(this)||A(D))return _;if(M(this))return M(D)?P(this).j(P(D)):P(P(this).j(D));if(M(D))return P(this.j(P(D)));if(0>this.l(T)&&0>D.l(T))return g(this.m()*D.m());for(var x=this.g.length+D.g.length,C=[],N=0;N<2*x;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(var U=0;U<D.g.length;U++){var H=this.i(N)>>>16,k=this.i(N)&65535,Re=D.i(U)>>>16,Fe=D.i(U)&65535;C[2*N+2*U]+=k*Fe,G(C,2*N+2*U),C[2*N+2*U+1]+=H*Fe,G(C,2*N+2*U+1),C[2*N+2*U+1]+=k*Re,G(C,2*N+2*U+1),C[2*N+2*U+2]+=H*Re,G(C,2*N+2*U+2)}for(N=0;N<x;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=x;N<2*x;N++)C[N]=0;return new u(C,0)};function G(D,x){for(;(D[x]&65535)!=D[x];)D[x+1]+=D[x]>>>16,D[x]&=65535,x++}function Y(D,x){this.g=D,this.h=x}function re(D,x){if(A(x))throw Error("division by zero");if(A(D))return new Y(_,_);if(M(D))return x=re(P(D),x),new Y(P(x.g),P(x.h));if(M(x))return x=re(D,P(x)),new Y(P(x.g),x.h);if(30<D.g.length){if(M(D)||M(x))throw Error("slowDivide_ only works with positive integers.");for(var C=E,N=x;0>=N.l(D);)C=te(C),N=te(N);var U=F(C,1),H=F(N,1);for(N=F(N,2),C=F(C,2);!A(N);){var k=H.add(N);0>=k.l(D)&&(U=U.add(C),H=k),N=F(N,1),C=F(C,1)}return x=j(D,U.j(x)),new Y(U,x)}for(U=_;0<=D.l(x);){for(C=Math.max(1,Math.floor(D.m()/x.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),H=g(C),k=H.j(x);M(k)||0<k.l(D);)C-=N,H=g(C),k=H.j(x);A(H)&&(H=E),U=U.add(H),D=j(D,k)}return new Y(U,D)}t.A=function(D){return re(this,D).h},t.and=function(D){for(var x=Math.max(this.g.length,D.g.length),C=[],N=0;N<x;N++)C[N]=this.i(N)&D.i(N);return new u(C,this.h&D.h)},t.or=function(D){for(var x=Math.max(this.g.length,D.g.length),C=[],N=0;N<x;N++)C[N]=this.i(N)|D.i(N);return new u(C,this.h|D.h)},t.xor=function(D){for(var x=Math.max(this.g.length,D.g.length),C=[],N=0;N<x;N++)C[N]=this.i(N)^D.i(N);return new u(C,this.h^D.h)};function te(D){for(var x=D.g.length+1,C=[],N=0;N<x;N++)C[N]=D.i(N)<<1|D.i(N-1)>>>31;return new u(C,D.h)}function F(D,x){var C=x>>5;x%=32;for(var N=D.g.length-C,U=[],H=0;H<N;H++)U[H]=0<x?D.i(H+C)>>>x|D.i(H+C+1)<<32-x:D.i(H+C);return new u(U,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,yC=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=y,ss=u}).apply(typeof xT<"u"?xT:typeof self<"u"?self:typeof window<"u"?window:{});var Uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vC,mc,_C,Wh,ov,EC,bC,SC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,b){return h==Array.prototype||h==Object.prototype||(h[v]=b.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uh=="object"&&Uh];for(var v=0;v<h.length;++v){var b=h[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function a(h,v){if(v)e:{var b=r;h=h.split(".");for(var R=0;R<h.length-1;R++){var K=h[R];if(!(K in b))break e;b=b[K]}h=h[h.length-1],R=b[h],v=v(R),v!=R&&v!=null&&e(b,h,{configurable:!0,writable:!0,value:v})}}function o(h,v){h instanceof String&&(h+="");var b=0,R=!1,K={next:function(){if(!R&&b<h.length){var ne=b++;return{value:v(ne,h[ne]),done:!1}}return R=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}a("Array.prototype.values",function(h){return h||function(){return o(this,function(v,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function d(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function g(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,b){return h.call.apply(h.bind,arguments)}function _(h,v,b){if(!h)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,R),h.apply(v,K)}}return function(){return h.apply(v,arguments)}}function E(h,v,b){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,E.apply(null,arguments)}function T(h,v){var b=Array.prototype.slice.call(arguments,1);return function(){var R=b.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function A(h,v){function b(){}b.prototype=v.prototype,h.aa=v.prototype,h.prototype=new b,h.prototype.constructor=h,h.Qb=function(R,K,ne){for(var pe=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)pe[lt-2]=arguments[lt];return v.prototype[K].apply(R,pe)}}function M(h){const v=h.length;if(0<v){const b=Array(v);for(let R=0;R<v;R++)b[R]=h[R];return b}return[]}function P(h,v){for(let b=1;b<arguments.length;b++){const R=arguments[b];if(d(R)){const K=h.length||0,ne=R.length||0;h.length=K+ne;for(let pe=0;pe<ne;pe++)h[K+pe]=R[pe]}else h.push(R)}}class j{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function G(h){return/^[\s\xa0]*$/.test(h)}function Y(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function re(h){return re[" "](h),h}re[" "]=function(){};var te=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function F(h,v,b){for(const R in h)v.call(b,h[R],R,h)}function D(h,v){for(const b in h)v.call(void 0,h[b],b,h)}function x(h){const v={};for(const b in h)v[b]=h[b];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(h,v){let b,R;for(let K=1;K<arguments.length;K++){R=arguments[K];for(b in R)h[b]=R[b];for(let ne=0;ne<C.length;ne++)b=C[ne],Object.prototype.hasOwnProperty.call(R,b)&&(h[b]=R[b])}}function U(h){var v=1;h=h.split(":");const b=[];for(;0<v&&h.length;)b.push(h.shift()),v--;return h.length&&b.push(h.join(":")),b}function H(h){f.setTimeout(()=>{throw h},0)}function k(){var h=Ne;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Re{constructor(){this.h=this.g=null}add(v,b){const R=Fe.get();R.set(v,b),this.h?this.h.next=R:this.g=R,this.h=R}}var Fe=new j(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,ye=!1,Ne=new Re,V=()=>{const h=f.Promise.resolve(void 0);fe=()=>{h.then(ie)}};var ie=()=>{for(var h;h=k();){try{h.h.call(h.g)}catch(b){H(b)}var v=Fe;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ye=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};f.addEventListener("test",b,v),f.removeEventListener("test",b,v)}catch{}return h}();function Be(h,v){if(ue.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var b=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(te){e:{try{re(v.nodeName);var K=!0;break e}catch{}K=!1}K||(v=null)}}else b=="mouseover"?v=h.fromElement:b=="mouseout"&&(v=h.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Oe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Be.aa.h.call(this)}}A(Be,ue);var Oe={2:"touch",3:"pen",4:"mouse"};Be.prototype.h=function(){Be.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Gt="closure_listenable_"+(1e6*Math.random()|0),bt=0;function hr(h,v,b,R,K){this.listener=h,this.proxy=null,this.src=v,this.type=b,this.capture=!!R,this.ha=K,this.key=++bt,this.da=this.fa=!1}function Ot(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function An(h){this.src=h,this.g={},this.h=0}An.prototype.add=function(h,v,b,R,K){var ne=h.toString();h=this.g[ne],h||(h=this.g[ne]=[],this.h++);var pe=xi(h,v,R,K);return-1<pe?(v=h[pe],b||(v.fa=!1)):(v=new hr(v,this.src,ne,!!R,K),v.fa=b,h.push(v)),v};function Qr(h,v){var b=v.type;if(b in h.g){var R=h.g[b],K=Array.prototype.indexOf.call(R,v,void 0),ne;(ne=0<=K)&&Array.prototype.splice.call(R,K,1),ne&&(Ot(v),h.g[b].length==0&&(delete h.g[b],h.h--))}}function xi(h,v,b,R){for(var K=0;K<h.length;++K){var ne=h[K];if(!ne.da&&ne.listener==v&&ne.capture==!!b&&ne.ha==R)return K}return-1}var Mn="closure_lm_"+(1e6*Math.random()|0),Cs={};function Oo(h,v,b,R,K){if(Array.isArray(v)){for(var ne=0;ne<v.length;ne++)Oo(h,v[ne],b,R,K);return null}return b=Ea(b),h&&h[Gt]?h.K(v,b,g(R)?!!R.capture:!1,K):Ln(h,v,b,!1,R,K)}function Ln(h,v,b,R,K,ne){if(!v)throw Error("Invalid event type");var pe=g(K)?!!K.capture:!!K,lt=dr(h);if(lt||(h[Mn]=lt=new An(h)),b=lt.add(v,b,R,pe,ne),b.proxy)return b;if(R=ru(),b.proxy=R,R.src=h,R.listener=b,h.addEventListener)be||(K=pe),K===void 0&&(K=!1),h.addEventListener(v.toString(),R,K);else if(h.attachEvent)h.attachEvent(Ii(v.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return b}function ru(){function h(b){return v.call(h.src,h.listener,b)}const v=Pr;return h}function xs(h,v,b,R,K){if(Array.isArray(v))for(var ne=0;ne<v.length;ne++)xs(h,v[ne],b,R,K);else R=g(R)?!!R.capture:!!R,b=Ea(b),h&&h[Gt]?(h=h.i,v=String(v).toString(),v in h.g&&(ne=h.g[v],b=xi(ne,b,R,K),-1<b&&(Ot(ne[b]),Array.prototype.splice.call(ne,b,1),ne.length==0&&(delete h.g[v],h.h--)))):h&&(h=dr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=xi(v,b,R,K)),(b=-1<h?v[h]:null)&&va(b))}function va(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Gt])Qr(v.i,h);else{var b=h.type,R=h.proxy;v.removeEventListener?v.removeEventListener(b,R,h.capture):v.detachEvent?v.detachEvent(Ii(b),R):v.addListener&&v.removeListener&&v.removeListener(R),(b=dr(v))?(Qr(b,h),b.h==0&&(b.src=null,v[Mn]=null)):Ot(h)}}}function Ii(h){return h in Cs?Cs[h]:Cs[h]="on"+h}function Pr(h,v){if(h.da)h=!0;else{v=new Be(v,this);var b=h.listener,R=h.ha||h.src;h.fa&&va(h),h=b.call(R,v)}return h}function dr(h){return h=h[Mn],h instanceof An?h:null}var _a="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ea(h){return typeof h=="function"?h:(h[_a]||(h[_a]=function(v){return h.handleEvent(v)}),h[_a])}function mt(){de.call(this),this.i=new An(this),this.M=this,this.F=null}A(mt,de),mt.prototype[Gt]=!0,mt.prototype.removeEventListener=function(h,v,b,R){xs(this,h,v,b,R)};function Ye(h,v){var b,R=h.F;if(R)for(b=[];R;R=R.F)b.push(R);if(h=h.M,R=v.type||v,typeof v=="string")v=new ue(v,h);else if(v instanceof ue)v.target=v.target||h;else{var K=v;v=new ue(R,h),N(v,K)}if(K=!0,b)for(var ne=b.length-1;0<=ne;ne--){var pe=v.g=b[ne];K=Rn(pe,R,!0,v)&&K}if(pe=v.g=h,K=Rn(pe,R,!0,v)&&K,K=Rn(pe,R,!1,v)&&K,b)for(ne=0;ne<b.length;ne++)pe=v.g=b[ne],K=Rn(pe,R,!1,v)&&K}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var b=h.g[v],R=0;R<b.length;R++)Ot(b[R]);delete h.g[v],h.h--}}this.F=null},mt.prototype.K=function(h,v,b,R){return this.i.add(String(h),v,!1,b,R)},mt.prototype.L=function(h,v,b,R){return this.i.add(String(h),v,!0,b,R)};function Rn(h,v,b,R){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var K=!0,ne=0;ne<v.length;++ne){var pe=v[ne];if(pe&&!pe.da&&pe.capture==b){var lt=pe.listener,en=pe.ha||pe.src;pe.fa&&Qr(h.i,pe),K=lt.call(en,R)!==!1&&K}}return K&&!R.defaultPrevented}function Kt(h,v,b){if(typeof h=="function")b&&(h=E(h,b));else if(h&&typeof h.handleEvent=="function")h=E(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function Do(h){h.g=Kt(()=>{h.g=null,h.i&&(h.i=!1,Do(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class mr extends de{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Do(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(h){de.call(this),this.h=h,this.g={}}A(Xr,de);var Wr=[];function Zr(h){F(h.g,function(v,b){this.g.hasOwnProperty(b)&&va(v)},h),h.g={}}Xr.prototype.N=function(){Xr.aa.N.call(this),Zr(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qn=f.JSON.stringify,Oi=f.JSON.parse,gr=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function ba(){}ba.prototype.h=null;function Di(h){return h.h||(h.h=h.i())}function Is(){}var pr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kr(){ue.call(this,"d")}A(kr,ue);function Sa(){ue.call(this,"c")}A(Sa,ue);var Un={},Jr=null;function ei(){return Jr=Jr||new mt}Un.La="serverreachability";function Ta(h){ue.call(this,Un.La,h)}A(Ta,ue);function z(h){const v=ei();Ye(v,new Ta(v))}Un.STAT_EVENT="statevent";function $(h,v){ue.call(this,Un.STAT_EVENT,h),this.stat=v}A($,ue);function X(h){const v=ei();Ye(v,new $(v,h))}Un.Ma="timingevent";function oe(h,v){ue.call(this,Un.Ma,h),this.size=v}A(oe,ue);function me(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function ve(){this.g=!0}ve.prototype.xa=function(){this.g=!1};function De(h,v,b,R,K,ne){h.info(function(){if(h.g)if(ne)for(var pe="",lt=ne.split("&"),en=0;en<lt.length;en++){var ut=lt[en].split("=");if(1<ut.length){var un=ut[0];ut=ut[1];var tn=un.split("_");pe=2<=tn.length&&tn[1]=="type"?pe+(un+"="+ut+"&"):pe+(un+"=redacted&")}}else pe=null;else pe=ne;return"XMLHTTP REQ ("+R+") [attempt "+K+"]: "+v+`
`+b+`
`+pe})}function Ee(h,v,b,R,K,ne,pe){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+K+"]: "+v+`
`+b+`
`+ne+" "+pe})}function Te(h,v,b,R){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+ke(h,b)+(R?" "+R:"")})}function Ce(h,v){h.info(function(){return"TIMEOUT: "+v})}ve.prototype.info=function(){};function ke(h,v){if(!h.g)return v;if(!v)return null;try{var b=JSON.parse(v);if(b){for(h=0;h<b.length;h++)if(Array.isArray(b[h])){var R=b[h];if(!(2>R.length)){var K=R[1];if(Array.isArray(K)&&!(1>K.length)){var ne=K[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var pe=1;pe<K.length;pe++)K[pe]=""}}}}return Qn(b)}catch{return v}}var we={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Le={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},et;function pt(){}A(pt,ba),pt.prototype.g=function(){return new XMLHttpRequest},pt.prototype.i=function(){return{}},et=new pt;function ht(h,v,b,R){this.j=h,this.i=v,this.l=b,this.R=R||1,this.U=new Xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ot}function ot(){this.i=null,this.g="",this.h=!1}var We={},yr={};function Jt(h,v,b){h.L=1,h.v=Ns(Zn(v)),h.m=b,h.P=!0,Vn(h,null)}function Vn(h,v){h.F=Date.now(),Xn(h),h.A=Zn(h.v);var b=h.A,R=h.R;Array.isArray(R)||(R=[String(R)]),lu(b.i,"t",R),h.C=0,b=h.j.J,h.h=new ot,h.g=Af(h.j,b?v:null,!h.m),0<h.O&&(h.M=new mr(E(h.Y,h,h.g),h.O)),v=h.U,b=h.g,R=h.ca;var K="readystatechange";Array.isArray(K)||(K&&(Wr[0]=K.toString()),K=Wr);for(var ne=0;ne<K.length;ne++){var pe=Oo(b,K[ne],R||v.handleEvent,!1,v.h||v);if(!pe)break;v.g[pe.key]=pe}v=h.H?x(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),z(),De(h.i,h.u,h.A,h.l,h.R,h.m)}ht.prototype.ca=function(h){h=h.target;const v=this.M;v&&Sr(h)==3?v.j():this.Y(h)},ht.prototype.Y=function(h){try{if(h==this.g)e:{const tn=Sr(this.g);var v=this.g.Ba();const ji=this.g.Z();if(!(3>tn)&&(tn!=3||this.g&&(this.h.h||this.g.oa()||yf(this.g)))){this.J||tn!=4||v==7||(v==8||0>=ji?z(3):z(2)),Cn(this);var b=this.g.Z();this.X=b;t:if(mn(this)){var R=yf(this.g);h="";var K=R.length,ne=Sr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){He(this),jn(this);var pe="";break t}this.h.i=new f.TextDecoder}for(v=0;v<K;v++)this.h.h=!0,h+=this.h.i.decode(R[v],{stream:!(ne&&v==K-1)});R.length=0,this.h.g+=h,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=b==200,Ee(this.i,this.u,this.A,this.l,this.R,tn,b),this.o){if(this.T&&!this.K){t:{if(this.g){var lt,en=this.g;if((lt=en.g?en.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(lt)){var ut=lt;break t}}ut=null}if(b=ut)Te(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yt(this,b);else{this.o=!1,this.s=3,X(12),He(this),jn(this);break e}}if(this.P){b=!0;let pn;for(;!this.J&&this.C<pe.length;)if(pn=ti(this,pe),pn==yr){tn==4&&(this.s=4,X(14),b=!1),Te(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==We){this.s=4,X(15),Te(this.i,this.l,pe,"[Invalid Chunk]"),b=!1;break}else Te(this.i,this.l,pn,null),Yt(this,pn);if(mn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tn!=4||pe.length!=0||this.h.h||(this.s=1,X(16),b=!1),this.o=this.o&&b,!b)Te(this.i,this.l,pe,"[Invalid Chunked Response]"),He(this),jn(this);else if(0<pe.length&&!this.W){this.W=!0;var un=this.j;un.g==this&&un.ba&&!un.M&&(un.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),zs(un),un.M=!0,X(11))}}else Te(this.i,this.l,pe,null),Yt(this,pe);tn==4&&He(this),this.o&&!this.J&&(tn==4?Sf(this.j,this):(this.o=!1,Xn(this)))}else Nm(this.g),b==400&&0<pe.indexOf("Unknown SID")?(this.s=3,X(12)):(this.s=0,X(13)),He(this),jn(this)}}}catch{}finally{}};function mn(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function ti(h,v){var b=h.C,R=v.indexOf(`
`,b);return R==-1?yr:(b=Number(v.substring(b,R)),isNaN(b)?We:(R+=1,R+b>v.length?yr:(v=v.slice(R,R+b),h.C=R+b,v)))}ht.prototype.cancel=function(){this.J=!0,He(this)};function Xn(h){h.S=Date.now()+h.I,wa(h,h.I)}function wa(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=me(E(h.ba,h),v)}function Cn(h){h.B&&(f.clearTimeout(h.B),h.B=null)}ht.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Ce(this.i,this.A),this.L!=2&&(z(),X(17)),He(this),this.s=2,jn(this)):wa(this,this.S-h)};function jn(h){h.j.G==0||h.J||Sf(h.j,h)}function He(h){Cn(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Zr(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Yt(h,v){try{var b=h.j;if(b.G!=0&&(b.g==h||vr(b.h,h))){if(!h.K&&vr(b.h,h)&&b.G==3){try{var R=b.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var K=R;if(K[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<h.F)zo(b),Vo(b);else break e;du(b),X(18)}}else b.za=K[1],0<b.za-b.T&&37500>K[2]&&b.F&&b.v==0&&!b.C&&(b.C=me(E(b.Za,b),6e3));if(1>=Rt(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Vi(b,11)}else if((h.K||b.g==h)&&zo(b),!G(v))for(K=b.Da.g.parse(v),v=0;v<K.length;v++){let ut=K[v];if(b.T=ut[0],ut=ut[1],b.G==2)if(ut[0]=="c"){b.K=ut[1],b.ia=ut[2];const un=ut[3];un!=null&&(b.la=un,b.j.info("VER="+b.la));const tn=ut[4];tn!=null&&(b.Aa=tn,b.j.info("SVER="+b.Aa));const ji=ut[5];ji!=null&&typeof ji=="number"&&0<ji&&(R=1.5*ji,b.L=R,b.j.info("backChannelRequestTimeoutMs_="+R)),R=b;const pn=h.g;if(pn){const ui=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ui){var ne=R.h;ne.g||ui.indexOf("spdy")==-1&&ui.indexOf("quic")==-1&&ui.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Ni(ne,ne.h),ne.h=null))}if(R.D){const gu=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;gu&&(R.ya=gu,St(R.I,R.D,gu))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-h.F,b.j.info("Handshake RTT: "+b.R+"ms")),R=b;var pe=h;if(R.qa=wf(R,R.J?R.ia:null,R.W),pe.K){gn(R.h,pe);var lt=pe,en=R.L;en&&(lt.I=en),lt.B&&(Cn(lt),Xn(lt)),R.g=pe}else Ef(R);0<b.i.length&&jo(b)}else ut[0]!="stop"&&ut[0]!="close"||Vi(b,7);else b.G==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?Vi(b,7):fu(b):ut[0]!="noop"&&b.l&&b.l.ta(ut),b.v=0)}}z(4)}catch{}}var Wn=class{constructor(h,v){this.g=h,this.map=v}};function Bn(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ni(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Rt(h){return h.h?1:h.g?h.g.size:0}function vr(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Ni(h,v){h.g?h.g.add(v):h.h=v}function gn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Bn.prototype.cancel=function(){if(this.i=iu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function iu(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const b of h.g.values())v=v.concat(b.D);return v}return M(h.i)}function xm(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var v=[],b=h.length,R=0;R<b;R++)v.push(h[R]);return v}v=[],b=0;for(R in h)v[b++]=h[R];return v}function No(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var v=[];h=h.length;for(var b=0;b<h;b++)v.push(b);return v}v=[],b=0;for(const R in h)v[b++]=R;return v}}}function au(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var b=No(h),R=xm(h),K=R.length,ne=0;ne<K;ne++)v.call(void 0,R[ne],b&&b[ne],h)}var Os=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Im(h,v){if(h){h=h.split("&");for(var b=0;b<h.length;b++){var R=h[b].indexOf("="),K=null;if(0<=R){var ne=h[b].substring(0,R);K=h[b].substring(R+1)}else ne=h[b];v(ne,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Qt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Qt){this.h=h.h,Ds(this,h.j),this.o=h.o,this.g=h.g,Aa(this,h.s),this.l=h.l;var v=h.i,b=new ki;b.i=v.i,v.g&&(b.g=new Map(v.g),b.h=v.h),Pi(this,b),this.m=h.m}else h&&(v=String(h).match(Os))?(this.h=!1,Ds(this,v[1]||"",!0),this.o=_r(v[2]||""),this.g=_r(v[3]||"",!0),Aa(this,v[4]),this.l=_r(v[5]||"",!0),Pi(this,v[6]||"",!0),this.m=_r(v[7]||"")):(this.h=!1,this.i=new ki(null,this.h))}Qt.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Ps(v,su,!0),":");var b=this.g;return(b||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Ps(v,su,!0),"@"),h.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&h.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(Ps(b,b.charAt(0)=="/"?Om:ou,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",Ps(b,Po)),h.join("")};function Zn(h){return new Qt(h)}function Ds(h,v,b){h.j=b?_r(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Aa(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Pi(h,v,b){v instanceof ki?(h.i=v,gf(h.i,h.h)):(b||(v=Ps(v,Dm)),h.i=new ki(v,h.h))}function St(h,v,b){h.i.set(v,b)}function Ns(h){return St(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function _r(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ps(h,v,b){return typeof h=="string"?(h=encodeURI(h).replace(v,mf),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function mf(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var su=/[#\/\?@]/g,ou=/[#\?:]/g,Om=/[#\?]/g,Dm=/[#\?@]/g,Po=/#/g;function ki(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Er(h){h.g||(h.g=new Map,h.h=0,h.i&&Im(h.i,function(v,b){h.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}t=ki.prototype,t.add=function(h,v){Er(this),this.i=null,h=ri(this,h);var b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(v),this.h+=1,this};function Mi(h,v){Er(h),v=ri(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Li(h,v){return Er(h),v=ri(h,v),h.g.has(v)}t.forEach=function(h,v){Er(this),this.g.forEach(function(b,R){b.forEach(function(K){h.call(v,K,R,this)},this)},this)},t.na=function(){Er(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),b=[];for(let R=0;R<v.length;R++){const K=h[R];for(let ne=0;ne<K.length;ne++)b.push(v[R])}return b},t.V=function(h){Er(this);let v=[];if(typeof h=="string")Li(this,h)&&(v=v.concat(this.g.get(ri(this,h))));else{h=Array.from(this.g.values());for(let b=0;b<h.length;b++)v=v.concat(h[b])}return v},t.set=function(h,v){return Er(this),this.i=null,h=ri(this,h),Li(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function lu(h,v,b){Mi(h,v),0<b.length&&(h.i=null,h.g.set(ri(h,v),M(b)),h.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var b=0;b<v.length;b++){var R=v[b];const ne=encodeURIComponent(String(R)),pe=this.V(R);for(R=0;R<pe.length;R++){var K=ne;pe[R]!==""&&(K+="="+encodeURIComponent(String(pe[R]))),h.push(K)}}return this.i=h.join("&")};function ri(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function gf(h,v){v&&!h.j&&(Er(h),h.i=null,h.g.forEach(function(b,R){var K=R.toLowerCase();R!=K&&(Mi(this,R),lu(this,K,b))},h)),h.j=v}function ks(h,v){const b=new ve;if(f.Image){const R=new Image;R.onload=T(br,b,"TestLoadImage: loaded",!0,v,R),R.onerror=T(br,b,"TestLoadImage: error",!1,v,R),R.onabort=T(br,b,"TestLoadImage: abort",!1,v,R),R.ontimeout=T(br,b,"TestLoadImage: timeout",!1,v,R),f.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else v(!1)}function Mr(h,v){const b=new ve,R=new AbortController,K=setTimeout(()=>{R.abort(),br(b,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:R.signal}).then(ne=>{clearTimeout(K),ne.ok?br(b,"TestPingServer: ok",!0,v):br(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(K),br(b,"TestPingServer: error",!1,v)})}function br(h,v,b,R,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),R(b)}catch{}}function Ms(){this.g=new gr}function ii(h,v,b){const R=b||"";try{au(h,function(K,ne){let pe=K;g(K)&&(pe=Qn(K)),v.push(R+ne+"="+encodeURIComponent(pe))})}catch(K){throw v.push(R+"type="+encodeURIComponent("_badmap")),K}}function Ra(h){this.l=h.Ub||null,this.j=h.eb||!1}A(Ra,ba),Ra.prototype.g=function(){return new Ui(this.l,this.j)},Ra.prototype.i=function(h){return function(){return h}}({});function Ui(h,v){mt.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Ui,mt),t=Ui.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,si(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ai(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;uu(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function uu(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?ai(this):si(this),this.readyState==3&&uu(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,ai(this))},t.Qa=function(h){this.g&&(this.response=h,ai(this))},t.ga=function(){this.g&&ai(this)};function ai(h){h.readyState=4,h.l=null,h.j=null,h.v=null,si(h)}t.setRequestHeader=function(h,v){this.u.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=v.next();return h.join(`\r
`)};function si(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function cu(h){let v="";return F(h,function(b,R){v+=R,v+=":",v+=b,v+=`\r
`}),v}function ln(h,v,b){e:{for(R in b){var R=!1;break e}R=!0}R||(b=cu(b),typeof h=="string"?b!=null&&encodeURIComponent(String(b)):St(h,v,b))}function yt(h){mt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(yt,mt);var ko=/^https?$/i,Ls=["POST","PUT"];t=yt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,v,b,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():et.g(),this.v=this.o?Di(this.o):Di(et),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(ne){pf(this,ne);return}if(h=b||"",b=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var K in R)b.set(K,R[K]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const ne of R.keys())b.set(ne,R.get(ne));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(b.keys()).find(ne=>ne.toLowerCase()=="content-type"),K=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Ls,v,void 0))||R||K||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,pe]of b)this.g.setRequestHeader(ne,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Us(this),this.u=!0,this.g.send(h),this.u=!1}catch(ne){pf(this,ne)}};function pf(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Mo(h),oi(h)}function Mo(h){h.A||(h.A=!0,Ye(h,"complete"),Ye(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ye(this,"complete"),Ye(this,"abort"),oi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oi(this,!0)),yt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Lo(this):this.bb())},t.bb=function(){Lo(this)};function Lo(h){if(h.h&&typeof u<"u"&&(!h.v[1]||Sr(h)!=4||h.Z()!=2)){if(h.u&&Sr(h)==4)Kt(h.Ea,0,h);else if(Ye(h,"readystatechange"),Sr(h)==4){h.h=!1;try{const pe=h.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var R;if(R=pe===0){var K=String(h.D).match(Os)[1]||null;!K&&f.self&&f.self.location&&(K=f.self.location.protocol.slice(0,-1)),R=!ko.test(K?K.toLowerCase():"")}b=R}if(b)Ye(h,"complete"),Ye(h,"success");else{h.m=6;try{var ne=2<Sr(h)?h.g.statusText:""}catch{ne=""}h.l=ne+" ["+h.Z()+"]",Mo(h)}}finally{oi(h)}}}}function oi(h,v){if(h.g){Us(h);const b=h.g,R=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Ye(h,"ready");try{b.onreadystatechange=R}catch{}}}function Us(h){h.I&&(f.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Sr(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Sr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Oi(v)}};function yf(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Nm(h){const v={};h=(h.g&&2<=Sr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(G(h[R]))continue;var b=U(h[R]);const K=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const ne=v[K]||[];v[K]=ne,ne.push(b)}D(v,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vs(h,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||v}function Uo(h){this.Aa=0,this.i=[],this.j=new ve,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vs("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vs("baseRetryDelayMs",5e3,h),this.cb=Vs("retryDelaySeedMs",1e4,h),this.Wa=Vs("forwardChannelMaxRetries",2,h),this.wa=Vs("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Bn(h&&h.concurrentRequestLimit),this.Da=new Ms,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Uo.prototype,t.la=8,t.G=1,t.connect=function(h,v,b,R){X(0),this.W=h,this.H=v||{},b&&R!==void 0&&(this.H.OSID=b,this.H.OAID=R),this.F=this.X,this.I=wf(this,null,this.W),jo(this)};function fu(h){if(vf(h),h.G==3){var v=h.U++,b=Zn(h.I);if(St(b,"SID",h.K),St(b,"RID",v),St(b,"TYPE","terminate"),js(h,b),v=new ht(h,h.j,v),v.L=2,v.v=Ns(Zn(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!b&&f.Image&&(new Image().src=v.v,b=!0),b||(v.g=Af(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Xn(v)}Tf(h)}function Vo(h){h.g&&(zs(h),h.g.cancel(),h.g=null)}function vf(h){Vo(h),h.u&&(f.clearTimeout(h.u),h.u=null),zo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function jo(h){if(!ni(h.h)&&!h.s){h.s=!0;var v=h.Ga;fe||V(),ye||(fe(),ye=!0),Ne.add(v,h),h.B=0}}function Pm(h,v){return Rt(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=me(E(h.Ga,h,v),mu(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const K=new ht(this,this.j,h);let ne=this.o;if(this.S&&(ne?(ne=x(ne),N(ne,this.S)):ne=this.S),this.m!==null||this.O||(K.H=ne,ne=null),this.P)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var R=this.i[b];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=_f(this,K,v),b=Zn(this.I),St(b,"RID",h),St(b,"CVER",22),this.D&&St(b,"X-HTTP-Session-Id",this.D),js(this,b),ne&&(this.O?v="headers="+encodeURIComponent(String(cu(ne)))+"&"+v:this.m&&ln(b,this.m,ne)),Ni(this.h,K),this.Ua&&St(b,"TYPE","init"),this.P?(St(b,"$req",v),St(b,"SID","null"),K.T=!0,Jt(K,b,null)):Jt(K,b,v),this.G=2}}else this.G==3&&(h?hu(this,h):this.i.length==0||ni(this.h)||hu(this))};function hu(h,v){var b;v?b=v.l:b=h.U++;const R=Zn(h.I);St(R,"SID",h.K),St(R,"RID",b),St(R,"AID",h.T),js(h,R),h.m&&h.o&&ln(R,h.m,h.o),b=new ht(h,h.j,b,h.B+1),h.m===null&&(b.H=h.o),v&&(h.i=v.D.concat(h.i)),v=_f(h,b,1e3),b.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ni(h.h,b),Jt(b,R,v)}function js(h,v){h.H&&F(h.H,function(b,R){St(v,R,b)}),h.l&&au({},function(b,R){St(v,R,b)})}function _f(h,v,b){b=Math.min(h.i.length,b);var R=h.l?E(h.l.Na,h.l,h):null;e:{var K=h.i;let ne=-1;for(;;){const pe=["count="+b];ne==-1?0<b?(ne=K[0].g,pe.push("ofs="+ne)):ne=0:pe.push("ofs="+ne);let lt=!0;for(let en=0;en<b;en++){let ut=K[en].g;const un=K[en].map;if(ut-=ne,0>ut)ne=Math.max(0,K[en].g-100),lt=!1;else try{ii(un,pe,"req"+ut+"_")}catch{R&&R(un)}}if(lt){R=pe.join("&");break e}}}return h=h.i.splice(0,b),v.D=h,R}function Ef(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;fe||V(),ye||(fe(),ye=!0),Ne.add(v,h),h.v=0}}function du(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=me(E(h.Fa,h),mu(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,bf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=me(E(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,X(10),Vo(this),bf(this))};function zs(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function bf(h){h.g=new ht(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=Zn(h.qa);St(v,"RID","rpc"),St(v,"SID",h.K),St(v,"AID",h.T),St(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&St(v,"TO",h.ja),St(v,"TYPE","xmlhttp"),js(h,v),h.m&&h.o&&ln(v,h.m,h.o),h.L&&(h.g.I=h.L);var b=h.g;h=h.ia,b.L=1,b.v=Ns(Zn(v)),b.m=null,b.P=!0,Vn(b,h)}t.Za=function(){this.C!=null&&(this.C=null,Vo(this),du(this),X(19))};function zo(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function Sf(h,v){var b=null;if(h.g==v){zo(h),zs(h),h.g=null;var R=2}else if(vr(h.h,v))b=v.D,gn(h.h,v),R=1;else return;if(h.G!=0){if(v.o)if(R==1){b=v.m?v.m.length:0,v=Date.now()-v.F;var K=h.B;R=ei(),Ye(R,new oe(R,b)),jo(h)}else Ef(h);else if(K=v.s,K==3||K==0&&0<v.X||!(R==1&&Pm(h,v)||R==2&&du(h)))switch(b&&0<b.length&&(v=h.h,v.i=v.i.concat(b)),K){case 1:Vi(h,5);break;case 4:Vi(h,10);break;case 3:Vi(h,6);break;default:Vi(h,2)}}}function mu(h,v){let b=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(b*=2),b*v}function Vi(h,v){if(h.j.info("Error code "+v),v==2){var b=E(h.fb,h),R=h.Xa;const K=!R;R=new Qt(R||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ds(R,"https"),Ns(R),K?ks(R.toString(),b):Mr(R.toString(),b)}else X(2);h.G=0,h.l&&h.l.sa(v),Tf(h),vf(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),X(2)):(this.j.info("Failed to ping google.com"),X(1))};function Tf(h){if(h.G=0,h.ka=[],h.l){const v=iu(h.h);(v.length!=0||h.i.length!=0)&&(P(h.ka,v),P(h.ka,h.i),h.h.i.length=0,M(h.i),h.i.length=0),h.l.ra()}}function wf(h,v,b){var R=b instanceof Qt?Zn(b):new Qt(b);if(R.g!="")v&&(R.g=v+"."+R.g),Aa(R,R.s);else{var K=f.location;R=K.protocol,v=v?v+"."+K.hostname:K.hostname,K=+K.port;var ne=new Qt(null);R&&Ds(ne,R),v&&(ne.g=v),K&&Aa(ne,K),b&&(ne.l=b),R=ne}return b=h.D,v=h.ya,b&&v&&St(R,b,v),St(R,"VER",h.la),js(h,R),R}function Af(h,v,b){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new yt(new Ra({eb:b})):new yt(h.pa),v.Ha(h.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rf(){}t=Rf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Fo(){}Fo.prototype.g=function(h,v){return new zn(h,v)};function zn(h,v){mt.call(this),this.g=new Uo(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!G(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!G(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new li(this)}A(zn,mt),zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zn.prototype.close=function(){fu(this.g)},zn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.u&&(b={},b.__data__=Qn(h),h=b);v.i.push(new Wn(v.Ya++,h)),v.G==3&&jo(v)},zn.prototype.N=function(){this.g.l=null,delete this.j,fu(this.g),delete this.g,zn.aa.N.call(this)};function Cf(h){kr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const b in v){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}A(Cf,kr);function xf(){Sa.call(this),this.status=1}A(xf,Sa);function li(h){this.g=h}A(li,Rf),li.prototype.ua=function(){Ye(this.g,"a")},li.prototype.ta=function(h){Ye(this.g,new Cf(h))},li.prototype.sa=function(h){Ye(this.g,new xf)},li.prototype.ra=function(){Ye(this.g,"b")},Fo.prototype.createWebChannel=Fo.prototype.g,zn.prototype.send=zn.prototype.o,zn.prototype.open=zn.prototype.m,zn.prototype.close=zn.prototype.close,SC=function(){return new Fo},bC=function(){return ei()},EC=Un,ov={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},we.NO_ERROR=0,we.TIMEOUT=8,we.HTTP_ERROR=6,Wh=we,Le.COMPLETE="complete",_C=Le,Is.EventType=pr,pr.OPEN="a",pr.CLOSE="b",pr.ERROR="c",pr.MESSAGE="d",mt.prototype.listen=mt.prototype.K,mc=Is,yt.prototype.listenOnce=yt.prototype.L,yt.prototype.getLastError=yt.prototype.Ka,yt.prototype.getLastErrorCode=yt.prototype.Ba,yt.prototype.getStatus=yt.prototype.Z,yt.prototype.getResponseJson=yt.prototype.Oa,yt.prototype.getResponseText=yt.prototype.oa,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Ha,vC=yt}).apply(typeof Uh<"u"?Uh:typeof self<"u"?self:typeof window<"u"?window:{});const IT="@firebase/firestore",OT="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=new Cv("@firebase/firestore");function Sl(){return Eo.logLevel}function _e(t,...e){if(Eo.logLevel<=at.DEBUG){const n=e.map(u_);Eo.debug(`Firestore (${Jl}): ${t}`,...n)}}function fa(t,...e){if(Eo.logLevel<=at.ERROR){const n=e.map(u_);Eo.error(`Firestore (${Jl}): ${t}`,...n)}}function jl(t,...e){if(Eo.logLevel<=at.WARN){const n=e.map(u_);Eo.warn(`Firestore (${Jl}): ${t}`,...n)}}function u_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,TC(t,r,n)}function TC(t,e,n){let r=`FIRESTORE (${Jl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw fa(r),new Error(r)}function vt(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||TC(e,a,r)}function Ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends da{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class u9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dn.UNAUTHENTICATED))}shutdown(){}}class c9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class f9{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){vt(this.o===void 0,42304);let r=this.i;const a=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new aa;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new aa,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await a(this.currentUser)})},f=d=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>f(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?f(d):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new aa)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(vt(typeof r.accessToken=="string",31837,{l:r}),new wC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vt(e===null||typeof e=="string",2055,{h:e}),new Dn(e)}}class h9{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class d9{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new h9(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class m9{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){vt(this.o===void 0,3512);const r=o=>{o.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,_e("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const a=o=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new DT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(vt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new DT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=g9(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<n&&(r+=e.charAt(a[o]%62))}return r}}function Xe(t,e){return t<e?-1:t>e?1:0}function lv(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),a=e.codePointAt(n);if(r!==a){if(r<128&&a<128)return Xe(r,a);{const o=AC(),u=p9(o.encode(NT(t,n)),o.encode(NT(e,n)));return u!==0?u:Xe(r,a)}}n+=r>65535?2:1}return Xe(t.length,e.length)}function NT(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function p9(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Xe(t[n],e[n]);return Xe(t.length,e.length)}function zl(t,e,n){return t.length===e.length&&t.every((r,a)=>n(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=-62135596800,kT=1e6;class sn{static now(){return sn.fromMillis(Date.now())}static fromDate(e){return sn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*kT);return new sn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ie(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ie(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<PT)throw new Ie(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kT}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-PT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new sn(0,0))}static max(){return new $e(new sn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="__name__";class gi{constructor(e,n,r){n===void 0?n=0:n>e.length&&je(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&je(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return gi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const o=gi.compareSegments(e.get(a),n.get(a));if(o!==0)return o}return Xe(e.length,n.length)}static compareSegments(e,n){const r=gi.isNumericId(e),a=gi.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?gi.extractNumericId(e).compare(gi.extractNumericId(n)):lv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ss.fromString(e.substring(4,e.length-2))}}class Nt extends gi{construct(e,n,r){return new Nt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new Nt(n)}static emptyPath(){return new Nt([])}}const y9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tn extends gi{construct(e,n,r){return new Tn(e,n,r)}static isValidIdentifier(e){return y9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===MT}static keyField(){return new Tn([MT])}static fromServerFormat(e){const n=[];let r="",a=0;const o=()=>{if(r.length===0)throw new Ie(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new Ie(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ie(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(r+=f,a++):(o(),a++)}if(o(),u)throw new Ie(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tn(n)}static emptyPath(){return new Tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(Nt.fromString(e))}static fromName(e){return new Pe(Nt.fromString(e).popFirst(5))}static empty(){return new Pe(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new Nt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=-1;function v9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=$e.fromTimestamp(r===1e9?new sn(n+1,0):new sn(n,r));return new gs(a,Pe.empty(),e)}function _9(t){return new gs(t.readTime,t.key,zc)}class gs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new gs($e.min(),Pe.empty(),zc)}static max(){return new gs($e.max(),Pe.empty(),zc)}}function E9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Pe.comparator(t.documentKey,e.documentKey),n!==0?n:Xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class S9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==b9)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.reject(n)}static resolve(e){return new ce((n,r)=>{n(e)})}static reject(e){return new ce((n,r)=>{r(e)})}static waitFor(e){return new ce((n,r)=>{let a=0,o=0,u=!1;e.forEach(f=>{++a,f.next(()=>{++o,u&&o===a&&n()},d=>r(d))}),u=!0,o===a&&n()})}static or(e){let n=ce.resolve(!1);for(const r of e)n=n.next(a=>a?ce.resolve(a):r());return n}static forEach(e,n){const r=[];return e.forEach((a,o)=>{r.push(n.call(this,a,o))}),this.waitFor(r)}static mapArray(e,n){return new ce((r,a)=>{const o=e.length,u=new Array(o);let f=0;for(let d=0;d<o;d++){const g=d;n(e[g]).next(y=>{u[g]=y,++f,f===o&&r(u)},y=>a(y))}})}static doWhile(e,n){return new ce((r,a)=>{const o=()=>{e()===!0?n().next(()=>{o()},a):r()};o()})}}function T9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function tu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}dm.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=-1;function mm(t){return t==null}function kd(t){return t===0&&1/t==-1/0}function w9(t){return typeof t=="number"&&Number.isInteger(t)&&!kd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="";function A9(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=LT(e)),e=R9(t.get(n),e);return LT(e)}function R9(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const o=t.charAt(a);switch(o){case"\0":n+="";break;case CC:n+="";break;default:n+=o}}return n}function LT(t){return t+CC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ao(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){this.comparator=e,this.root=n||Sn.EMPTY}insert(e,n){return new Ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Sn.BLACK,null,null))}remove(e){return new Ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vh(this.root,e,this.comparator,!0)}}class Vh{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sn{constructor(e,n,r,a,o){this.key=e,this.value=n,this.color=r??Sn.RED,this.left=a??Sn.EMPTY,this.right=o??Sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,o){return new Sn(e??this.key,n??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,r),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Sn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw je(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw je(27949);return e+(this.isRed()?0:1)}}Sn.EMPTY=null,Sn.RED=!0,Sn.BLACK=!1;Sn.EMPTY=new class{constructor(){this.size=0}get key(){throw je(57766)}get value(){throw je(16141)}get color(){throw je(16727)}get left(){throw je(29726)}get right(){throw je(36894)}copy(e,n,r,a,o){return this}insert(e,n,r){return new Sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.comparator=e,this.data=new Ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new VT(this.data.getIterator())}getIteratorFrom(e){return new VT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof on)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new on(this.comparator);return n.data=e,n}}class VT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.fields=e,e.sort(Tn.comparator)}static empty(){return new Fr([])}unionWith(e){let n=new on(Tn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Fr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new IC("Invalid base64 string: "+o):o}}(e);return new wn(n)}static fromUint8Array(e){const n=function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o}(e);return new wn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wn.EMPTY_BYTE_STRING=new wn("");const C9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ps(t){if(vt(!!t,39018),typeof t=="string"){let e=0;const n=C9.exec(t);if(vt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ht(t.seconds),nanos:Ht(t.nanos)}}function Ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ys(t){return typeof t=="string"?wn.fromBase64String(t):wn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="server_timestamp",DC="__type__",NC="__previous_value__",PC="__local_write_time__";function f_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[DC])===null||n===void 0?void 0:n.stringValue)===OC}function gm(t){const e=t.mapValue.fields[NC];return f_(e)?gm(e):e}function Fc(t){const e=ps(t.mapValue.fields[PC].timestampValue);return new sn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e,n,r,a,o,u,f,d,g,y){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=d,this.useFetchStreams=g,this.isUsingEmulator=y}}const Md="(default)";class Bc{constructor(e,n){this.projectId=e,this.database=n||Md}static empty(){return new Bc("","")}get isDefaultDatabase(){return this.database===Md}isEqual(e){return e instanceof Bc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="__type__",I9="__max__",jh={mapValue:{}},MC="__vector__",Ld="value";function vs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?f_(t)?4:D9(t)?9007199254740991:O9(t)?10:11:je(28295,{value:t})}function Ri(t,e){if(t===e)return!0;const n=vs(t);if(n!==vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fc(t).isEqual(Fc(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=ps(a.timestampValue),f=ps(o.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,o){return ys(a.bytesValue).isEqual(ys(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,o){return Ht(a.geoPointValue.latitude)===Ht(o.geoPointValue.latitude)&&Ht(a.geoPointValue.longitude)===Ht(o.geoPointValue.longitude)}(t,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return Ht(a.integerValue)===Ht(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=Ht(a.doubleValue),f=Ht(o.doubleValue);return u===f?kd(u)===kd(f):isNaN(u)&&isNaN(f)}return!1}(t,e);case 9:return zl(t.arrayValue.values||[],e.arrayValue.values||[],Ri);case 10:case 11:return function(a,o){const u=a.mapValue.fields||{},f=o.mapValue.fields||{};if(UT(u)!==UT(f))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(f[d]===void 0||!Ri(u[d],f[d])))return!1;return!0}(t,e);default:return je(52216,{left:t})}}function Hc(t,e){return(t.values||[]).find(n=>Ri(n,e))!==void 0}function Fl(t,e){if(t===e)return 0;const n=vs(t),r=vs(e);if(n!==r)return Xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(t.booleanValue,e.booleanValue);case 2:return function(o,u){const f=Ht(o.integerValue||o.doubleValue),d=Ht(u.integerValue||u.doubleValue);return f<d?-1:f>d?1:f===d?0:isNaN(f)?isNaN(d)?0:-1:1}(t,e);case 3:return jT(t.timestampValue,e.timestampValue);case 4:return jT(Fc(t),Fc(e));case 5:return lv(t.stringValue,e.stringValue);case 6:return function(o,u){const f=ys(o),d=ys(u);return f.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,u){const f=o.split("/"),d=u.split("/");for(let g=0;g<f.length&&g<d.length;g++){const y=Xe(f[g],d[g]);if(y!==0)return y}return Xe(f.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,u){const f=Xe(Ht(o.latitude),Ht(u.latitude));return f!==0?f:Xe(Ht(o.longitude),Ht(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return zT(t.arrayValue,e.arrayValue);case 10:return function(o,u){var f,d,g,y;const _=o.fields||{},E=u.fields||{},T=(f=_[Ld])===null||f===void 0?void 0:f.arrayValue,A=(d=E[Ld])===null||d===void 0?void 0:d.arrayValue,M=Xe(((g=T==null?void 0:T.values)===null||g===void 0?void 0:g.length)||0,((y=A==null?void 0:A.values)===null||y===void 0?void 0:y.length)||0);return M!==0?M:zT(T,A)}(t.mapValue,e.mapValue);case 11:return function(o,u){if(o===jh.mapValue&&u===jh.mapValue)return 0;if(o===jh.mapValue)return 1;if(u===jh.mapValue)return-1;const f=o.fields||{},d=Object.keys(f),g=u.fields||{},y=Object.keys(g);d.sort(),y.sort();for(let _=0;_<d.length&&_<y.length;++_){const E=lv(d[_],y[_]);if(E!==0)return E;const T=Fl(f[d[_]],g[y[_]]);if(T!==0)return T}return Xe(d.length,y.length)}(t.mapValue,e.mapValue);default:throw je(23264,{Pe:n})}}function jT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xe(t,e);const n=ps(t),r=ps(e),a=Xe(n.seconds,r.seconds);return a!==0?a:Xe(n.nanos,r.nanos)}function zT(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const o=Fl(n[a],r[a]);if(o)return o}return Xe(n.length,r.length)}function Bl(t){return uv(t)}function uv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ps(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ys(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",a=!0;for(const o of n.values||[])a?a=!1:r+=",",r+=uv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const u of r)o?o=!1:a+=",",a+=`${u}:${uv(n.fields[u])}`;return a+"}"}(t.mapValue):je(61005,{value:t})}function Zh(t){switch(vs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gm(t);return e?16+Zh(e):16;case 5:return 2*t.stringValue.length;case 6:return ys(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,o)=>a+Zh(o),0)}(t.arrayValue);case 10:case 11:return function(r){let a=0;return Ao(r.fields,(o,u)=>{a+=o.length+Zh(u)}),a}(t.mapValue);default:throw je(13486,{value:t})}}function cv(t){return!!t&&"integerValue"in t}function h_(t){return!!t&&"arrayValue"in t}function FT(t){return!!t&&"nullValue"in t}function BT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jh(t){return!!t&&"mapValue"in t}function O9(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[kC])===null||n===void 0?void 0:n.stringValue)===MC}function wc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ao(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function D9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===I9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.value=e}static empty(){return new Nr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Jh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wc(n)}setAll(e){let n=Tn.emptyPath(),r={},a=[];e.forEach((u,f)=>{if(!n.isImmediateParentOf(f)){const d=this.getFieldsMap(n);this.applyChanges(d,r,a),r={},a=[],n=f.popLast()}u?r[f.lastSegment()]=wc(u):a.push(f.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,a)}delete(e){const n=this.field(e.popLast());Jh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ri(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Jh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){Ao(n,(a,o)=>e[a]=o);for(const a of r)delete e[a]}clone(){return new Nr(wc(this.value))}}function LC(t){const e=[];return Ao(t.fields,(n,r)=>{const a=new Tn([n]);if(Jh(r)){const o=LC(r.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)}),new Fr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n,r,a,o,u,f){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=o,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Nn(e,0,$e.min(),$e.min(),$e.min(),Nr.empty(),0)}static newFoundDocument(e,n,r,a){return new Nn(e,1,n,$e.min(),r,a,0)}static newNoDocument(e,n){return new Nn(e,2,n,$e.min(),$e.min(),Nr.empty(),0)}static newUnknownDocument(e,n){return new Nn(e,3,n,$e.min(),$e.min(),Nr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n){this.position=e,this.inclusive=n}}function HT(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const o=e[a],u=t.position[a];if(o.field.isKeyField()?r=Pe.comparator(Pe.fromName(u.referenceValue),n.key):r=Fl(u,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function qT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ri(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n="asc"){this.field=e,this.dir=n}}function N9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{}class an extends UC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new k9(e,n,r):n==="array-contains"?new U9(e,r):n==="in"?new V9(e,r):n==="not-in"?new j9(e,r):n==="array-contains-any"?new z9(e,r):new an(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new M9(e,r):new L9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Fl(n,this.value)):n!==null&&vs(this.value)===vs(n)&&this.matchesComparison(Fl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends UC{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Ci(e,n)}matches(e){return VC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function VC(t){return t.op==="and"}function jC(t){return P9(t)&&VC(t)}function P9(t){for(const e of t.filters)if(e instanceof Ci)return!1;return!0}function fv(t){if(t instanceof an)return t.field.canonicalString()+t.op.toString()+Bl(t.value);if(jC(t))return t.filters.map(e=>fv(e)).join(",");{const e=t.filters.map(n=>fv(n)).join(",");return`${t.op}(${e})`}}function zC(t,e){return t instanceof an?function(r,a){return a instanceof an&&r.op===a.op&&r.field.isEqual(a.field)&&Ri(r.value,a.value)}(t,e):t instanceof Ci?function(r,a){return a instanceof Ci&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((o,u,f)=>o&&zC(u,a.filters[f]),!0):!1}(t,e):void je(19439)}function FC(t){return t instanceof an?function(n){return`${n.field.canonicalString()} ${n.op} ${Bl(n.value)}`}(t):t instanceof Ci?function(n){return n.op.toString()+" {"+n.getFilters().map(FC).join(" ,")+"}"}(t):"Filter"}class k9 extends an{constructor(e,n,r){super(e,n,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const n=Pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class M9 extends an{constructor(e,n){super(e,"in",n),this.keys=BC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class L9 extends an{constructor(e,n){super(e,"not-in",n),this.keys=BC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function BC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Pe.fromName(r.referenceValue))}class U9 extends an{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return h_(n)&&Hc(n.arrayValue,this.value)}}class V9 extends an{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hc(this.value.arrayValue,n)}}class j9 extends an{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Hc(this.value.arrayValue,n)}}class z9 extends an{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!h_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Hc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e,n=null,r=[],a=[],o=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=u,this.endAt=f,this.Ie=null}}function $T(t,e=null,n=[],r=[],a=null,o=null,u=null){return new F9(t,e,n,r,a,o,u)}function d_(t){const e=Ge(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>fv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),mm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Bl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Bl(r)).join(",")),e.Ie=n}return e.Ie}function m_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!N9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!zC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qT(t.startAt,e.startAt)&&qT(t.endAt,e.endAt)}function hv(t){return Pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,n=null,r=[],a=[],o=null,u="F",f=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=u,this.startAt=f,this.endAt=d,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function B9(t,e,n,r,a,o,u,f){return new pm(t,e,n,r,a,o,u,f)}function g_(t){return new pm(t)}function GT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function H9(t){return t.collectionGroup!==null}function Ac(t){const e=Ge(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new on(Tn.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(g=>{g.isInequality()&&(f=f.add(g.field))})}),f})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Vd(o,r))}),n.has(Tn.keyField().canonicalString())||e.Ee.push(new Vd(Tn.keyField(),r))}return e.Ee}function Ti(t){const e=Ge(t);return e.de||(e.de=q9(e,Ac(t))),e.de}function q9(t,e){if(t.limitType==="F")return $T(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new Vd(a.field,o)});const n=t.endAt?new Ud(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ud(t.startAt.position,t.startAt.inclusive):null;return $T(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function dv(t,e,n){return new pm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ym(t,e){return m_(Ti(t),Ti(e))&&t.limitType===e.limitType}function HC(t){return`${d_(Ti(t))}|lt:${t.limitType}`}function Tl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>FC(a)).join(", ")}]`),mm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>Bl(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>Bl(a)).join(",")),`Target(${r})`}(Ti(t))}; limitType=${t.limitType})`}function vm(t,e){return e.isFoundDocument()&&function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Pe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,a){for(const o of Ac(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0}(t,e)&&function(r,a){return!(r.startAt&&!function(u,f,d){const g=HT(u,f,d);return u.inclusive?g<=0:g<0}(r.startAt,Ac(r),a)||r.endAt&&!function(u,f,d){const g=HT(u,f,d);return u.inclusive?g>=0:g>0}(r.endAt,Ac(r),a))}(t,e)}function $9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qC(t){return(e,n)=>{let r=!1;for(const a of Ac(t)){const o=G9(a,e,n);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function G9(t,e,n){const r=t.field.isKeyField()?Pe.comparator(e.key,n.key):function(o,u,f){const d=u.data.field(o),g=f.data.field(o);return d!==null&&g!==null?Fl(d,g):je(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return je(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ao(this.inner,(n,r)=>{for(const[a,o]of r)e(a,o)})}isEmpty(){return xC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9=new Ut(Pe.comparator);function ha(){return K9}const $C=new Ut(Pe.comparator);function gc(...t){let e=$C;for(const n of t)e=e.insert(n.key,n);return e}function GC(t){let e=$C;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function oo(){return Rc()}function KC(){return Rc()}function Rc(){return new Ro(t=>t.toString(),(t,e)=>t.isEqual(e))}const Y9=new Ut(Pe.comparator),Q9=new on(Pe.comparator);function st(...t){let e=Q9;for(const n of t)e=e.add(n);return e}const X9=new on(Xe);function W9(){return X9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kd(e)?"-0":e}}function YC(t){return{integerValue:""+t}}function Z9(t,e){return w9(e)?YC(e):p_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(){this._=void 0}}function J9(t,e,n){return t instanceof jd?function(a,o){const u={fields:{[DC]:{stringValue:OC},[PC]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&f_(o)&&(o=gm(o)),o&&(u.fields[NC]=o),{mapValue:u}}(n,e):t instanceof qc?XC(t,e):t instanceof $c?WC(t,e):function(a,o){const u=QC(a,o),f=KT(u)+KT(a.Re);return cv(u)&&cv(a.Re)?YC(f):p_(a.serializer,f)}(t,e)}function e5(t,e,n){return t instanceof qc?XC(t,e):t instanceof $c?WC(t,e):n}function QC(t,e){return t instanceof zd?function(r){return cv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class jd extends _m{}class qc extends _m{constructor(e){super(),this.elements=e}}function XC(t,e){const n=ZC(e);for(const r of t.elements)n.some(a=>Ri(a,r))||n.push(r);return{arrayValue:{values:n}}}class $c extends _m{constructor(e){super(),this.elements=e}}function WC(t,e){let n=ZC(e);for(const r of t.elements)n=n.filter(a=>!Ri(a,r));return{arrayValue:{values:n}}}class zd extends _m{constructor(e,n){super(),this.serializer=e,this.Re=n}}function KT(t){return Ht(t.integerValue||t.doubleValue)}function ZC(t){return h_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function t5(t,e){return t.field.isEqual(e.field)&&function(r,a){return r instanceof qc&&a instanceof qc||r instanceof $c&&a instanceof $c?zl(r.elements,a.elements,Ri):r instanceof zd&&a instanceof zd?Ri(r.Re,a.Re):r instanceof jd&&a instanceof jd}(t.transform,e.transform)}class n5{constructor(e,n){this.version=e,this.transformResults=n}}class wi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ed(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Em{}function JC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new y_(t.key,wi.none()):new of(t.key,t.data,wi.none());{const n=t.data,r=Nr.empty();let a=new on(Tn.comparator);for(let o of e.fields)if(!a.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?r.delete(o):r.set(o,u),a=a.add(o)}return new Co(t.key,r,new Fr(a.toArray()),wi.none())}}function r5(t,e,n){t instanceof of?function(a,o,u){const f=a.value.clone(),d=QT(a.fieldTransforms,o,u.transformResults);f.setAll(d),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(t,e,n):t instanceof Co?function(a,o,u){if(!ed(a.precondition,o))return void o.convertToUnknownDocument(u.version);const f=QT(a.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(ex(a)),d.setAll(f),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(t,e,n):function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Cc(t,e,n,r){return t instanceof of?function(o,u,f,d){if(!ed(o.precondition,u))return f;const g=o.value.clone(),y=XT(o.fieldTransforms,d,u);return g.setAll(y),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(t,e,n,r):t instanceof Co?function(o,u,f,d){if(!ed(o.precondition,u))return f;const g=XT(o.fieldTransforms,d,u),y=u.data;return y.setAll(ex(o)),y.setAll(g),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),f===null?null:f.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(o,u,f){return ed(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(t,e,n)}function i5(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),o=QC(r.transform,a||null);o!=null&&(n===null&&(n=Nr.empty()),n.set(r.field,o))}return n||null}function YT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&zl(r,a,(o,u)=>t5(o,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class of extends Em{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Co extends Em{constructor(e,n,r,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function ex(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function QT(t,e,n){const r=new Map;vt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let a=0;a<n.length;a++){const o=t[a],u=o.transform,f=e.data.field(o.field);r.set(o.field,e5(u,f,n[a]))}return r}function XT(t,e,n){const r=new Map;for(const a of t){const o=a.transform,u=n.data.field(a.field);r.set(a.field,J9(o,u,e))}return r}class y_ extends Em{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class a5 extends Em{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&r5(o,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Cc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Cc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=KC();return this.mutations.forEach(a=>{const o=e.get(a.key),u=o.overlayedDocument;let f=this.applyToLocalView(u,o.mutatedFields);f=n.has(a.key)?null:f;const d=JC(u,f);d!==null&&r.set(a.key,d),u.isValidDocument()||u.convertToNoDocument($e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),st())}isEqual(e){return this.batchId===e.batchId&&zl(this.mutations,e.mutations,(n,r)=>YT(n,r))&&zl(this.baseMutations,e.baseMutations,(n,r)=>YT(n,r))}}class v_{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){vt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let a=function(){return Y9}();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,r[u].version);return new v_(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt,ft;function u5(t){switch(t){case he.OK:return je(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return je(15467,{code:t})}}function tx(t){if(t===void 0)return fa("GRPC error has no .code"),he.UNKNOWN;switch(t){case Zt.OK:return he.OK;case Zt.CANCELLED:return he.CANCELLED;case Zt.UNKNOWN:return he.UNKNOWN;case Zt.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Zt.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Zt.INTERNAL:return he.INTERNAL;case Zt.UNAVAILABLE:return he.UNAVAILABLE;case Zt.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Zt.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Zt.NOT_FOUND:return he.NOT_FOUND;case Zt.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Zt.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Zt.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Zt.ABORTED:return he.ABORTED;case Zt.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Zt.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Zt.DATA_LOSS:return he.DATA_LOSS;default:return je(39323,{code:t})}}(ft=Zt||(Zt={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5=new ss([4294967295,4294967295],0);function WT(t){const e=AC().encode(t),n=new yC;return n.update(e),new Uint8Array(n.digest())}function ZT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ss([n,r],0),new ss([a,o],0)]}class __{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new pc(`Invalid padding: ${n}`);if(r<0)throw new pc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new pc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new pc(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=ss.fromNumber(this.pe)}we(e,n,r){let a=e.add(n.multiply(ss.fromNumber(r)));return a.compare(c5)===1&&(a=new ss([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=WT(e),[r,a]=ZT(n);for(let o=0;o<this.hashCount;o++){const u=this.we(r,a,o);if(!this.be(u))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new __(o,a,n);return r.forEach(f=>u.insert(f)),u}insert(e){if(this.pe===0)return;const n=WT(e),[r,a]=ZT(n);for(let o=0;o<this.hashCount;o++){const u=this.we(r,a,o);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class pc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n,r,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,lf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new bm($e.min(),a,new Ut(Xe),ha(),st())}}class lf{constructor(e,n,r,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new lf(r,n,st(),st(),st())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n,r,a){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=a}}class nx{constructor(e,n){this.targetId=e,this.Ce=n}}class rx{constructor(e,n,r=wn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class JT{constructor(){this.Fe=0,this.Me=ew(),this.xe=wn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=st(),n=st(),r=st();return this.Me.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:je(38017,{changeType:o})}}),new lf(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=ew()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,vt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class f5{constructor(e){this.ze=e,this.je=new Map,this.He=ha(),this.Je=zh(),this.Ye=zh(),this.Ze=new Ut(Xe)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:je(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,a)=>{this.it(a)&&n(a)})}ot(e){const n=e.targetId,r=e.Ce.count,a=this._t(n);if(a){const o=a.target;if(hv(o))if(r===0){const u=new Pe(o.path);this.tt(n,u,Nn.newNoDocument(u,$e.min()))}else vt(r===1,20013,{expectedCount:r});else{const u=this.ut(n);if(u!==r){const f=this.ct(e),d=f?this.lt(f,e,u):1;if(d!==0){this.st(n);const g=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=n;let u,f;try{u=ys(r).toUint8Array()}catch(d){if(d instanceof IC)return jl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{f=new __(u,a,o)}catch(d){return jl(d instanceof pc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return f.pe===0?null:f}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let a=0;return r.forEach(o=>{const u=this.ze.Pt(),f=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(f)||(this.tt(n,o,null),a++)}),a}It(e){const n=new Map;this.je.forEach((o,u)=>{const f=this._t(u);if(f){if(o.current&&hv(f.target)){const d=new Pe(f.target.path);this.Et(d).has(u)||this.dt(u,d)||this.tt(u,d,Nn.newNoDocument(d,e))}o.Le&&(n.set(u,o.qe()),o.Qe())}});let r=st();this.Ye.forEach((o,u)=>{let f=!0;u.forEachWhile(d=>{const g=this._t(d);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const a=new bm(e,n,this.Ze,this.He,r);return this.He=ha(),this.Je=zh(),this.Ye=zh(),this.Ze=new Ut(Xe),a}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const a=this.rt(e);this.dt(e,n)?a.$e(n,1):a.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new JT,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new on(Xe),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new on(Xe),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new JT),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function zh(){return new Ut(Pe.comparator)}function ew(){return new Ut(Pe.comparator)}const h5={asc:"ASCENDING",desc:"DESCENDING"},d5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},m5={and:"AND",or:"OR"};class g5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mv(t,e){return t.useProto3Json||mm(e)?e:{value:e}}function Fd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ix(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function p5(t,e){return Fd(t,e.toTimestamp())}function Ai(t){return vt(!!t,49232),$e.fromTimestamp(function(n){const r=ps(n);return new sn(r.seconds,r.nanos)}(t))}function E_(t,e){return gv(t,e).canonicalString()}function gv(t,e){const n=function(a){return new Nt(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ax(t){const e=Nt.fromString(t);return vt(cx(e),10190,{key:e.toString()}),e}function pv(t,e){return E_(t.databaseId,e.path)}function uy(t,e){const n=ax(e);if(n.get(1)!==t.databaseId.projectId)throw new Ie(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ie(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Pe(ox(n))}function sx(t,e){return E_(t.databaseId,e)}function y5(t){const e=ax(t);return e.length===4?Nt.emptyPath():ox(e)}function yv(t){return new Nt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ox(t){return vt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function tw(t,e,n){return{name:pv(t,e),fields:n.value.mapValue.fields}}function v5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:je(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(g,y){return g.useProto3Json?(vt(y===void 0||typeof y=="string",58123),wn.fromBase64String(y||"")):(vt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),wn.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(g){const y=g.code===void 0?he.UNKNOWN:tx(g.code);return new Ie(y,g.message||"")}(u);n=new rx(r,a,o,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=uy(t,r.document.name),o=Ai(r.document.updateTime),u=r.document.createTime?Ai(r.document.createTime):$e.min(),f=new Nr({mapValue:{fields:r.document.fields}}),d=Nn.newFoundDocument(a,o,u,f),g=r.targetIds||[],y=r.removedTargetIds||[];n=new td(g,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=uy(t,r.document),o=r.readTime?Ai(r.readTime):$e.min(),u=Nn.newNoDocument(a,o),f=r.removedTargetIds||[];n=new td([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=uy(t,r.document),o=r.removedTargetIds||[];n=new td([],o,a,null)}else{if(!("filter"in e))return je(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,u=new l5(a,o),f=r.targetId;n=new nx(f,u)}}return n}function _5(t,e){let n;if(e instanceof of)n={update:tw(t,e.key,e.value)};else if(e instanceof y_)n={delete:pv(t,e.key)};else if(e instanceof Co)n={update:tw(t,e.key,e.data),updateMask:x5(e.fieldMask)};else{if(!(e instanceof a5))return je(16599,{ft:e.type});n={verify:pv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const f=u.transform;if(f instanceof jd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof qc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof $c)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof zd)return{fieldPath:u.field.canonicalString(),increment:f.Re};throw je(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:p5(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:je(27497)}(t,e.precondition)),n}function E5(t,e){return t&&t.length>0?(vt(e!==void 0,14353),t.map(n=>function(a,o){let u=a.updateTime?Ai(a.updateTime):Ai(o);return u.isEqual($e.min())&&(u=Ai(o)),new n5(u,a.transformResults||[])}(n,e))):[]}function b5(t,e){return{documents:[sx(t,e.path)]}}function S5(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sx(t,a);const o=function(g){if(g.length!==0)return ux(Ci.create(g,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const u=function(g){if(g.length!==0)return g.map(y=>function(E){return{field:wl(E.field),direction:A5(E.dir)}}(y))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=mv(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:a}}function T5(t){let e=y5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){vt(r===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let o=[];n.where&&(o=function(_){const E=lx(_);return E instanceof Ci&&jC(E)?E.getFilters():[E]}(n.where));let u=[];n.orderBy&&(u=function(_){return _.map(E=>function(A){return new Vd(Al(A.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(E))}(n.orderBy));let f=null;n.limit&&(f=function(_){let E;return E=typeof _=="object"?_.value:_,mm(E)?null:E}(n.limit));let d=null;n.startAt&&(d=function(_){const E=!!_.before,T=_.values||[];return new Ud(T,E)}(n.startAt));let g=null;return n.endAt&&(g=function(_){const E=!_.before,T=_.values||[];return new Ud(T,E)}(n.endAt)),B9(e,a,u,o,f,"F",d,g)}function w5(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Al(n.unaryFilter.field);return an.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Al(n.unaryFilter.field);return an.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Al(n.unaryFilter.field);return an.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Al(n.unaryFilter.field);return an.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return je(61313);default:return je(60726)}}(t):t.fieldFilter!==void 0?function(n){return an.create(Al(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return je(58110);default:return je(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ci.create(n.compositeFilter.filters.map(r=>lx(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return je(1026)}}(n.compositeFilter.op))}(t):je(30097,{filter:t})}function A5(t){return h5[t]}function R5(t){return d5[t]}function C5(t){return m5[t]}function wl(t){return{fieldPath:t.canonicalString()}}function Al(t){return Tn.fromServerFormat(t.fieldPath)}function ux(t){return t instanceof an?function(n){if(n.op==="=="){if(BT(n.value))return{unaryFilter:{field:wl(n.field),op:"IS_NAN"}};if(FT(n.value))return{unaryFilter:{field:wl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(BT(n.value))return{unaryFilter:{field:wl(n.field),op:"IS_NOT_NAN"}};if(FT(n.value))return{unaryFilter:{field:wl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wl(n.field),op:R5(n.op),value:n.value}}}(t):t instanceof Ci?function(n){const r=n.getFilters().map(a=>ux(a));return r.length===1?r[0]:{compositeFilter:{op:C5(n.op),filters:r}}}(t):je(54877,{filter:t})}function x5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n,r,a,o=$e.min(),u=$e.min(),f=wn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=d}withSequenceNumber(e){return new ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e){this.wt=e}}function O5(t){const e=T5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(){this.Cn=new N5}addToCollectionParentIndex(e,n){return this.Cn.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(gs.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(gs.min())}updateCollectionGroup(e,n,r){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class N5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new on(Nt.comparator),o=!a.has(r);return this.index[n]=a.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new on(Nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fx=41943040;class Gn{static withCacheSize(e){return new Gn(e,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn.DEFAULT_COLLECTION_PERCENTILE=10,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gn.DEFAULT=new Gn(fx,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gn.DISABLED=new Gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Hl(0)}static lr(){return new Hl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="LruGarbageCollector",P5=1048576;function iw([t,e],[n,r]){const a=Xe(t,n);return a===0?Xe(e,r):a}class k5{constructor(e){this.Er=e,this.buffer=new on(iw),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();iw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class M5{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){_e(rw,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){tu(n)?_e(rw,"Ignoring IndexedDB error during garbage collection: ",n):await eu(n)}await this.mr(3e5)})}}class L5{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ce.resolve(dm.le);const r=new k5(n);return this.gr.forEachTarget(e,a=>r.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>r.Rr(a))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(nw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nw):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,a,o,u,f,d,g;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(r=_,f=Date.now(),this.removeTargets(e,r,n))).next(_=>(o=_,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(g=Date.now(),Sl()<=at.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${o} targets in `+(d-f)+`ms
	Removed ${_} documents in `+(g-d)+`ms
Total Duration: ${g-y}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:_})))}}function U5(t,e){return new L5(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(){this.changes=new Ro(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(r!==null&&Cc(r.mutation,a,Fr.empty(),sn.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,st()).next(()=>r))}getLocalViewOfDocuments(e,n,r=st()){const a=oo();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,r).next(o=>{let u=gc();return o.forEach((f,d)=>{u=u.insert(f,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=oo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,st()))}populateOverlays(e,n,r){const a=[];return r.forEach(o=>{n.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((u,f)=>{n.set(u,f)})})}computeViews(e,n,r,a){let o=ha();const u=Rc(),f=function(){return Rc()}();return n.forEach((d,g)=>{const y=r.get(g.key);a.has(g.key)&&(y===void 0||y.mutation instanceof Co)?o=o.insert(g.key,g):y!==void 0?(u.set(g.key,y.mutation.getFieldMask()),Cc(y.mutation,g,y.mutation.getFieldMask(),sn.now())):u.set(g.key,Fr.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((g,y)=>u.set(g,y)),n.forEach((g,y)=>{var _;return f.set(g,new j5(y,(_=u.get(g))!==null&&_!==void 0?_:null))}),f))}recalculateAndSaveOverlays(e,n){const r=Rc();let a=new Ut((u,f)=>u-f),o=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const f of u)f.keys().forEach(d=>{const g=n.get(d);if(g===null)return;let y=r.get(d)||Fr.empty();y=f.applyToLocalView(g,y),r.set(d,y);const _=(a.get(f.batchId)||st()).add(d);a=a.insert(f.batchId,_)})}).next(()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const d=f.getNext(),g=d.key,y=d.value,_=KC();y.forEach(E=>{if(!o.has(E)){const T=JC(n.get(E),r.get(E));T!==null&&_.set(E,T),o=o.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,g,_))}return ce.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,a){return function(u){return Pe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):H9(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next(o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-o.size):ce.resolve(oo());let f=zc,d=o;return u.next(g=>ce.forEach(g,(y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),o.get(y)?ce.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{d=d.insert(y,E)}))).next(()=>this.populateOverlays(e,g,o)).next(()=>this.computeViews(e,d,g,st())).next(y=>({batchId:f,changes:GC(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pe(n)).next(r=>{let a=gc();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const o=n.collectionGroup;let u=gc();return this.indexManager.getCollectionParents(e,o).next(f=>ce.forEach(f,d=>{const g=function(_,E){return new pm(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,g,r,a).next(y=>{y.forEach((_,E)=>{u=u.insert(_,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,a))).next(u=>{o.forEach((d,g)=>{const y=g.getKey();u.get(y)===null&&(u=u.insert(y,Nn.newInvalidDocument(y)))});let f=gc();return u.forEach((d,g)=>{const y=o.get(d);y!==void 0&&Cc(y.mutation,g,Fr.empty(),sn.now()),vm(n,g)&&(f=f.insert(d,g))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ce.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Ai(a.createTime)}}(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(a){return{name:a.name,query:O5(a.bundledQuery),readTime:Ai(a.readTime)}}(n)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(){this.overlays=new Ut(Pe.comparator),this.Qr=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=oo();return ce.forEach(n,a=>this.getOverlay(e,a).next(o=>{o!==null&&r.set(a,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((a,o)=>{this.St(e,n,o)}),ce.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.Qr.get(r);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),ce.resolve()}getOverlaysForCollection(e,n,r){const a=oo(),o=n.length+1,u=new Pe(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const d=f.getNext().value,g=d.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===o&&d.largestBatchId>r&&a.set(d.getKey(),d)}return ce.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let o=new Ut((g,y)=>g-y);const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let y=o.get(g.largestBatchId);y===null&&(y=oo(),o=o.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const f=oo(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((g,y)=>f.set(g,y)),!(f.size()>=a)););return ce.resolve(f)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.Qr.get(a.largestBatchId).delete(r.key);this.Qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new o5(n,r));let o=this.Qr.get(n);o===void 0&&(o=st(),this.Qr.set(n,o)),this.Qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(){this.sessionToken=wn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(){this.$r=new on(dn.Ur),this.Kr=new on(dn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new dn(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new dn(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Pe(new Nt([])),r=new dn(n,e),a=new dn(n,e+1),o=[];return this.Kr.forEachInRange([r,a],u=>{this.zr(u),o.push(u.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Pe(new Nt([])),r=new dn(n,e),a=new dn(n,e+1);let o=st();return this.Kr.forEachInRange([r,a],u=>{o=o.add(u.key)}),o}containsKey(e){const n=new dn(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class dn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Pe.comparator(e.key,n.key)||Xe(e.Zr,n.Zr)}static Wr(e,n){return Xe(e.Zr,n.Zr)||Pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new on(dn.Ur)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new s5(o,n,r,a);this.mutationQueue.push(u);for(const f of a)this.Xr=this.Xr.add(new dn(f.key,o)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ce.resolve(u)}lookupMutationBatch(e,n){return ce.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ti(r),o=a<0?0:a;return ce.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?c_:this.nr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dn(n,0),a=new dn(n,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,a],u=>{const f=this.ei(u.Zr);o.push(f)}),ce.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new on(Xe);return n.forEach(a=>{const o=new dn(a,0),u=new dn(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,u],f=>{r=r.add(f.Zr)})}),ce.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let o=r;Pe.isDocumentKey(o)||(o=o.child(""));const u=new dn(new Pe(o),0);let f=new on(Xe);return this.Xr.forEachWhile(d=>{const g=d.key.path;return!!r.isPrefixOf(g)&&(g.length===a&&(f=f.add(d.Zr)),!0)},u),ce.resolve(this.ni(f))}ni(e){const n=[];return e.forEach(r=>{const a=this.ei(r);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){vt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return ce.forEach(n.mutations,a=>{const o=new dn(a.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new dn(n,0),a=this.Xr.firstAfterOrEqual(r);return ce.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e){this.ii=e,this.docs=function(){return new Ut(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),o=a?a.size:0,u=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ce.resolve(r?r.document.mutableCopy():Nn.newInvalidDocument(n))}getEntries(e,n){let r=ha();return n.forEach(a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():Nn.newInvalidDocument(a))}),ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let o=ha();const u=n.path,f=new Pe(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(f);for(;d.hasNext();){const{key:g,value:{document:y}}=d.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||E9(_9(y),r)<=0||(a.has(y.key)||vm(n,y))&&(o=o.insert(y.key,y.mutableCopy()))}return ce.resolve(o)}getAllFromCollectionGroup(e,n,r,a){je(9500)}si(e,n){return ce.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new G5(this)}getSize(e){return ce.resolve(this.size)}}class G5 extends V5{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.Br.addEntry(e,a)):this.Br.removeEntry(r)}),ce.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e){this.persistence=e,this.oi=new Ro(n=>d_(n),m_),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this._i=0,this.ai=new b_,this.targetCount=0,this.ui=Hl.cr()}forEachTarget(e,n){return this.oi.forEach((r,a)=>n(a)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),ce.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Hl(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.Tr(n),ce.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,r){let a=0;const o=[];return this.oi.forEach((u,f)=>{f.sequenceNumber<=n&&r.get(f.targetId)===null&&(this.oi.delete(u),o.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),ce.waitFor(o).next(()=>a)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return ce.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),ce.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach(u=>{o.push(a.markPotentiallyOrphaned(e,u))}),ce.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return ce.resolve(r)}containsKey(e,n){return ce.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,n){this.ci={},this.overlays={},this.li=new dm(0),this.hi=!1,this.hi=!0,this.Pi=new H5,this.referenceDelegate=e(this),this.Ti=new K5(this),this.indexManager=new D5,this.remoteDocumentCache=function(a){return new $5(a)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new I5(n),this.Ei=new F5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new B5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new q5(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){_e("MemoryPersistence","Starting transaction:",e);const a=new Y5(this.li.next());return this.referenceDelegate.di(),r(a).next(o=>this.referenceDelegate.Ai(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}Ri(e,n){return ce.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class Y5 extends S9{constructor(e){super(),this.currentSequenceNumber=e}}class S_{constructor(e){this.persistence=e,this.Vi=new b_,this.mi=null}static fi(e){return new S_(e)}get gi(){if(this.mi)return this.mi;throw je(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),ce.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ce.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(a=>this.gi.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.gi,r=>{const a=Pe.fromPath(r);return this.pi(e,a).next(o=>{o||n.removeEntry(a,$e.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ce.or([()=>ce.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Bd{constructor(e,n){this.persistence=e,this.yi=new Ro(r=>A9(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=U5(this,n)}static fi(e,n){return new Bd(e,n)}di(){}Ai(e){return ce.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(a=>r+a))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return ce.forEach(this.yi,(r,a)=>this.Dr(e,r,a).next(o=>o?ce.resolve():n(a)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.si(e,u=>this.Dr(e,u,n).next(f=>{f||(r++,o.removeEntry(u,$e.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ce.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ce.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ce.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zh(e.data.value)),n}Dr(e,n,r){return ce.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.yi.get(n);return ce.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.ds=r,this.As=a}static Rs(e,n){let r=st(),a=st();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new T_(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return DO()?8:T9(Pn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,a){const o={result:null};return this.ws(e,n).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.bs(e,n,a,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new Q5;return this.Ss(e,n,u).next(f=>{if(o.result=f,this.fs)return this.Ds(e,n,u,f.size)})}).next(()=>o.result)}Ds(e,n,r,a){return r.documentReadCount<this.gs?(Sl()<=at.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Tl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ce.resolve()):(Sl()<=at.DEBUG&&_e("QueryEngine","Query:",Tl(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ps*a?(Sl()<=at.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Tl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ti(n))):ce.resolve())}ws(e,n){if(GT(n))return ce.resolve(null);let r=Ti(n);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=dv(n,null,"F"),r=Ti(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=st(...o);return this.ys.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,r).next(d=>{const g=this.vs(n,f);return this.Cs(n,g,u,d.readTime)?this.ws(e,dv(n,null,"F")):this.Fs(e,g,n,d)}))})))}bs(e,n,r,a){return GT(n)||a.isEqual($e.min())?ce.resolve(null):this.ys.getDocuments(e,r).next(o=>{const u=this.vs(n,o);return this.Cs(n,u,r,a)?ce.resolve(null):(Sl()<=at.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Tl(n)),this.Fs(e,u,n,v9(a,zc)).next(f=>f))})}vs(e,n){let r=new on(qC(e));return n.forEach((a,o)=>{vm(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,n,r){return Sl()<=at.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Tl(n)),this.ys.getDocumentsMatchingQuery(e,n,gs.min(),r)}Fs(e,n,r,a){return this.ys.getDocumentsMatchingQuery(e,r,a).next(o=>(n.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="LocalStore",W5=3e8;class Z5{constructor(e,n,r,a){this.persistence=e,this.Ms=n,this.serializer=a,this.xs=new Ut(Xe),this.Os=new Ro(o=>d_(o),m_),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new z5(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function J5(t,e,n,r){return new Z5(t,e,n,r)}async function dx(t,e){const n=Ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(o=>(a=o,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],f=[];let d=st();for(const g of a){u.push(g.batchId);for(const y of g.mutations)d=d.add(y.key)}for(const g of o){f.push(g.batchId);for(const y of g.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(r,d).next(g=>({ks:g,removedBatchIds:u,addedBatchIds:f}))})})}function ej(t,e){const n=Ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),o=n.Bs.newChangeBuffer({trackRemovals:!0});return function(f,d,g,y){const _=g.batch,E=_.keys();let T=ce.resolve();return E.forEach(A=>{T=T.next(()=>y.getEntry(d,A)).next(M=>{const P=g.docVersions.get(A);vt(P!==null,48541),M.version.compareTo(P)<0&&(_.applyToRemoteDocument(M,g),M.isValidDocument()&&(M.setReadTime(g.commitVersion),y.addEntry(M)))})}),T.next(()=>f.mutationQueue.removeMutationBatch(d,_))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let d=st();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(d=d.add(f.batch.mutations[g].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,a))})}function mx(t){const e=Ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function tj(t,e){const n=Ge(t),r=e.snapshotVersion;let a=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=n.Bs.newChangeBuffer({trackRemovals:!0});a=n.xs;const f=[];e.targetChanges.forEach((y,_)=>{const E=a.get(_);if(!E)return;f.push(n.Ti.removeMatchingKeys(o,y.removedDocuments,_).next(()=>n.Ti.addMatchingKeys(o,y.addedDocuments,_)));let T=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?T=T.withResumeToken(wn.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):y.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(y.resumeToken,r)),a=a.insert(_,T),function(M,P,j){return M.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=W5?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(E,T,y)&&f.push(n.Ti.updateTargetData(o,T))});let d=ha(),g=st();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(o,y))}),f.push(nj(o,u,e.documentUpdates).next(y=>{d=y.qs,g=y.Qs})),!r.isEqual($e.min())){const y=n.Ti.getLastRemoteSnapshotVersion(o).next(_=>n.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));f.push(y)}return ce.waitFor(f).next(()=>u.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,d,g)).next(()=>d)}).then(o=>(n.xs=a,o))}function nj(t,e,n){let r=st(),a=st();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let u=ha();return n.forEach((f,d)=>{const g=o.get(f);d.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(f)),d.isNoDocument()&&d.version.isEqual($e.min())?(e.removeEntry(f,d.readTime),u=u.insert(f,d)):!g.isValidDocument()||d.version.compareTo(g.version)>0||d.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(d),u=u.insert(f,d)):_e(w_,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",d.version)}),{qs:u,Qs:a}})}function rj(t,e){const n=Ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=c_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ij(t,e){const n=Ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.Ti.getTargetData(r,e).next(o=>o?(a=o,ce.resolve(a)):n.Ti.allocateTargetId(r).next(u=>(a=new ns(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.xs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function vv(t,e,n){const r=Ge(t),a=r.xs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!tu(u))throw u;_e(w_,`Failed to update sequence numbers for target ${e}: ${u}`)}r.xs=r.xs.remove(e),r.Os.delete(a.target)}function aw(t,e,n){const r=Ge(t);let a=$e.min(),o=st();return r.persistence.runTransaction("Execute query","readwrite",u=>function(d,g,y){const _=Ge(d),E=_.Os.get(y);return E!==void 0?ce.resolve(_.xs.get(E)):_.Ti.getTargetData(g,y)}(r,u,Ti(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(u,f.targetId).next(d=>{o=d})}).next(()=>r.Ms.getDocumentsMatchingQuery(u,e,n?a:$e.min(),n?o:st())).next(f=>(aj(r,$9(e),f),{documents:f,$s:o})))}function aj(t,e,n){let r=t.Ns.get(e)||$e.min();n.forEach((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ns.set(e,r)}class sw{constructor(){this.activeTargetIds=W9()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sj{constructor(){this.xo=new sw,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new sw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="ConnectivityMonitor";class lw{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){_e(ow,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){_e(ow,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fh=null;function _v(){return Fh===null?Fh=function(){return 268435456+Math.round(2147483648*Math.random())}():Fh++,"0x"+Fh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="RestConnection",lj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uj{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${a}`,this.Go=this.databaseId.database===Md?`project_id=${r}`:`project_id=${r}&database_id=${a}`}zo(e,n,r,a,o){const u=_v(),f=this.jo(e,n.toUriEncodedString());_e(cy,`Sending RPC '${e}' ${u}:`,f,r);const d={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(d,a,o);const{host:g}=new URL(f),y=Kl(g);return this.Jo(e,f,d,r,y).then(_=>(_e(cy,`Received RPC '${e}' ${u}: `,_),_),_=>{throw jl(cy,`RPC '${e}' ${u} failed with error: `,_,"url: ",f,"request:",r),_})}Yo(e,n,r,a,o,u){return this.zo(e,n,r,a,o)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,o)=>e[o]=a),r&&r.headers.forEach((a,o)=>e[o]=a)}jo(e,n){const r=lj[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="WebChannelConnection";class fj extends uj{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,o){const u=_v();return new Promise((f,d)=>{const g=new vC;g.setWithCredentials(!0),g.listenOnce(_C.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Wh.NO_ERROR:const _=g.getResponseJson();_e(On,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),f(_);break;case Wh.TIMEOUT:_e(On,`RPC '${e}' ${u} timed out`),d(new Ie(he.DEADLINE_EXCEEDED,"Request time out"));break;case Wh.HTTP_ERROR:const E=g.getStatus();if(_e(On,`RPC '${e}' ${u} failed with status:`,E,"response text:",g.getResponseText()),E>0){let T=g.getResponseJson();Array.isArray(T)&&(T=T[0]);const A=T==null?void 0:T.error;if(A&&A.status&&A.message){const M=function(j){const G=j.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(G)>=0?G:he.UNKNOWN}(A.status);d(new Ie(M,A.message))}else d(new Ie(he.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new Ie(he.UNAVAILABLE,"Connection failed."));break;default:je(9055,{h_:e,streamId:u,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{_e(On,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(a);_e(On,`RPC '${e}' ${u} sending request:`,a),g.send(n,"POST",y,r,15)})}I_(e,n,r){const a=_v(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=SC(),f=bC(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(d.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Ho(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const y=o.join("");_e(On,`Creating RPC '${e}' stream ${a}: ${y}`,d);const _=u.createWebChannel(y,d);this.E_(_);let E=!1,T=!1;const A=new cj({Zo:P=>{T?_e(On,`Not sending because RPC '${e}' stream ${a} is closed:`,P):(E||(_e(On,`Opening RPC '${e}' stream ${a} transport.`),_.open(),E=!0),_e(On,`RPC '${e}' stream ${a} sending:`,P),_.send(P))},Xo:()=>_.close()}),M=(P,j,G)=>{P.listen(j,Y=>{try{G(Y)}catch(re){setTimeout(()=>{throw re},0)}})};return M(_,mc.EventType.OPEN,()=>{T||(_e(On,`RPC '${e}' stream ${a} transport opened.`),A.__())}),M(_,mc.EventType.CLOSE,()=>{T||(T=!0,_e(On,`RPC '${e}' stream ${a} transport closed`),A.u_(),this.d_(_))}),M(_,mc.EventType.ERROR,P=>{T||(T=!0,jl(On,`RPC '${e}' stream ${a} transport errored. Name:`,P.name,"Message:",P.message),A.u_(new Ie(he.UNAVAILABLE,"The operation could not be completed")))}),M(_,mc.EventType.MESSAGE,P=>{var j;if(!T){const G=P.data[0];vt(!!G,16349);const Y=G,re=(Y==null?void 0:Y.error)||((j=Y[0])===null||j===void 0?void 0:j.error);if(re){_e(On,`RPC '${e}' stream ${a} received error:`,re);const te=re.status;let F=function(C){const N=Zt[C];if(N!==void 0)return tx(N)}(te),D=re.message;F===void 0&&(F=he.INTERNAL,D="Unknown error status: "+te+" with message "+re.message),T=!0,A.u_(new Ie(F,D)),_.close()}else _e(On,`RPC '${e}' stream ${a} received:`,G),A.c_(G)}}),M(f,EC.STAT_EVENT,P=>{P.stat===ov.PROXY?_e(On,`RPC '${e}' stream ${a} detected buffering proxy`):P.stat===ov.NOPROXY&&_e(On,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{A.a_()},0),A}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function fy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(t){return new g5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,n,r=1e3,a=1.5,o=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=a,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),a=Math.max(0,n-r);a>0&&_e("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="PersistentStream";class px{constructor(e,n,r,a,o,u,f,d){this.xi=e,this.S_=r,this.D_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=d,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new gx(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(fa(n.toString()),fa("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.v_===n&&this.z_(r,a)},r=>{e(()=>{const a=new Ie(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(a)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{r(()=>this.j_(a))}),this.stream.onMessage(a=>{r(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return _e(uw,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(_e(uw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hj extends px{constructor(e,n,r,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,u),this.serializer=o}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=v5(this.serializer,e),r=function(o){if(!("targetChange"in o))return $e.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?$e.min():u.readTime?Ai(u.readTime):$e.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=yv(this.serializer),n.addTarget=function(o,u){let f;const d=u.target;if(f=hv(d)?{documents:b5(o,d)}:{query:S5(o,d).gt},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=ix(o,u.resumeToken);const g=mv(o,u.expectedCount);g!==null&&(f.expectedCount=g)}else if(u.snapshotVersion.compareTo($e.min())>0){f.readTime=Fd(o,u.snapshotVersion.toTimestamp());const g=mv(o,u.expectedCount);g!==null&&(f.expectedCount=g)}return f}(this.serializer,e);const r=w5(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=yv(this.serializer),n.removeTarget=e,this.Q_(n)}}class dj extends px{constructor(e,n,r,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,u),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return vt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,vt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){vt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=E5(e.writeResults,e.commitTime),r=Ai(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=yv(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>_5(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{}class gj extends mj{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new Ie(he.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.zo(e,gv(n,r),a,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ie(he.UNKNOWN,o.toString())})}Yo(e,n,r,a,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Yo(e,gv(n,r),a,u,f,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ie(he.UNKNOWN,u.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class pj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(fa(n),this.ua=!1):_e("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo="RemoteStore";class yj{constructor(e,n,r,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(u=>{r.enqueueAndForget(async()=>{xo(this)&&(_e(bo,"Restarting streams for network reachability change."),await async function(d){const g=Ge(d);g.da.add(4),await uf(g),g.Va.set("Unknown"),g.da.delete(4),await Tm(g)}(this))})}),this.Va=new pj(r,a)}}async function Tm(t){if(xo(t))for(const e of t.Aa)await e(!0)}async function uf(t){for(const e of t.Aa)await e(!1)}function yx(t,e){const n=Ge(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),x_(n)?C_(n):nu(n).N_()&&R_(n,e))}function A_(t,e){const n=Ge(t),r=nu(n);n.Ea.delete(e),r.N_()&&vx(n,e),n.Ea.size===0&&(r.N_()?r.k_():xo(n)&&n.Va.set("Unknown"))}function R_(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}nu(t).Z_(e)}function vx(t,e){t.ma.Ke(e),nu(t).X_(e)}function C_(t){t.ma=new f5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),nu(t).start(),t.Va.ca()}function x_(t){return xo(t)&&!nu(t).O_()&&t.Ea.size>0}function xo(t){return Ge(t).da.size===0}function _x(t){t.ma=void 0}async function vj(t){t.Va.set("Online")}async function _j(t){t.Ea.forEach((e,n)=>{R_(t,e)})}async function Ej(t,e){_x(t),x_(t)?(t.Va.Pa(e),C_(t)):t.Va.set("Unknown")}async function bj(t,e,n){if(t.Va.set("Online"),e instanceof rx&&e.state===2&&e.cause)try{await async function(a,o){const u=o.cause;for(const f of o.targetIds)a.Ea.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ea.delete(f),a.ma.removeTarget(f))}(t,e)}catch(r){_e(bo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Hd(t,r)}else if(e instanceof td?t.ma.Xe(e):e instanceof nx?t.ma.ot(e):t.ma.nt(e),!n.isEqual($e.min()))try{const r=await mx(t.localStore);n.compareTo(r)>=0&&await function(o,u){const f=o.ma.It(u);return f.targetChanges.forEach((d,g)=>{if(d.resumeToken.approximateByteSize()>0){const y=o.Ea.get(g);y&&o.Ea.set(g,y.withResumeToken(d.resumeToken,u))}}),f.targetMismatches.forEach((d,g)=>{const y=o.Ea.get(d);if(!y)return;o.Ea.set(d,y.withResumeToken(wn.EMPTY_BYTE_STRING,y.snapshotVersion)),vx(o,d);const _=new ns(y.target,d,g,y.sequenceNumber);R_(o,_)}),o.remoteSyncer.applyRemoteEvent(f)}(t,n)}catch(r){_e(bo,"Failed to raise snapshot:",r),await Hd(t,r)}}async function Hd(t,e,n){if(!tu(e))throw e;t.da.add(1),await uf(t),t.Va.set("Offline"),n||(n=()=>mx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{_e(bo,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Tm(t)})}function Ex(t,e){return e().catch(n=>Hd(t,n,e))}async function wm(t){const e=Ge(t),n=_s(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:c_;for(;Sj(e);)try{const a=await rj(e.localStore,r);if(a===null){e.Ia.length===0&&n.k_();break}r=a.batchId,Tj(e,a)}catch(a){await Hd(e,a)}bx(e)&&Sx(e)}function Sj(t){return xo(t)&&t.Ia.length<10}function Tj(t,e){t.Ia.push(e);const n=_s(t);n.N_()&&n.ea&&n.ta(e.mutations)}function bx(t){return xo(t)&&!_s(t).O_()&&t.Ia.length>0}function Sx(t){_s(t).start()}async function wj(t){_s(t).ia()}async function Aj(t){const e=_s(t);for(const n of t.Ia)e.ta(n.mutations)}async function Rj(t,e,n){const r=t.Ia.shift(),a=v_.from(r,e,n);await Ex(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await wm(t)}async function Cj(t,e){e&&_s(t).ea&&await async function(r,a){if(function(u){return u5(u)&&u!==he.ABORTED}(a.code)){const o=r.Ia.shift();_s(r).L_(),await Ex(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a)),await wm(r)}}(t,e),bx(t)&&Sx(t)}async function cw(t,e){const n=Ge(t);n.asyncQueue.verifyOperationInProgress(),_e(bo,"RemoteStore received new credentials");const r=xo(n);n.da.add(3),await uf(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Tm(n)}async function xj(t,e){const n=Ge(t);e?(n.da.delete(2),await Tm(n)):e||(n.da.add(2),await uf(n),n.Va.set("Unknown"))}function nu(t){return t.fa||(t.fa=function(n,r,a){const o=Ge(n);return o.oa(),new hj(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(t.datastore,t.asyncQueue,{e_:vj.bind(null,t),n_:_j.bind(null,t),i_:Ej.bind(null,t),Y_:bj.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),x_(t)?C_(t):t.Va.set("Unknown")):(await t.fa.stop(),_x(t))})),t.fa}function _s(t){return t.ga||(t.ga=function(n,r,a){const o=Ge(n);return o.oa(),new dj(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:wj.bind(null,t),i_:Cj.bind(null,t),na:Aj.bind(null,t),ra:Rj.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await wm(t)):(await t.ga.stop(),t.Ia.length>0&&(_e(bo,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e,n,r,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new aa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,o){const u=Date.now()+r,f=new I_(e,n,u,a,o);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function O_(t,e){if(fa("AsyncQueue",`${e}: ${t}`),tu(t))return new Ie(he.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{static emptySet(e){return new kl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Pe.comparator(n.key,r.key):(n,r)=>Pe.comparator(n.key,r.key),this.keyedMap=gc(),this.sortedSet=new Ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof kl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new kl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(){this.pa=new Ut(Pe.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):je(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class ql{constructor(e,n,r,a,o,u,f,d,g){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=d,this.hasCachedResults=g}static fromInitialDocuments(e,n,r,a,o){const u=[];return n.forEach(f=>{u.push({type:0,doc:f})}),new ql(e,n,kl.emptySet(n),u,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ym(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class Oj{constructor(){this.queries=hw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=Ge(n),o=a.queries;a.queries=hw(),o.forEach((u,f)=>{for(const d of f.Sa)d.onError(r)})})(this,new Ie(he.ABORTED,"Firestore shutting down"))}}function hw(){return new Ro(t=>HC(t),ym)}async function Tx(t,e){const n=Ge(t);let r=3;const a=e.query;let o=n.queries.get(a);o?!o.Da()&&e.va()&&(r=2):(o=new Ij,r=e.va()?0:1);try{switch(r){case 0:o.ba=await n.onListen(a,!0);break;case 1:o.ba=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const f=O_(u,`Initialization of query '${Tl(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,o),o.Sa.push(e),e.Fa(n.onlineState),o.ba&&e.Ma(o.ba)&&D_(n)}async function wx(t,e){const n=Ge(t),r=e.query;let a=3;const o=n.queries.get(r);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?a=e.va()?0:1:!o.Da()&&e.va()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Dj(t,e){const n=Ge(t);let r=!1;for(const a of e){const o=a.query,u=n.queries.get(o);if(u){for(const f of u.Sa)f.Ma(a)&&(r=!0);u.ba=a}}r&&D_(n)}function Nj(t,e,n){const r=Ge(t),a=r.queries.get(e);if(a)for(const o of a.Sa)o.onError(n);r.queries.delete(e)}function D_(t){t.Ca.forEach(e=>{e.next()})}var Ev,dw;(dw=Ev||(Ev={})).xa="default",dw.Cache="cache";class Ax{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new ql(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=ql.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Ev.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.key=e}}class Cx{constructor(e){this.key=e}}class Pj{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=st(),this.mutatedKeys=st(),this.Za=qC(e),this.Xa=new kl(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new fw,a=n?n.Xa:this.Xa;let o=n?n.mutatedKeys:this.mutatedKeys,u=a,f=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,_)=>{const E=a.get(y),T=vm(this.query,_)?_:null,A=!!E&&this.mutatedKeys.has(E.key),M=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let P=!1;E&&T?E.data.isEqual(T.data)?A!==M&&(r.track({type:3,doc:T}),P=!0):this.ru(E,T)||(r.track({type:2,doc:T}),P=!0,(d&&this.Za(T,d)>0||g&&this.Za(T,g)<0)&&(f=!0)):!E&&T?(r.track({type:0,doc:T}),P=!0):E&&!T&&(r.track({type:1,doc:E}),P=!0,(d||g)&&(f=!0)),P&&(T?(u=u.add(T),o=M?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{Xa:u,nu:r,Cs:f,mutatedKeys:o}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const u=e.nu.wa();u.sort((y,_)=>function(T,A){const M=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je(20277,{Vt:P})}};return M(T)-M(A)}(y.type,_.type)||this.Za(y.doc,_.doc)),this.iu(r),a=a!=null&&a;const f=n&&!a?this.su():[],d=this.Ya.size===0&&this.current&&!a?1:0,g=d!==this.Ja;return this.Ja=d,u.length!==0||g?{snapshot:new ql(this.query,e.Xa,o,u,e.mutatedKeys,d===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:f}:{ou:f}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new fw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=st(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new Cx(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new Rx(r))}),n}au(e){this.Ha=e.$s,this.Ya=st();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return ql.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const N_="SyncEngine";class kj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Mj{constructor(e){this.key=e,this.cu=!1}}class Lj{constructor(e,n,r,a,o,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.lu={},this.hu=new Ro(f=>HC(f),ym),this.Pu=new Map,this.Tu=new Set,this.Iu=new Ut(Pe.comparator),this.Eu=new Map,this.du=new b_,this.Au={},this.Ru=new Map,this.Vu=Hl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function Uj(t,e,n=!0){const r=Px(t);let a;const o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.uu()):a=await xx(r,e,n,!0),a}async function Vj(t,e){const n=Px(t);await xx(n,e,!0,!1)}async function xx(t,e,n,r){const a=await ij(t.localStore,Ti(e)),o=a.targetId,u=t.sharedClientState.addLocalQueryTarget(o,n);let f;return r&&(f=await jj(t,e,o,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&yx(t.remoteStore,a),f}async function jj(t,e,n,r,a){t.fu=(_,E,T)=>async function(M,P,j,G){let Y=P.view.tu(j);Y.Cs&&(Y=await aw(M.localStore,P.query,!1).then(({documents:D})=>P.view.tu(D,Y)));const re=G&&G.targetChanges.get(P.targetId),te=G&&G.targetMismatches.get(P.targetId)!=null,F=P.view.applyChanges(Y,M.isPrimaryClient,re,te);return gw(M,P.targetId,F.ou),F.snapshot}(t,_,E,T);const o=await aw(t.localStore,e,!0),u=new Pj(e,o.$s),f=u.tu(o.documents),d=lf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),g=u.applyChanges(f,t.isPrimaryClient,d);gw(t,n,g.ou);const y=new kj(e,n,u);return t.hu.set(e,y),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),g.snapshot}async function zj(t,e,n){const r=Ge(t),a=r.hu.get(e),o=r.Pu.get(a.targetId);if(o.length>1)return r.Pu.set(a.targetId,o.filter(u=>!ym(u,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await vv(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&A_(r.remoteStore,a.targetId),bv(r,a.targetId)}).catch(eu)):(bv(r,a.targetId),await vv(r.localStore,a.targetId,!0))}async function Fj(t,e){const n=Ge(t),r=n.hu.get(e),a=n.Pu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),A_(n.remoteStore,r.targetId))}async function Bj(t,e,n){const r=Qj(t);try{const a=await function(u,f){const d=Ge(u),g=sn.now(),y=f.reduce((T,A)=>T.add(A.key),st());let _,E;return d.persistence.runTransaction("Locally write mutations","readwrite",T=>{let A=ha(),M=st();return d.Bs.getEntries(T,y).next(P=>{A=P,A.forEach((j,G)=>{G.isValidDocument()||(M=M.add(j))})}).next(()=>d.localDocuments.getOverlayedDocuments(T,A)).next(P=>{_=P;const j=[];for(const G of f){const Y=i5(G,_.get(G.key).overlayedDocument);Y!=null&&j.push(new Co(G.key,Y,LC(Y.value.mapValue),wi.exists(!0)))}return d.mutationQueue.addMutationBatch(T,g,j,f)}).next(P=>{E=P;const j=P.applyToLocalDocumentSet(_,M);return d.documentOverlayCache.saveOverlays(T,P.batchId,j)})}).then(()=>({batchId:E.batchId,changes:GC(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(u,f,d){let g=u.Au[u.currentUser.toKey()];g||(g=new Ut(Xe)),g=g.insert(f,d),u.Au[u.currentUser.toKey()]=g}(r,a.batchId,n),await cf(r,a.changes),await wm(r.remoteStore)}catch(a){const o=O_(a,"Failed to persist write");n.reject(o)}}async function Ix(t,e){const n=Ge(t);try{const r=await tj(n.localStore,e);e.targetChanges.forEach((a,o)=>{const u=n.Eu.get(o);u&&(vt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.cu=!0:a.modifiedDocuments.size>0?vt(u.cu,14607):a.removedDocuments.size>0&&(vt(u.cu,42227),u.cu=!1))}),await cf(n,r,e)}catch(r){await eu(r)}}function mw(t,e,n){const r=Ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.hu.forEach((o,u)=>{const f=u.view.Fa(e);f.snapshot&&a.push(f.snapshot)}),function(u,f){const d=Ge(u);d.onlineState=f;let g=!1;d.queries.forEach((y,_)=>{for(const E of _.Sa)E.Fa(f)&&(g=!0)}),g&&D_(d)}(r.eventManager,e),a.length&&r.lu.Y_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Hj(t,e,n){const r=Ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Eu.get(e),o=a&&a.key;if(o){let u=new Ut(Pe.comparator);u=u.insert(o,Nn.newNoDocument(o,$e.min()));const f=st().add(o),d=new bm($e.min(),new Map,new Ut(Xe),u,f);await Ix(r,d),r.Iu=r.Iu.remove(o),r.Eu.delete(e),P_(r)}else await vv(r.localStore,e,!1).then(()=>bv(r,e,n)).catch(eu)}async function qj(t,e){const n=Ge(t),r=e.batch.batchId;try{const a=await ej(n.localStore,e);Dx(n,r,null),Ox(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await cf(n,a)}catch(a){await eu(a)}}async function $j(t,e,n){const r=Ge(t);try{const a=await function(u,f){const d=Ge(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return d.mutationQueue.lookupMutationBatch(g,f).next(_=>(vt(_!==null,37113),y=_.keys(),d.mutationQueue.removeMutationBatch(g,_))).next(()=>d.mutationQueue.performConsistencyCheck(g)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(g,y,f)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>d.localDocuments.getDocuments(g,y))})}(r.localStore,e);Dx(r,e,n),Ox(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await cf(r,a)}catch(a){await eu(a)}}function Ox(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function Dx(t,e,n){const r=Ge(t);let a=r.Au[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),r.Au[r.currentUser.toKey()]=a}}function bv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||Nx(t,r)})}function Nx(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(A_(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),P_(t))}function gw(t,e,n){for(const r of n)r instanceof Rx?(t.du.addReference(r.key,e),Gj(t,r)):r instanceof Cx?(_e(N_,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||Nx(t,r.key)):je(19791,{pu:r})}function Gj(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(_e(N_,"New document in limbo: "+n),t.Tu.add(r),P_(t))}function P_(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Pe(Nt.fromString(e)),r=t.Vu.next();t.Eu.set(r,new Mj(n)),t.Iu=t.Iu.insert(n,r),yx(t.remoteStore,new ns(Ti(g_(n.path)),r,"TargetPurposeLimboResolution",dm.le))}}async function cf(t,e,n){const r=Ge(t),a=[],o=[],u=[];r.hu.isEmpty()||(r.hu.forEach((f,d)=>{u.push(r.fu(d,e,n).then(g=>{var y;if((g||n)&&r.isPrimaryClient){const _=g?!g.fromCache:(y=n==null?void 0:n.targetChanges.get(d.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(d.targetId,_?"current":"not-current")}if(g){a.push(g);const _=T_.Rs(d.targetId,g);o.push(_)}}))}),await Promise.all(u),r.lu.Y_(a),await async function(d,g){const y=Ge(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ce.forEach(g,E=>ce.forEach(E.ds,T=>y.persistence.referenceDelegate.addReference(_,E.targetId,T)).next(()=>ce.forEach(E.As,T=>y.persistence.referenceDelegate.removeReference(_,E.targetId,T)))))}catch(_){if(!tu(_))throw _;_e(w_,"Failed to update sequence numbers: "+_)}for(const _ of g){const E=_.targetId;if(!_.fromCache){const T=y.xs.get(E),A=T.snapshotVersion,M=T.withLastLimboFreeSnapshotVersion(A);y.xs=y.xs.insert(E,M)}}}(r.localStore,o))}async function Kj(t,e){const n=Ge(t);if(!n.currentUser.isEqual(e)){_e(N_,"User change. New user:",e.toKey());const r=await dx(n.localStore,e);n.currentUser=e,function(o,u){o.Ru.forEach(f=>{f.forEach(d=>{d.reject(new Ie(he.CANCELLED,u))})}),o.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await cf(n,r.ks)}}function Yj(t,e){const n=Ge(t),r=n.Eu.get(e);if(r&&r.cu)return st().add(r.key);{let a=st();const o=n.Pu.get(e);if(!o)return a;for(const u of o){const f=n.hu.get(u);a=a.unionWith(f.view.eu)}return a}}function Px(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ix.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Hj.bind(null,e),e.lu.Y_=Dj.bind(null,e.eventManager),e.lu.gu=Nj.bind(null,e.eventManager),e}function Qj(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$j.bind(null,e),e}class qd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sm(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return J5(this.persistence,new X5,e.initialUser,this.serializer)}Su(e){return new hx(S_.fi,this.serializer)}bu(e){return new sj}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qd.provider={build:()=>new qd};class Xj extends qd{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){vt(this.persistence.referenceDelegate instanceof Bd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new M5(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Gn.withCacheSize(this.cacheSizeBytes):Gn.DEFAULT;return new hx(r=>Bd.fi(r,n),this.serializer)}}class Sv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Kj.bind(null,this.syncEngine),await xj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Oj}()}createDatastore(e){const n=Sm(e.databaseInfo.databaseId),r=function(o){return new fj(o)}(e.databaseInfo);return function(o,u,f,d){return new gj(o,u,f,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,a,o,u,f){return new yj(r,a,o,u,f)}(this.localStore,this.datastore,e.asyncQueue,n=>mw(this.syncEngine,n,0),function(){return lw.C()?new lw:new oj}())}createSyncEngine(e,n){return function(a,o,u,f,d,g,y){const _=new Lj(a,o,u,f,d,g);return y&&(_.mu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const o=Ge(a);_e(bo,"RemoteStore shutting down."),o.da.add(5),await uf(o),o.Ra.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Sv.provider={build:()=>new Sv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):fa("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="FirestoreClient";class Wj{constructor(e,n,r,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=Dn.UNAUTHENTICATED,this.clientId=RC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{_e(Es,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(_e(Es,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new aa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=O_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function hy(t,e){t.asyncQueue.verifyOperationInProgress(),_e(Es,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async a=>{r.isEqual(a)||(await dx(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function pw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Zj(t);_e(Es,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>cw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,a)=>cw(e.remoteStore,a)),t._onlineComponents=e}async function Zj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(Es,"Using user provided OfflineComponentProvider");try{await hy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===he.FAILED_PRECONDITION||a.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;jl("Error using user provided cache. Falling back to memory cache: "+n),await hy(t,new qd)}}else _e(Es,"Using default OfflineComponentProvider"),await hy(t,new Xj(void 0));return t._offlineComponents}async function Mx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(Es,"Using user provided OnlineComponentProvider"),await pw(t,t._uninitializedComponentsProvider._online)):(_e(Es,"Using default OnlineComponentProvider"),await pw(t,new Sv))),t._onlineComponents}function Jj(t){return Mx(t).then(e=>e.syncEngine)}async function Lx(t){const e=await Mx(t),n=e.eventManager;return n.onListen=Uj.bind(null,e.syncEngine),n.onUnlisten=zj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Vj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Fj.bind(null,e.syncEngine),n}function e7(t,e,n={}){const r=new aa;return t.asyncQueue.enqueueAndForget(async()=>function(o,u,f,d,g){const y=new kx({next:E=>{y.xu(),u.enqueueAndForget(()=>wx(o,_));const T=E.docs.has(f);!T&&E.fromCache?g.reject(new Ie(he.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&E.fromCache&&d&&d.source==="server"?g.reject(new Ie(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),_=new Ax(g_(f.path),y,{includeMetadataChanges:!0,Qa:!0});return Tx(o,_)}(await Lx(t),t.asyncQueue,e,n,r)),r.promise}function t7(t,e,n={}){const r=new aa;return t.asyncQueue.enqueueAndForget(async()=>function(o,u,f,d,g){const y=new kx({next:E=>{y.xu(),u.enqueueAndForget(()=>wx(o,_)),E.fromCache&&d.source==="server"?g.reject(new Ie(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(E)},error:E=>g.reject(E)}),_=new Ax(f,y,{includeMetadataChanges:!0,Qa:!0});return Tx(o,_)}(await Lx(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(t,e,n){if(!n)throw new Ie(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function n7(t,e,n,r){if(e===!0&&r===!0)throw new Ie(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vw(t){if(!Pe.isDocumentKey(t))throw new Ie(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _w(t){if(Pe.isDocumentKey(t))throw new Ie(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function k_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":je(12329,{type:typeof t})}function bs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ie(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=k_(t);throw new Ie(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx="firestore.googleapis.com",Ew=!0;class bw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jx,this.ssl=Ew}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Ew;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<P5)throw new Ie(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ux((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ie(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ie(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ie(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Am{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new u9;switch(r.type){case"firstParty":return new d9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ie(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=yw.get(n);r&&(_e("ComponentProvider","Removing Datastore"),yw.delete(n),r.terminate())}(this),Promise.resolve()}}function r7(t,e,n,r={}){var a;t=bs(t,Am);const o=Kl(e),u=t._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;o&&(qw(`https://${d}`),$w("Firestore",!0)),u.host!==jx&&u.host!==d&&jl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:d,ssl:o,emulatorOptions:r});if(!co(g,f)&&(t._setSettings(g),r.mockUserToken)){let y,_;if(typeof r.mockUserToken=="string")y=r.mockUserToken,_=Dn.MOCK_USER;else{y=SO(r.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new Ie(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Dn(E)}t._authCredentials=new c9(new wC(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Rm(this.firestore,e,this._query)}}class lr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lr(this.firestore,e,this._key)}}class os extends Rm{constructor(e,n,r){super(e,n,g_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lr(this.firestore,null,new Pe(e))}withConverter(e){return new os(this.firestore,e,this._path)}}function i7(t,e,...n){if(t=Kn(t),Vx("collection","path",e),t instanceof Am){const r=Nt.fromString(e,...n);return _w(r),new os(t,null,r)}{if(!(t instanceof lr||t instanceof os))throw new Ie(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Nt.fromString(e,...n));return _w(r),new os(t.firestore,null,r)}}function ff(t,e,...n){if(t=Kn(t),arguments.length===1&&(e=RC.newId()),Vx("doc","path",e),t instanceof Am){const r=Nt.fromString(e,...n);return vw(r),new lr(t,null,new Pe(r))}{if(!(t instanceof lr||t instanceof os))throw new Ie(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Nt.fromString(e,...n));return vw(r),new lr(t.firestore,t instanceof os?t.converter:null,new Pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="AsyncQueue";class Tw{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new gx(this,"async_queue_retry"),this.rc=()=>{const r=fy();r&&_e(Sw,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=fy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=fy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new aa;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!tu(e))throw e;_e(Sw,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,fa("INTERNAL UNHANDLED ERROR: ",ww(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const a=I_.createAndSchedule(this,e,n,r,o=>this.uc(o));return this.Zu.push(a),a}oc(){this.Xu&&je(47125,{cc:ww(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function ww(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class hf extends Am{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new Tw,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Tw(e),this._firestoreClient=void 0,await e}}}function a7(t,e){const n=typeof t=="object"?t:Qw(),r=typeof t=="string"?t:Md,a=Iv(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=EO("firestore");o&&r7(a,...o)}return a}function M_(t){if(t._terminated)throw new Ie(he.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||s7(t),t._firestoreClient}function s7(t){var e,n,r;const a=t._freezeSettings(),o=function(f,d,g,y){return new x9(f,d,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,Ux(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new Wj(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(f){const d=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $l(wn.fromBase64String(e))}catch(n){throw new Ie(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $l(wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ie(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ie(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ie(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o7=/^__.*__$/;class l7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Co(e,this.data,this.fieldMask,n,this.fieldTransforms):new of(e,this.data,n,this.fieldTransforms)}}function Fx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je(40011,{Ic:t})}}class j_{constructor(e,n,r,a,o,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new j_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.dc({path:r,Rc:!1});return a.Vc(e),a}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.dc({path:r,Rc:!1});return a.Ec(),a}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return $d(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(Fx(this.Ic)&&o7.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class u7{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Sm(e)}bc(e,n,r,a=!1){return new j_({Ic:e,methodName:n,wc:r,path:Tn.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function c7(t){const e=t._freezeSettings(),n=Sm(t._databaseId);return new u7(t._databaseId,!!e.ignoreUndefinedProperties,n)}function f7(t,e,n,r,a,o={}){const u=t.bc(o.merge||o.mergeFields?2:0,e,n,a);$x("Data must be an object, but it was:",u,r);const f=Hx(r,u);let d,g;if(o.merge)d=new Fr(u.fieldMask),g=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const _ of o.mergeFields){const E=h7(e,_,n);if(!u.contains(E))throw new Ie(he.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);m7(y,E)||y.push(E)}d=new Fr(y),g=u.fieldTransforms.filter(_=>d.covers(_.field))}else d=null,g=u.fieldTransforms;return new l7(new Nr(f),d,g)}function Bx(t,e){if(qx(t=Kn(t)))return $x("Unsupported field value:",e,t),Hx(t,e);if(t instanceof zx)return function(r,a){if(!Fx(a.Ic))throw a.gc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,a){const o=[];let u=0;for(const f of r){let d=Bx(f,a.fc(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}}(t,e)}return function(r,a){if((r=Kn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Z9(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=sn.fromDate(r);return{timestampValue:Fd(a.serializer,o)}}if(r instanceof sn){const o=new sn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fd(a.serializer,o)}}if(r instanceof U_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $l)return{bytesValue:ix(a.serializer,r._byteString)};if(r instanceof lr){const o=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw a.gc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:E_(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof V_)return function(u,f){return{mapValue:{fields:{[kC]:{stringValue:MC},[Ld]:{arrayValue:{values:u.toArray().map(g=>{if(typeof g!="number")throw f.gc("VectorValues must only contain numeric values.");return p_(f.serializer,g)})}}}}}}(r,a);throw a.gc(`Unsupported field value: ${k_(r)}`)}(t,e)}function Hx(t,e){const n={};return xC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ao(t,(r,a)=>{const o=Bx(a,e.Ac(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function qx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof sn||t instanceof U_||t instanceof $l||t instanceof lr||t instanceof zx||t instanceof V_)}function $x(t,e,n){if(!qx(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const r=k_(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function h7(t,e,n){if((e=Kn(e))instanceof L_)return e._internalPath;if(typeof e=="string")return Gx(t,e);throw $d("Field path arguments must be of type string or ",t,!1,void 0,n)}const d7=new RegExp("[~\\*/\\[\\]]");function Gx(t,e,n){if(e.search(d7)>=0)throw $d(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new L_(...e.split("."))._internalPath}catch{throw $d(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $d(t,e,n,r,a){const o=r&&!r.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${r}`),u&&(d+=` in document ${a}`),d+=")"),new Ie(he.INVALID_ARGUMENT,f+t+d)}function m7(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n,r,a,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new lr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new g7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Yx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class g7 extends Kx{data(){return super.data()}}function Yx(t,e){return typeof e=="string"?Gx(t,e):e instanceof L_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ie(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class y7{convertValue(e,n="none"){switch(vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw je(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ao(e,(a,o)=>{r[a]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,a;const o=(a=(r=(n=e.fields)===null||n===void 0?void 0:n[Ld].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(u=>Ht(u.doubleValue));return new V_(o)}convertGeoPoint(e){return new U_(Ht(e.latitude),Ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=gm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fc(e));default:return null}}convertTimestamp(e){const n=ps(e);return new sn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Nt.fromString(e);vt(cx(r),9688,{name:e});const a=new Bc(r.get(1),r.get(3)),o=new Pe(r.popFirst(5));return a.isEqual(n)||fa(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v7(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qx extends Kx{constructor(e,n,r,a,o,u){super(e,n,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Yx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class nd extends Qx{data(e={}){return super.data(e)}}class _7{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new yc(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new nd(this._firestore,this._userDataWriter,r.key,r,new yc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ie(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(f=>{const d=new nd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new yc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>o||f.type!==3).map(f=>{const d=new nd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new yc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,y=-1;return f.type!==0&&(g=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),y=u.indexOf(f.doc.key)),{type:E7(f.type),doc:d,oldIndex:g,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function E7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b7(t){t=bs(t,lr);const e=bs(t.firestore,hf);return e7(M_(e),t._key).then(n=>w7(e,t,n))}class Xx extends y7{constructor(e){super(),this.firestore=e}convertBytes(e){return new $l(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new lr(this.firestore,null,n)}}function S7(t){t=bs(t,Rm);const e=bs(t.firestore,hf),n=M_(e),r=new Xx(e);return p7(t._query),t7(n,t._query).then(a=>new _7(e,r,t,a))}function z_(t,e,n){t=bs(t,lr);const r=bs(t.firestore,hf),a=v7(t.converter,e);return Wx(r,[f7(c7(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,wi.none())])}function T7(t){return Wx(bs(t.firestore,hf),[new y_(t._key,wi.none())])}function Wx(t,e){return function(r,a){const o=new aa;return r.asyncQueue.enqueueAndForget(async()=>Bj(await Jj(r),a,o)),o.promise}(M_(t),e)}function w7(t,e,n){const r=n.docs.get(e._key),a=new Xx(t);return new Qx(t,a,e._key,r,new yc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Jl=a})(Yl),Ml(new fo("firestore",(r,{instanceIdentifier:a,options:o})=>{const u=r.getProvider("app").getImmediate(),f=new hf(new f9(r.getProvider("auth-internal")),new m9(u,r.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ie(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bc(g.options.projectId,y)}(u,a),u);return o=Object.assign({useFetchStreams:n},o),f._setSettings(o),f},"PUBLIC").setMultipleInstances(!0)),as(IT,OT,e),as(IT,OT,"esm2017")})();const En=[];for(let t=0;t<256;++t)En.push((t+256).toString(16).slice(1));function A7(t,e=0){return(En[t[e+0]]+En[t[e+1]]+En[t[e+2]]+En[t[e+3]]+"-"+En[t[e+4]]+En[t[e+5]]+"-"+En[t[e+6]]+En[t[e+7]]+"-"+En[t[e+8]]+En[t[e+9]]+"-"+En[t[e+10]]+En[t[e+11]]+En[t[e+12]]+En[t[e+13]]+En[t[e+14]]+En[t[e+15]]).toLowerCase()}let dy;const R7=new Uint8Array(16);function C7(){if(!dy){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");dy=crypto.getRandomValues.bind(crypto)}return dy(R7)}const my={};function Cm(t,e,n){let r;{const a=Date.now(),o=C7();x7(my,a,o),r=I7(o,my.msecs,my.seq,e,n)}return A7(r)}function x7(t,e,n){return t.msecs??(t.msecs=-1/0),t.seq??(t.seq=0),e>t.msecs?(t.seq=n[6]<<23|n[7]<<16|n[8]<<8|n[9],t.msecs=e):(t.seq=t.seq+1|0,t.seq===0&&t.msecs++),t}function I7(t,e,n,r,a=0){if(t.length<16)throw new Error("Random bytes length must be >= 16");if(!r)r=new Uint8Array(16),a=0;else if(a<0||a+16>r.length)throw new RangeError(`UUID byte range ${a}:${a+15} is out of buffer bounds`);return e??(e=Date.now()),n??(n=t[6]*127<<24|t[7]<<16|t[8]<<8|t[9]),r[a++]=e/1099511627776&255,r[a++]=e/4294967296&255,r[a++]=e/16777216&255,r[a++]=e/65536&255,r[a++]=e/256&255,r[a++]=e&255,r[a++]=112|n>>>28&15,r[a++]=n>>>20&255,r[a++]=128|n>>>14&63,r[a++]=n>>>6&255,r[a++]=n<<2&255|t[10]&3,r[a++]=t[11],r[a++]=t[12],r[a++]=t[13],r[a++]=t[14],r[a++]=t[15],r}const Gl=a7(gC),O7=async t=>{const{song:e,loggedUser:n}=t,{uid:r}=n;return await z_(ff(Gl,"users",r,"songs",e.id),e),e},D7=async t=>{const{email:e,password:n,username:r}=t,{uid:a}=await pC(e,n);await z_(ff(Gl,"users",a),{uid:a,tag:Cm(),username:r,email:e})},N7=async t=>{const{id:e,loggedUser:n}=t,{uid:r}=n;return await T7(ff(Gl,"users",r,"songs",e)),{id:e}},Zx=async t=>{const e=ff(Gl,"users",t),n=await b7(e);if(n.exists()){const r=await n.data(),a=i7(Gl,"users",t,"songs"),u=(await S7(a)).docs.map(f=>f.data());return{...r,songs:u}}return null},P7=async t=>{const{song:e,loggedUser:n}=t,{uid:r}=n;return await z_(ff(Gl,"users",r,"songs",e.id),e),e},k7=async t=>{const{email:e,password:n}=t,r=await ya.auth.signIn(e,n);return await Zx(r.uid)},M7=Object.freeze(Object.defineProperty({__proto__:null,addSong:O7,addUser:D7,deleteSong:N7,loadUser:Zx,saveSong:P7,signInUser:k7},Symbol.toStringTag,{value:"Module"})),ya={auth:l9,user:M7},L7=async t=>await ya.user.addSong(t),U7=async t=>await ya.user.deleteSong(t),V7=async t=>await ya.user.saveSong(t),j7=async t=>{const{uid:e}=t;return await ya.user.loadUser(e)},z7=async t=>{const{email:e,password:n}=t;return await ya.user.signInUser({email:e,password:n})},F7=async()=>{await ya.auth.signOut()},B7=async t=>{await ya.user.addUser(t)},{t:H7}=Pt,q7={addSongStatus:it.IDLE,addSongError:null,latestAddedSongId:null},rd={addSong:wo(`${cm}/addSong`,async t=>await L7(t))},$7={clearAddSongError:t=>{t.addSongError=null},clearAddSongStatus:t=>{t.addSongStatus=it.IDLE},setAddSongError:(t,e)=>{t.addSongError=e.payload},clearLatestAddedSongId:t=>{t.latestAddedSongId=null}},G7=t=>{t.addCase(rd.addSong.pending,e=>{e.addSongStatus=it.LOADING,e.addSongError=null}).addCase(rd.addSong.fulfilled,(e,n)=>{e.addSongStatus=it.SUCCEEDED,e.songs.push(n.payload),e.latestAddedSongId=n.payload.id}).addCase(rd.addSong.rejected,(e,n)=>{e.addSongStatus=it.FAILED,e.addSongError=H7(`error-message.add-song.${n.error.code}`)})},K7={selectAddSongError:t=>t.songs.addSongError,selectAddSongStatus:t=>t.songs.addSongStatus,selectLatestAddedSongId:t=>t.songs.latestAddedSongId},Y7={asyncThunk:rd,extraReducers:G7,initialState:q7,reducers:$7,selectors:K7},{t:Q7}=Pt,X7={deleteSongStatus:it.IDLE,deleteSongError:null},id={deleteSong:wo(`${cm}/deleteSong`,async t=>await U7(t))},W7={clearDeleteSongError:t=>{t.deleteSongError=null},clearDeleteSongStatus:t=>{t.deleteSongStatus=it.IDLE}},Z7=t=>{t.addCase(id.deleteSong.pending,e=>{e.deleteSongStatus=it.LOADING,e.deleteSongError=null}).addCase(id.deleteSong.fulfilled,(e,n)=>{e.deleteSongStatus=it.SUCCEEDED;const r=e.songs.findIndex(a=>a.id==n.payload.id);e.songs.splice(r,1)}).addCase(id.deleteSong.rejected,(e,n)=>{e.deleteSongStatus=it.FAILED,e.deleteSongError=Q7(`error-message.delete-song.${n.error.code}`)})},J7={selectDeleteSongError:t=>t.songs.deleteSongError},e8={asyncThunk:id,extraReducers:Z7,initialState:X7,reducers:W7,selectors:J7},Jx=t=>(t||"").replaceAll(`
`," ").trim().split(" "),e2=t=>t==it.LOADING,t2=t=>[...t].sort((e,n)=>e.title.localeCompare(n.title)),t8={songs:[]},n8={loadSongs:(t,e)=>{t.songs=t2(e.payload)}},r8={selectAllSongs:t=>t.songs.songs,selectSongById:t=>e=>e.songs.songs.find(n=>n.id===t),selectSongsError:t=>t.songs.songsError,selectSongsStatus:t=>t.songs.songsStatus},i8={initialState:t8,reducers:n8,selectors:r8},{t:Aw}=Pt,a8={saveSongStatus:it.IDLE,saveSongError:null,saveSongMessage:null},ad={saveSong:wo(`${cm}/saveSong`,async t=>await V7(t))},s8={editSongTitle:(t,e)=>{const{payload:n}=e,r=t.songs.find(a=>a.id===n.id);r.title=n.title},clearSaveSongError:t=>{t.saveSongError=null},clearSaveSongStatus:t=>{t.saveSongStatus=it.IDLE,t.saveSongMessage=null}},o8=t=>{t.addCase(ad.saveSong.pending,e=>{e.saveSongStatus=it.LOADING,e.saveSongError=null}).addCase(ad.saveSong.fulfilled,(e,n)=>{e.saveSongStatus=it.SUCCEEDED,e.saveSongMessage=Aw("Song saved");const r=n.payload,a=e.songs.find(o=>o.id===r.id);a.notes=r.notes,e.songs=t2(e.songs)}).addCase(ad.saveSong.rejected,(e,n)=>{e.saveSongStatus=it.FAILED,e.saveSongError=Aw(`error-message.save-song.${n.error.code}`)})},l8={selectSaveSongError:t=>t.songs.saveSongError,selectSaveSongStatus:t=>t.songs.saveSongStatus,selectSaveSongMessage:t=>t.songs.saveSongMessage},u8={asyncThunk:ad,extraReducers:o8,initialState:a8,reducers:s8,selectors:l8},Gc=Object.freeze(Object.defineProperty({__proto__:null,AddSong:Y7,DeleteSong:e8,LoadSongs:i8,SaveSong:u8},Symbol.toStringTag,{value:"Module"})),c8=Rs(Gc,As.INITIAL_STATE),n2=iC({name:cm,initialState:c8,reducers:Rs(Gc,As.REDUCERS),extraReducers(t){aC(t,Gc)}}),f8=n2.reducer,Hr={...n2.actions,...Rs(Gc,As.ASYNC_THUNK)},Br={...Rs(Gc,As.SELECTORS)},df="user",{t:h8}=Pt,d8={loggedUser:null,loggedUserStatus:it.IDLE,loggedUserError:null,firebaseOnAuthStateChangedStatus:it.IDLE},m8={completeFirebaseOnAuthStateChangedStatus:t=>{t.firebaseOnAuthStateChangedStatus=it.SUCCEEDED}},sd={loadUser:wo(`${df}/loadUser`,async t=>await j7(t))},g8=t=>{t.addCase(sd.loadUser.pending,e=>{e.loggedUserStatus=it.LOADING}).addCase(sd.loadUser.fulfilled,(e,n)=>{e.loggedUserStatus=it.SUCCEEDED,e.loggedUser=n.payload}).addCase(sd.loadUser.rejected,(e,n)=>{e.loggedUserStatus=it.FAILED,e.loggedUserError=h8(`error-message.logged-user.${n.error.code}`)})},p8={selectLoggedUser:t=>t.users.loggedUser,isLoggedIn:t=>!!t.users.loggedUser,isLoginVerificationComplete:t=>t.users.loggedUser!=null||t.users.loggedUserStatus==it.SUCCEEDED||t.users.loggedUserStatus==it.FAILED,isFirebaseOnAuthStateChangedStatusComplete:t=>t.users.firebaseOnAuthStateChangedStatus!=it.IDLE},y8={initialState:d8,reducers:m8,asyncThunk:sd,extraReducers:g8,selectors:p8},{t:v8}=Pt,_8={signInStatus:it.IDLE,signInError:null},E8={clearSignInError:t=>{t.signInError=null}},od={signInUser:wo(`${df}/signInUser`,async t=>await z7(t))},b8=t=>{t.addCase(od.signInUser.pending,e=>{e.signInStatus=it.LOADING}).addCase(od.signInUser.fulfilled,(e,n)=>{e.signInStatus=it.SUCCEEDED,e.loggedUser=n.payload}).addCase(od.signInUser.rejected,(e,n)=>{e.signInStatus=it.FAILED,e.signInError=v8(`error-message.sign-in-user.${n.error.code}`)})},S8={selectSignInError:t=>t.users.signInError},T8={initialState:_8,reducers:E8,asyncThunk:od,extraReducers:b8,selectors:S8},{t:w8}=Pt,A8={signOutStatus:it.IDLE,signOutError:null},ld={signOutUser:wo(`${df}/signOut`,async()=>await F7())},R8=t=>{t.addCase(ld.signOutUser.pending,e=>{e.signOutStatus=it.LOADING}).addCase(ld.signOutUser.fulfilled,e=>{e.signOutStatus=it.SUCCEEDED,e.loggedUser=null}).addCase(ld.signOutUser.rejected,(e,n)=>{e.signOutStatus=it.FAILED,e.loggedUserError=w8(`error-message.sign-out-user.${n.error.code}`)})},C8={initialState:A8,asyncThunk:ld,extraReducers:R8},{t:x8}=Pt,I8={signUpStatus:it.IDLE,signUpError:null},O8={clearSignUpError:t=>{t.signUpError=null}},ud={signUpUser:wo(`${df}/signUpUser`,async t=>await B7(t))},D8=t=>{t.addCase(ud.signUpUser.pending,e=>{e.signUpStatus=it.LOADING}).addCase(ud.signUpUser.fulfilled,e=>{e.signUpStatus=it.SUCCEEDED}).addCase(ud.signUpUser.rejected,(e,n)=>{e.signUpStatus=it.FAILED,e.signUpError=x8(`error-message.sign-up-user.${n.error.code}`)})},N8={selectSignUpError:t=>t.users.signUpError},P8={initialState:I8,asyncThunk:ud,reducers:O8,extraReducers:D8,selectors:N8},Kc=Object.freeze(Object.defineProperty({__proto__:null,LoggedUser:y8,SignInUser:T8,SignOutUser:C8,SignUpUser:P8},Symbol.toStringTag,{value:"Module"})),k8=Rs(Kc,As.INITIAL_STATE),r2=iC({name:df,initialState:k8,reducers:Rs(Kc,As.REDUCERS),extraReducers(t){aC(t,Kc)}}),M8=r2.reducer,lo={...r2.actions,...Rs(Kc,As.ASYNC_THUNK)},$r={...Rs(Kc,As.SELECTORS)},L8="_TextArea_e12px_1",U8={TextArea:L8},V8=t=>I.jsx("textarea",{...t,className:U8.TextArea}),i2=O.memo(V8),F_=()=>({id:Cm(),text:""}),ls=t=>{const e=Array.from({length:t},()=>F_());return{id:Cm(),chunks:e}},j8=t=>{const{title:e,pitches:n,lyrics:r}=t,a=isNaN(n)?1:n,o=Jx(r),u=r?[ls(a),...o.map(f=>{const d=ls(a);return d.chunks[0].text=f,d})]:Array.from({length:1},()=>ls(a));return{id:Cm(),title:e,notes:u}},z8="_FormAddSong_5y15a_1",F8="_FieldsContainer_5y15a_10",Rw={FormAddSong:z8,FieldsContainer:F8},B8=()=>{const{t}=$t(),e=Ss(),n=zt($r.selectLoggedUser),r=zt(Br.selectAddSongStatus),a=O.useCallback(async o=>{if(o.preventDefault(),e2(r))return;const u=o.target,f=u.title.value.trim(),d=u.pitches.value||1,g=u.lyrics.value||"";if(!f){e(Hr.setAddSongError(t("Please, insert a song title")));return}const y=j8({title:f,pitches:d,lyrics:g});e(Hr.addSong({loggedUser:n,song:y}))},[r,e,n,t]);return I.jsx("form",{id:"formAddSong",className:Rw.FormAddSong,onSubmit:a,children:I.jsxs("div",{className:Rw.FieldsContainer,children:[I.jsx(na,{label:t("Title"),field:I.jsx(ra,{type:"text",name:"title"})}),I.jsx(na,{label:t("Number of Pitches"),field:I.jsx(ra,{type:"number",name:"pitches"})}),I.jsx(na,{label:t("Song lyrics"),field:I.jsx(i2,{name:"lyrics"})})]})})},H8=O.memo(B8),Tv="growl-container",a2=Object.freeze({ERROR:"ERROR",INFO:"INFO",SUCCESS:"SUCCESS",WARN:"WARN"}),q8=5e3,$8="_GrowlContainer_kayqm_1",G8="_Growl_kayqm_1",K8="_GrowlClose_kayqm_38",wv={GrowlContainer:$8,Growl:G8,GrowlClose:K8},Y8=t=>{const{children:e}=t;return I.jsx("div",{id:Tv,className:wv.GrowlContainer,children:e})},Q8=t=>{const{level:e,message:n,onCloseGrowl:r,fixed:a=!1}=t;return O.useEffect(()=>{a||setTimeout(()=>{r()},q8)},[a,r]),n?I.jsxs("div",{className:wv.Growl,"data-level":e,children:[I.jsx("button",{type:"button",className:wv.GrowlClose,onClick:r,children:"x"}),n]}):I.jsx(I.Fragment,{})},X8=O.memo(Y8),W8=O.memo(Q8),s2=t=>{const{fixed:e,level:n,message:r,onCloseGrowl:a}=t;return!n||!r?I.jsx(I.Fragment,{}):document.getElementById(Tv)?$R.createPortal(I.jsx(W8,{fixed:e,level:n,message:r,onCloseGrowl:a}),document.getElementById(Tv)):I.jsx(I.Fragment,{})},Yc=t=>{const{message:e,onCloseGrowl:n,fixed:r=!0}=t;return s2({fixed:r,message:e,level:a2.ERROR,onCloseGrowl:n})},Z8=t=>{const{message:e,onCloseGrowl:n,fixed:r=!1}=t;return s2({fixed:r,message:e,level:a2.SUCCESS,onCloseGrowl:n})},J8=t=>{const{addSongDialogFnsRef:e}=t,{t:n}=$t(),r=Ss(),a=Wl(),o=zt(Br.selectAddSongStatus),u=zt(Br.selectAddSongError),f=zt(Br.selectLatestAddedSongId),[d,g]=O.useState(!1);O.useImperativeHandle(e,()=>({show(){g(!0)}}));const y=O.useCallback(()=>{r(Hr.clearAddSongError())},[r]);return O.useEffect(()=>{f!=null&&(r(Hr.clearLatestAddedSongId()),a(`/chart?id=${f}`))},[o,r,f,a]),I.jsxs(I.Fragment,{children:[I.jsx(Lt,{category:qt.SUCCESS,onClick:()=>g(!0),icon:I.jsx(GS,{}),children:n("Add Song")}),d?I.jsx(sf,{title:n("Add Song"),bodyContent:I.jsx(H8,{}),footerContent:I.jsxs(I.Fragment,{children:[I.jsx(Lt,{onClick:()=>g(!1),children:n("Close")}),I.jsx(Lt,{category:qt.SUCCESS,form:"formAddSong",type:"submit",icon:I.jsx(GS,{}),children:n("Add")})]})}):I.jsx(I.Fragment,{}),Yc({message:u,onCloseGrowl:y})]})},ez=O.memo(J8),tz=t=>{const{configSongDialogFnsRef:e,notesFnsRef:n,generateChartDialogFnsRef:r,deleteSongDialogFnsRef:a}=t,{t:o}=$t(),[u,f]=O.useState(!1);return O.useImperativeHandle(e,()=>({show(){f(!0)}})),u?I.jsx(sf,{title:o("Configure Song"),bodyContent:I.jsx(I.Fragment,{children:I.jsx(J6,{notesFnsRef:n,generateChartDialogFnsRef:r,deleteSongDialogFnsRef:a})}),footerContent:I.jsx(I.Fragment,{children:I.jsx(Lt,{onClick:()=>f(!1),children:o("Close")})})}):I.jsx(I.Fragment,{})},nz=O.memo(tz),rz=t=>{const{deleteSongDialogFnsRef:e,song:n}=t,{t:r}=$t(),a=Ss(),o=zt($r.selectLoggedUser),u=zt(Br.selectDeleteSongError),[f,d]=O.useState(!1);O.useImperativeHandle(e,()=>({show(){d(!0)}}));const g=O.useCallback(()=>{a(Hr.deleteSong({loggedUser:o,id:n.id}))},[a,o,n.id]),y=O.useCallback(()=>{a(Hr.clearDeleteSongError())},[a]);return f?I.jsxs(I.Fragment,{children:[I.jsx(GR,{bodyContent:I.jsxs(I.Fragment,{children:[I.jsx("p",{children:r("Are you sure you want to delete this song?")}),I.jsx("p",{children:r("This action cannot be undone")})]}),footerContent:I.jsxs(I.Fragment,{children:[I.jsx(Lt,{category:qt.DANGER,onClick:g,children:r("Delete Song")}),I.jsx(Lt,{category:qt.DEFAULT,onClick:()=>d(!1),children:r("Cancel")})]})}),Yc({message:u,onCloseGrowl:y})]}):I.jsx(I.Fragment,{})},iz=O.memo(rz),az=t=>{const{generateChartDialogFnsRef:e}=t,{onAddWordsAsNotes:n}=t,{t:r}=$t(),a=O.useRef(null),[o,u]=O.useState(!1);O.useImperativeHandle(e,()=>({show(){u(!0)}}));const f=O.useCallback(d=>{var g;a.current&&(n((g=a.current)==null?void 0:g.value),d.target.value="",u(!1))},[n]);return o?I.jsx(sf,{title:r("Generate mapping with lyrics"),bodyContent:I.jsx(na,{label:r("Song lyrics"),field:I.jsx(i2,{ref:a})}),footerContent:I.jsxs(I.Fragment,{children:[I.jsx(Lt,{category:qt.DANGER,onClick:f,children:r("Generate")}),I.jsx(Lt,{category:qt.DEFAULT,onClick:()=>u(!1),children:r("Cancel")})]})}):I.jsx(I.Fragment,{})},sz=O.memo(az),oz=t=>{const{show:e,onConfirm:n,onCancel:r}=t,{t:a}=$t();return e?I.jsx(GR,{bodyContent:I.jsxs(I.Fragment,{children:[I.jsx("p",{children:a("Are you sure you want to leave this page?")}),I.jsx("p",{children:a("Some unsaved changes will be lost")})]}),footerContent:I.jsxs(I.Fragment,{children:[I.jsx(Lt,{category:qt.DANGER,onClick:n,children:a("Leave Page")}),I.jsx(Lt,{category:qt.DEFAULT,onClick:r,children:a("Cancel")})]})}):I.jsx(I.Fragment,{})},lz=O.memo(oz),uz="_Link_8fn99_1",cz={Link:uz},fz=t=>{const{children:e,...n}=t;return I.jsx(Kv,{className:cz.Link,...n,children:e})},o2=O.memo(fz),B_=t=>{const{noteIndex:e,chunkIndex:n}=t,r=document.querySelector(`[data-note-index="${e}"][data-chunk-index="${n}"]`);r&&r.dispatchEvent(new MouseEvent("dblclick",{view:window,bubbles:!0,cancelable:!0}))},hz=t=>{t.preventDefault()},dz=t=>{const{event:e,noteIndex:n,chunkIndex:r}=t;e.preventDefault(),B_({noteIndex:n,chunkIndex:r+1})},mz=t=>{const{event:e,noteIndex:n,chunkIndex:r}=t;e.preventDefault(),B_({noteIndex:n,chunkIndex:r-1})},gz=t=>{const{event:e}=t;e.target.blur()},pz=t=>{const{event:e,originalText:n,setEditInputValue:r}=t;r(n),setTimeout(()=>{e.target.blur()},0)},yz=t=>{const{event:e,noteIndex:n,chunkIndex:r}=t;e.preventDefault();const a=e.shiftKey?n-1:n+1;B_({noteIndex:a,chunkIndex:r})},vz=Object.freeze({Enter:gz,Tab:yz,ArrowUp:mz,ArrowDown:dz,Escape:pz}),_z="_NoteChunk_859fu_1",Ez="_ChunkText_859fu_11",bz="_EmptyChunkText_859fu_171",gy={NoteChunk:_z,ChunkText:Ez,EmptyChunkText:bz},Sz=t=>{const{chunk:e,note:n,text:r,chunkIndex:a,noteIndex:o,filledNoteIndex:u,hasRightBorder:f,onOpenContextMenu:d,onEditNoteChunkText:g,onEditNoteDefinitionChunkText:y}=t,{t:_}=$t(),[E,T]=O.useState(!1),[A,M]=O.useState(r),P=O.useMemo(()=>o===0,[o]),j=O.useMemo(()=>a===0,[a]),G=O.useMemo(()=>a%12+1,[a]),Y=O.useMemo(()=>!r||P,[P,r]),re=O.useMemo(()=>_(P?"Double click to define pitch":"Double click to define note&#013;Drag the note to move it"),[P,_]),te=O.useCallback(()=>{T(U=>!U)},[]),F=O.useCallback(U=>{if(U.preventDefault(),U.dataTransfer.getData("noteIndex")!=o)return;const k=U.dataTransfer.getData("text");g({text:k,noteIndex:o,chunkIndex:a})},[a,o,g]),D=O.useCallback(U=>{U.dataTransfer.setData("text",r),U.dataTransfer.setData("noteIndex",o)},[o,r]),x=O.useCallback(U=>{const H=vz[U.key];H&&H({event:U,chunkIndex:a,noteIndex:o,originalText:r,setEditInputValue:M})},[a,o,r]);O.useEffect(()=>{M(r)},[r]);const C=O.useMemo(()=>`note-chunk-${n.id}-${e.id}`,[e.id,n.id]),N=O.useMemo(()=>{const U=r===""?_("Pitch"):r,H=u===-1&&r===""?_("Note"):r,k=P?U:H;return I.jsx("span",{className:`${gy.ChunkText} ${r?"":gy.EmptyChunkText}`,children:k})},[u,P,_,r]);return I.jsx("div",{id:C,className:gy.NoteChunk,onContextMenu:U=>{U.preventDefault(),d({chunkIndex:a,noteIndex:o,top:U.pageY-window.scrollY,left:U.pageX-window.scrollX})},onDoubleClick:te,draggable:!Y,onDragStart:D,onDrop:F,onDragOver:hz,"data-is-drag-disabled":Y,"data-pitch-index":G,"data-has-bottom-border":!!r||P,"data-has-right-border":f||P,"data-has-left-border":P,"data-has-top-border":P&&j,"data-chunk-index":a,"data-note-index":o,title:re,children:E?I.jsx(ra,{autoFocus:!0,type:"text",name:"note-chunk-edit-input",value:A,onKeyDown:x,onChange:U=>M(U.target.value),onBlur:()=>{T(!1),(P?y:g)({text:A,noteIndex:o,chunkIndex:a})}}):N})},Tz=O.memo(Sz),Io=t=>t[0].chunks.length,wz=t=>{const{qty:e,setNotes:n}=t;n(r=>[...r,...Array.from({length:e},()=>ls(Io(r)))])},Az=t=>{const{qty:e,setNotes:n}=t;n(r=>r.map(a=>{const o=[...a.chunks,...Array.from({length:e},()=>F_())];return{...a,chunks:o}}))},l2=t=>{const{noteIndex:e,setNotes:n}=t;n(r=>[...r.slice(0,e),ls(Io(r)),...r.slice(e)])},Rz=t=>{const{contextMenuData:e,setNotes:n}=t,{noteIndex:r}=e;l2({noteIndex:r+1,setNotes:n})},Cz=t=>{const{contextMenuData:e,setNotes:n}=t,{noteIndex:r}=e;l2({noteIndex:r,setNotes:n})},u2=t=>{const{chunkIndex:e,setNotes:n}=t;n(r=>r.map(a=>{const o=[...a.chunks.slice(0,e),F_(),...a.chunks.slice(e)];return{...a,chunks:o}}))},xz=t=>{const{contextMenuData:e,setNotes:n}=t,{chunkIndex:r}=e;u2({chunkIndex:r+1,setNotes:n})},Iz=t=>{const{contextMenuData:e,setNotes:n}=t,{chunkIndex:r}=e;u2({chunkIndex:r,setNotes:n})},Oz=t=>{const{setNotes:e,songText:n}=t,r=Jx(n);e(a=>{const o=Io(a);return[...a.slice(0,1),...r.map(u=>{const f=ls(o);return f.chunks[0].text=u,f})]},[])},c2=t=>t.chunks.findIndex(e=>e.text),Dz=t=>{const{setNotes:e}=t;e(n=>{let r=-1;for(let o=n.length-1;o>=0&&!n[o].chunks.reduce((f,d)=>f+d.text,"");o--)r=o;const a=r!=-1?n.slice(0,r):[...n];return a.length?[...a]:[...n]})},Nz=t=>{const{contextMenuData:e,setNotes:n}=t,{noteIndex:r}=e;n(a=>r===0?[...a]:[...a.slice(0,r),...a.slice(r+1)])},Pz=t=>{const{contextMenuData:e,setNotes:n}=t,{chunkIndex:r}=e;n(a=>a.map(o=>{if(o.chunks.length===1)return{...o};const u=[...o.chunks.slice(0,r),...o.chunks.slice(r+1)];return{...o,chunks:u}}))},f2=(t,e)=>t.reduce((n,r)=>n+r.chunks[e].text,""),kz=t=>{const{setNotes:e}=t;e(n=>{const r=Lz(n),a=Mz(r);return a[0].chunks.length?[...a]:[...n]})},Mz=t=>{const e=Io(t);let n=-1;for(let r=e-1;r>=0&&!f2(t,r);r--)n=r;return n==-1?[...t]:t.map(r=>{const a=r.chunks.map((o,u)=>u>=n?null:o).filter(Boolean);return{...r,chunks:a}})},Lz=t=>{const e=Io(t);let n=-1;for(let r=0;r<e&&!f2(t,r);r++)n=r;return n==-1?[...t]:t.map(r=>{const a=r.chunks.map((o,u)=>u>n?o:null).filter(Boolean);return{...r,chunks:a}})},Uz=t=>e=>{const{text:n,noteIndex:r,chunkIndex:a}=e,o=n.trim(),u=!!o,d=o.indexOf(" ")!==-1?o.split(" "):[n];t(g=>{const y=Io(g),_=g[r],E=_.chunks.map((A,M)=>{const P=M==a,j=u?"":A.text;return{...A,text:P?d[0]:j}}),T=d.length>1?d.slice(1).map(A=>{const M=ls(y);return M.chunks[a].text=A,M}):[];return[...g.slice(0,r),{..._,chunks:E},...T,...g.slice(r+1)]})},Vz=t=>e=>{const{text:n,noteIndex:r,chunkIndex:a}=e,o=n.trim(),f=o.indexOf(" ")!==-1?o.split(" "):[n];t(d=>{const g=Io(d),y=d[r],_=y.chunks.map((T,A)=>{const M=A==a;return{...T,text:M?f[0]:T.text}}),E=f.length>1?f.slice(1).map(T=>{const A=ls(g);return A.chunks[a].text=T,A}):[];return[...d.slice(0,r),{...y,chunks:_},...E,...d.slice(r+1)]})},jz=(t,e,n)=>{if(e==-1||n==-1)return!1;if(e<n)return!(t<=e||t>n);if(t==n)return!1;if(t<=e&&t>n)return!0},zz="_Note_efu7e_1",Fz={Note:zz},Bz=t=>{const{note:e,noteIndex:n,nextNoteNoteIndex:r,hasNextNote:a,setNotes:o,contextMenuFnsRef:u}=t,f=O.useCallback(y=>{var _;(_=u.current)==null||_.setContextMenuData(y)},[u]),d=O.useCallback(Uz(o),[o]),g=O.useCallback(Vz(o),[o]);return I.jsx("div",{className:Fz.Note,children:e.chunks.map((y,_)=>{const E=c2(e),T=a?jz(_,E,r):!1;return I.jsx(Tz,{note:e,chunk:y,chunkIndex:_,noteIndex:n,filledNoteIndex:E,text:y.text,hasRightBorder:T,onOpenContextMenu:f,onEditNoteChunkText:d,onEditNoteDefinitionChunkText:g},y.id)})})},Hz=O.memo(Bz),qz="_NotesContainer_og4yb_1",$z={NotesContainer:qz},Gz=t=>{const{notes:e,notesFnsRef:n}=t,{t:r}=$t(),[a,o]=O.useState(e),[u,f]=O.useState(!0),d=O.useRef(null),g=O.useMemo(()=>[{label:r("Add Pitch Above"),onClick:y=>{Iz({contextMenuData:y,setNotes:o})}},{label:r("Add Pitch Below"),onClick:y=>{xz({contextMenuData:y,setNotes:o})}},{label:r("Add Note Before"),onClick:y=>{Cz({contextMenuData:y,setNotes:o})}},{label:r("Add Note After"),onClick:y=>{Rz({contextMenuData:y,setNotes:o})}},{label:r("Remove Pitch"),type:"danger",onClick:y=>{Pz({contextMenuData:y,setNotes:o})}},{label:r("Remove Note"),type:"danger",onClick:y=>{Nz({contextMenuData:y,setNotes:o})}}],[r]);return O.useImperativeHandle(n,()=>({setWrapNotes(y){f(y)},getNotes(){return[...a]},addMultipleNotes(y){wz({setNotes:o,qty:y})},addMultiplePitches(y){Az({setNotes:o,qty:y})},removeEmptyNotesAtTheEnd(){Dz({setNotes:o})},trimPitches(){kz({setNotes:o})},addWordsAsNotes(y){Oz({setNotes:o,songText:y})}})),I.jsxs("div",{className:$z.NotesContainer,"data-wrap-notes":u,children:[a.map((y,_)=>{const E=a.length>_+1,T=E?c2(a[_+1]):null;return I.jsx(Hz,{setNotes:o,note:y,noteIndex:_,hasNextNote:E,nextNoteNoteIndex:T,contextMenuFnsRef:d},y.id)}),I.jsx(gU,{items:g,contextMenuFnsRef:d})]})},Kz=O.memo(Gz),Yz="_SaveChartOption_1tona_1",Cw={SaveChartOption:Yz},Qz=t=>{const{songId:e,notesFnsRef:n}=t,{t:r}=$t(),a=Ss(),o=zt(Br.selectSongById(e)),u=zt($r.selectLoggedUser),f=zt(Br.selectSaveSongStatus),d=zt(Br.selectSaveSongMessage),g=zt(Br.selectSaveSongError),y=O.useCallback(async()=>{var M;const T=(M=n.current)==null?void 0:M.getNotes(),A=o.title;a(Hr.saveSong({song:{...o,title:A,notes:T},loggedUser:u}))},[a,u,n,o]),_=O.useCallback(()=>{a(Hr.clearSaveSongError())},[a]),E=O.useCallback(()=>{a(Hr.clearSaveSongStatus())},[a]);return I.jsxs("div",{className:Cw.SaveChartOption,children:[I.jsxs(Lt,{className:Cw.SaveSongButton,onClick:y,category:qt.SUCCESS,icon:I.jsx(l6,{}),children:[e2(f)?I.jsx(qR,{}):I.jsx(I.Fragment,{})," ",r("Save Changes")]}),Z8({message:d,onCloseGrowl:E}),Yc({message:g,onCloseGrowl:_})]})},Xz=O.memo(Qz),Wz="_TableContainer_lkaju_1",Zz="_Table_lkaju_1",_l={TableContainer:Wz,Table:Zz},Jz=()=>{const{t}=$t(),[e,n]=O.useState(!1);return I.jsxs(I.Fragment,{children:[I.jsx(Lt,{category:qt.PRIMARY,onClick:()=>n(!0),icon:I.jsx(s6,{}),children:t("How to Use")}),e?I.jsx(sf,{title:t("How to Use"),size:cU.LARGE,bodyContent:I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:_l.TableContainer,children:[I.jsx("h3",{children:t("Notes")}),I.jsxs("table",{className:_l.Table,children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("td",{children:t("Action")}),I.jsx("td",{children:t("How To Do")})]})}),I.jsxs("tbody",{children:[I.jsxs("tr",{children:[I.jsx("td",{children:t("Edit Note")}),I.jsx("td",{children:t("Double click the note")})]}),I.jsxs("tr",{children:[I.jsx("td",{children:t("Break Word Into Notes")}),I.jsx("td",{children:t("Add spaces between letters and hit enter (or click outside)")})]}),I.jsxs("tr",{children:[I.jsx("td",{children:t("Change Note Pitch")}),I.jsx("td",{children:t("Click and hold the note, then drag it to the new position")})]}),I.jsxs("tr",{children:[I.jsx("td",{children:t("Add Note")}),I.jsx("td",{children:t("Right-click a note in the chart")})]}),I.jsxs("tr",{children:[I.jsx("td",{children:t("Remove Note")}),I.jsx("td",{children:t("Right-click a note in the chart")})]}),I.jsxs("tr",{children:[I.jsx("td",{children:t("Add Multiple Notes")}),I.jsx("td",{children:t('Click in "Configure Song" button')})]})]})]})]}),I.jsxs("div",{className:_l.TableContainer,children:[I.jsx("h3",{children:t("Pitches")}),I.jsxs("table",{className:_l.Table,children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("td",{children:t("Action")}),I.jsx("td",{children:t("How To Do")})]})}),I.jsxs("tbody",{children:[I.jsxs("tr",{children:[I.jsx("td",{children:t("Add Pitch")}),I.jsx("td",{children:t("Right-click a note in the chart")})]}),I.jsxs("tr",{children:[I.jsx("td",{children:t("Remove Pitch")}),I.jsx("td",{children:t("Right-click a note in the chart")})]}),I.jsxs("tr",{children:[I.jsx("td",{children:t("Add Multiple Pitches")}),I.jsx("td",{children:t('Click in "Configure Song" button')})]})]})]})]}),I.jsxs("div",{className:_l.TableContainer,children:[I.jsx("h3",{children:t("Keyboard Shortcuts when Editing Note")}),I.jsxs("table",{className:_l.Table,children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("td",{children:t("Action")}),I.jsx("td",{children:t("How To Do")})]})}),I.jsxs("tbody",{children:[I.jsxs("tr",{children:[I.jsx("td",{children:t("Save")}),I.jsx("td",{children:t("Enter")})]}),I.jsxs("tr",{children:[I.jsx("td",{children:t("Cancel")}),I.jsx("td",{children:t("Esc")})]}),I.jsxs("tr",{children:[I.jsx("td",{children:t("Navigate Notes")}),I.jsx("td",{children:t("Tab or Shift + Tab")})]}),I.jsxs("tr",{children:[I.jsx("td",{children:t("Navigate Pitches")}),I.jsx("td",{children:t("Arrow Up or Arrow Down")})]})]})]})]})]}),footerContent:I.jsx(I.Fragment,{children:I.jsx(Lt,{onClick:()=>n(!1),children:t("Close")})})}):I.jsx(I.Fragment,{})]})},eF=O.memo(Jz),tF="_SongTitle_rcztm_1",nF="_CheckboxContainer_rcztm_8",xw={SongTitle:tF,CheckboxContainer:nF},rF=t=>{const{id:e,title:n,notesFnsRef:r}=t,{t:a}=$t(),o=Ss(),[u,f]=O.useState(!1),[d,g]=O.useState(n),y=O.useCallback(()=>{f(!0)},[]),_=O.useCallback(A=>{A.key==="Enter"&&A.target.blur()},[]),E=O.useCallback(()=>{f(!1),o(Hr.editSongTitle({id:e,title:d}))},[o,e,d]),T=O.useCallback(A=>{var M;(M=r.current)==null||M.setWrapNotes(A)},[r]);return I.jsx(I.Fragment,{children:u?I.jsx(ra,{autoFocus:!0,type:"text",value:d,onChange:A=>g(A.target.value),onKeyDown:_,onBlur:E}):I.jsxs(I.Fragment,{children:[I.jsx("h2",{className:xw.SongTitle,onDoubleClick:y,children:d}),I.jsx(Xz,{songId:e,notesFnsRef:r}),I.jsx(rU,{className:xw.CheckboxContainer,label:a("Break Chart"),initialValue:!0,onChange:T})]})})},iF=O.memo(rF),aF="_Song_6jqb9_1",sF="_SongTitleContainer_6jqb9_7",Iw={Song:aF,SongTitleContainer:sF},oF=t=>{const{notesFnsRef:e,generateChartDialogFnsRef:n,song:r}=t,{t:a}=$t(),o=O.useRef(null),u=O.useRef(null);return I.jsxs("div",{className:Iw.Song,children:[I.jsx(eF,{}),I.jsx(Lt,{category:qt.PRIMARY,onClick:()=>{var f;return(f=o.current)==null?void 0:f.show()},icon:I.jsx(c6,{}),children:a("Configure Song")}),I.jsx("div",{className:Iw.SongTitleContainer,children:I.jsx(iF,{id:r.id,title:r.title,notesFnsRef:e})}),I.jsx(Kz,{notes:r.notes,notesFnsRef:e}),I.jsx(nz,{configSongDialogFnsRef:o,generateChartDialogFnsRef:n,deleteSongDialogFnsRef:u,notesFnsRef:e}),I.jsx(iz,{deleteSongDialogFnsRef:u,song:r})]})},lF=O.memo(oF),{t:uF}=Pt,cF=t=>t.length?t.map(e=>I.jsx("li",{children:I.jsx(o2,{to:{pathname:"/chart",search:`?id=${e.id}`},children:e.title})},e.id)):I.jsx("li",{children:uF("No songs here. What about adding one?")}),fF="_SongListContainer_v77t5_1",hF="_SongList_v77t5_1",Ow={SongListContainer:fF,SongList:hF},dF=()=>{const{t}=$t(),e=zt(Br.selectAllSongs);return I.jsxs("div",{className:Ow.SongListContainer,children:[I.jsx("h2",{children:t("Song List")}),I.jsx("ul",{className:Ow.SongList,children:cF(e)})]})},mF=O.memo(dF),gF="_Header_10ukp_1",pF="_ContentContainer_10ukp_12",yF="_SignOut_10ukp_17",Av={Header:gF,ContentContainer:pF,SignOut:yF},vF=()=>{const{t}=$t(),e=Ss(),n=zt($r.isLoggedIn),r=O.useCallback(a=>{a.preventDefault(),e(lo.signOutUser())},[e]);return I.jsxs("div",{className:Av.Header,children:[I.jsx(y6,{}),I.jsx("h1",{children:"Melo Chart"}),n?I.jsxs(I.Fragment,{children:[I.jsx("ul",{children:I.jsx("li",{children:I.jsx(o2,{to:{pathname:""},children:t("My songs")})})}),I.jsx(Lt,{className:Av.SignOut,category:qt.DANGER,textOnly:!0,onClick:r,children:t("Sign Out")})]}):I.jsx(I.Fragment,{})]})},_F=t=>{const{children:e}=t;return I.jsx("div",{className:Av.ContentContainer,children:e})},EF=()=>{const t=Yr(),e=zt($r.isFirebaseOnAuthStateChangedStatusComplete),n=O.useMemo(()=>{const r=t.search.startsWith("?url=");return e&&!r},[e,t.search]);return I.jsxs(I.Fragment,{children:[I.jsx(X8,{}),I.jsx(vF,{}),I.jsx(_F,{children:I.jsx(kM,{})}),n?I.jsx(I.Fragment,{}):I.jsx(R6,{})]})},bF=O.memo(EF),SF="_Chart_m1uz3_1",TF={Chart:SF},wF=()=>{const t=O.useRef(null),e=O.useRef(null),[n]=Yv(),r=n.get("id")||null,a=zt(Br.selectSongById(r)),o=O.useCallback(d=>{var g;(g=t.current)==null||g.addWordsAsNotes(d)},[]),u=O.useCallback(()=>{var _;if(!a)return!1;const d=JSON.stringify(a.notes),g=((_=t.current)==null?void 0:_.getNotes())||[],y=JSON.stringify(g);return d!=y},[a,t]),f=RM(u);return I.jsxs("div",{className:TF.Chart,children:[a?I.jsx(lF,{notesFnsRef:t,generateChartDialogFnsRef:e,song:a}):I.jsx(JA,{to:"/"}),I.jsx(lz,{show:f.state==="blocked",onConfirm:()=>f.proceed(),onCancel:()=>f.reset()}),I.jsx(sz,{generateChartDialogFnsRef:e,onAddWordsAsNotes:o})]})},AF=O.memo(wF),RF="_Home_1ni6n_1",CF={Home:RF},xF=()=>I.jsxs("div",{className:CF.Home,children:[I.jsx(ez,{}),I.jsx(mF,{})]}),IF=O.memo(xF),OF="_LoginContainer_162n2_1",DF="_Login_162n2_1",Dw={LoginContainer:OF,Login:DF},NF=()=>{const{t}=$t(),e=Ss(),n=zt($r.selectSignUpError),r=zt($r.selectSignInError),a=O.useRef(null),[o,u]=O.useState(!0),[f,d]=O.useState(""),[g,y]=O.useState(""),[_,E]=O.useState(""),T=O.useCallback(()=>{const G=a.current===document.activeElement;return f||G?f:g.split("@")[0]||""},[g,f]),A=O.useCallback(G=>{G.preventDefault(),e(lo.signInUser({email:g,password:_}))},[e,g,_]),M=O.useCallback(G=>{G.preventDefault(),e(lo.signUpUser({username:T(),email:g,password:_}))},[e,g,T,_]),P=O.useCallback(()=>{e(lo.clearSignUpError())},[e]),j=O.useCallback(()=>{e(lo.clearSignInError())},[e]);return I.jsxs("div",{className:Dw.LoginContainer,children:[I.jsxs("form",{className:Dw.Login,onSubmit:o?A:M,children:[I.jsx("h2",{children:t(o?"Login":"Create an Account")}),I.jsx(na,{label:t("Email"),field:I.jsx(ra,{type:"text",name:"email",value:g,onChange:G=>y(G.target.value)})}),I.jsx(na,{label:t("Password"),field:I.jsx(ra,{type:"password",name:"password",value:_,onChange:G=>E(G.target.value)})}),o?I.jsx(I.Fragment,{}):I.jsx(na,{label:t("Username"),field:I.jsx(ra,{ref:a,type:"text",name:"username",value:T(),onChange:G=>d(G.target.value)})}),I.jsx(Lt,{category:qt.SUCCESS,icon:o?I.jsx(E6,{}):I.jsx(S6,{}),children:t(o?"Sign in":"Sign up")})]}),o?I.jsx(Lt,{category:qt.PRIMARY,textOnly:!0,onClick:()=>u(!1),children:t("Don't have an account? Sign up")}):I.jsx(Lt,{category:qt.PRIMARY,textOnly:!0,onClick:()=>u(!0),children:t("Go back")}),Yc({message:n,onCloseGrowl:P}),Yc({message:r,onCloseGrowl:j})]})},PF=O.memo(NF),kF=t=>{const{children:e}=t,n=Wl(),[r]=Yv(),a=zt($r.isLoggedIn);return O.useEffect(()=>{if(a){const o=r.get("url")||"/";n(o,{replace:!0})}},[a,n,r]),e},Nw=t=>{const{children:e}=t,n=Wl(),r=Yr(),[a]=Yv(),o=zt($r.isLoggedIn),u=zt($r.isLoginVerificationComplete);return O.useEffect(()=>{if(!o){const f=r.pathname+r.search,d=u?"":`?url=${f}`;n(`/login${d}`,{replace:!0})}if(o){const f=a.get("url")||null;f&&n(f,{replace:!0})}},[o,u,r.pathname,r.search,n,a]),e},MF=s4([{path:"/",element:I.jsx(bF,{}),children:[{index:!0,element:I.jsx(Nw,{children:I.jsx(IF,{})})},{path:"login",element:I.jsx(kF,{children:I.jsx(PF,{})})},{path:"chart",element:I.jsx(Nw,{children:I.jsx(AF,{})})},{path:"*",element:I.jsx(JA,{to:"/"})}]}]),LF=()=>I.jsx(DM,{router:MF}),UF=()=>{const t=Ss(),e=zt($r.selectLoggedUser);return O.useEffect(()=>{e&&t(Hr.loadSongs(e.songs))},[t,e]),O.useEffect(()=>{XN(ya.auth.auth,n=>{n&&t(lo.loadUser(n)),t(lo.completeFirebaseOnAuthStateChangedStatus())})},[t]),I.jsx(I.Fragment,{children:I.jsx(LF,{})})},VF=O.memo(UF),jF=FU({reducer:{songs:f8,users:M8}});GI.createRoot(document.getElementById("root")).render(I.jsx(O.StrictMode,{children:I.jsx(oO,{store:jF,children:I.jsx(VF,{})})}));export{FF as c,Pw as g};
