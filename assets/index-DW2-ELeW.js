var rO=Object.defineProperty;var iO=(t,e,n)=>e in t?rO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var xp=(t,e,n)=>iO(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();var CB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ip={exports:{}},ec={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mb;function aO(){if(mb)return ec;mb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var f in a)f!=="key"&&(o[f]=a[f])}else o=a;return a=o.ref,{$$typeof:t,type:r,key:u,ref:a!==void 0?a:null,props:o}}return ec.Fragment=e,ec.jsx=n,ec.jsxs=n,ec}var gb;function sO(){return gb||(gb=1,Ip.exports=aO()),Ip.exports}var I=sO(),Op={exports:{}},Ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pb;function oO(){if(pb)return Ke;pb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function E(V){return V===null||typeof V!="object"?null:(V=_&&V[_]||V["@@iterator"],typeof V=="function"?V:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,D={};function k(V,ie,de){this.props=V,this.context=ie,this.refs=D,this.updater=de||T}k.prototype.isReactComponent={},k.prototype.setState=function(V,ie){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ie,"setState")},k.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function j(){}j.prototype=k.prototype;function W(V,ie,de){this.props=V,this.context=ie,this.refs=D,this.updater=de||T}var G=W.prototype=new j;G.constructor=W,w(G,k.prototype),G.isPureReactComponent=!0;var ne=Array.isArray,ee={H:null,A:null,T:null,S:null,V:null},B=Object.prototype.hasOwnProperty;function N(V,ie,de,oe,Te,Be){return de=Be.ref,{$$typeof:t,type:V,key:ie,ref:de!==void 0?de:null,props:Be}}function x(V,ie){return N(V.type,ie,void 0,void 0,void 0,V.props)}function C(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function M(V){var ie={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(de){return ie[de]})}var F=/\/+/g;function U(V,ie){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):ie.toString(36)}function P(){}function Se(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(P,P):(V.status="pending",V.then(function(ie){V.status==="pending"&&(V.status="fulfilled",V.value=ie)},function(ie){V.status==="pending"&&(V.status="rejected",V.reason=ie)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Ue(V,ie,de,oe,Te){var Be=typeof V;(Be==="undefined"||Be==="boolean")&&(V=null);var De=!1;if(V===null)De=!0;else switch(Be){case"bigint":case"string":case"number":De=!0;break;case"object":switch(V.$$typeof){case t:case e:De=!0;break;case y:return De=V._init,Ue(De(V._payload),ie,de,oe,Te)}}if(De)return Te=Te(V),De=oe===""?"."+U(V,0):oe,ne(Te)?(de="",De!=null&&(de=De.replace(F,"$&/")+"/"),Ue(Te,ie,de,"",function(dr){return dr})):Te!=null&&(C(Te)&&(Te=x(Te,de+(Te.key==null||V&&V.key===Te.key?"":(""+Te.key).replace(F,"$&/")+"/")+De)),ie.push(Te)),1;De=0;var qt=oe===""?".":oe+":";if(ne(V))for(var bt=0;bt<V.length;bt++)oe=V[bt],Be=qt+U(oe,bt),De+=Ue(oe,ie,de,Be,Te);else if(bt=E(V),typeof bt=="function")for(V=bt.call(V),bt=0;!(oe=V.next()).done;)oe=oe.value,Be=qt+U(oe,bt++),De+=Ue(oe,ie,de,Be,Te);else if(Be==="object"){if(typeof V.then=="function")return Ue(Se(V),ie,de,oe,Te);throw ie=String(V),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return De}function Y(V,ie,de){if(V==null)return V;var oe=[],Te=0;return Ue(V,oe,"","",function(Be){return ie.call(de,Be,Te++)}),oe}function he(V){if(V._status===-1){var ie=V._result;ie=ie(),ie.then(function(de){(V._status===0||V._status===-1)&&(V._status=1,V._result=de)},function(de){(V._status===0||V._status===-1)&&(V._status=2,V._result=de)}),V._status===-1&&(V._status=0,V._result=ie)}if(V._status===1)return V._result.default;throw V._result}var ye=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Oe(){}return Ke.Children={map:Y,forEach:function(V,ie,de){Y(V,function(){ie.apply(this,arguments)},de)},count:function(V){var ie=0;return Y(V,function(){ie++}),ie},toArray:function(V){return Y(V,function(ie){return ie})||[]},only:function(V){if(!C(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ke.Component=k,Ke.Fragment=n,Ke.Profiler=a,Ke.PureComponent=W,Ke.StrictMode=r,Ke.Suspense=d,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(V){return ee.H.useMemoCache(V)}},Ke.cache=function(V){return function(){return V.apply(null,arguments)}},Ke.cloneElement=function(V,ie,de){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var oe=w({},V.props),Te=V.key,Be=void 0;if(ie!=null)for(De in ie.ref!==void 0&&(Be=void 0),ie.key!==void 0&&(Te=""+ie.key),ie)!B.call(ie,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&ie.ref===void 0||(oe[De]=ie[De]);var De=arguments.length-2;if(De===1)oe.children=de;else if(1<De){for(var qt=Array(De),bt=0;bt<De;bt++)qt[bt]=arguments[bt+2];oe.children=qt}return N(V.type,Te,void 0,void 0,Be,oe)},Ke.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:o,_context:V},V},Ke.createElement=function(V,ie,de){var oe,Te={},Be=null;if(ie!=null)for(oe in ie.key!==void 0&&(Be=""+ie.key),ie)B.call(ie,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(Te[oe]=ie[oe]);var De=arguments.length-2;if(De===1)Te.children=de;else if(1<De){for(var qt=Array(De),bt=0;bt<De;bt++)qt[bt]=arguments[bt+2];Te.children=qt}if(V&&V.defaultProps)for(oe in De=V.defaultProps,De)Te[oe]===void 0&&(Te[oe]=De[oe]);return N(V,Be,void 0,void 0,null,Te)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(V){return{$$typeof:f,render:V}},Ke.isValidElement=C,Ke.lazy=function(V){return{$$typeof:y,_payload:{_status:-1,_result:V},_init:he}},Ke.memo=function(V,ie){return{$$typeof:g,type:V,compare:ie===void 0?null:ie}},Ke.startTransition=function(V){var ie=ee.T,de={};ee.T=de;try{var oe=V(),Te=ee.S;Te!==null&&Te(de,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Oe,ye)}catch(Be){ye(Be)}finally{ee.T=ie}},Ke.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},Ke.use=function(V){return ee.H.use(V)},Ke.useActionState=function(V,ie,de){return ee.H.useActionState(V,ie,de)},Ke.useCallback=function(V,ie){return ee.H.useCallback(V,ie)},Ke.useContext=function(V){return ee.H.useContext(V)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(V,ie){return ee.H.useDeferredValue(V,ie)},Ke.useEffect=function(V,ie,de){var oe=ee.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(V,ie)},Ke.useId=function(){return ee.H.useId()},Ke.useImperativeHandle=function(V,ie,de){return ee.H.useImperativeHandle(V,ie,de)},Ke.useInsertionEffect=function(V,ie){return ee.H.useInsertionEffect(V,ie)},Ke.useLayoutEffect=function(V,ie){return ee.H.useLayoutEffect(V,ie)},Ke.useMemo=function(V,ie){return ee.H.useMemo(V,ie)},Ke.useOptimistic=function(V,ie){return ee.H.useOptimistic(V,ie)},Ke.useReducer=function(V,ie,de){return ee.H.useReducer(V,ie,de)},Ke.useRef=function(V){return ee.H.useRef(V)},Ke.useState=function(V){return ee.H.useState(V)},Ke.useSyncExternalStore=function(V,ie,de){return ee.H.useSyncExternalStore(V,ie,de)},Ke.useTransition=function(){return ee.H.useTransition()},Ke.version="19.1.0",Ke}var yb;function Xd(){return yb||(yb=1,Op.exports=oO()),Op.exports}var O=Xd();const rA=nA(O);var Dp={exports:{}},tc={},Np={exports:{}},Pp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vb;function lO(){return vb||(vb=1,function(t){function e(Y,he){var ye=Y.length;Y.push(he);e:for(;0<ye;){var Oe=ye-1>>>1,V=Y[Oe];if(0<a(V,he))Y[Oe]=he,Y[ye]=V,ye=Oe;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var he=Y[0],ye=Y.pop();if(ye!==he){Y[0]=ye;e:for(var Oe=0,V=Y.length,ie=V>>>1;Oe<ie;){var de=2*(Oe+1)-1,oe=Y[de],Te=de+1,Be=Y[Te];if(0>a(oe,ye))Te<V&&0>a(Be,oe)?(Y[Oe]=Be,Y[Te]=ye,Oe=Te):(Y[Oe]=oe,Y[de]=ye,Oe=de);else if(Te<V&&0>a(Be,ye))Y[Oe]=Be,Y[Te]=ye,Oe=Te;else break e}}return he}function a(Y,he){var ye=Y.sortIndex-he.sortIndex;return ye!==0?ye:Y.id-he.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var d=[],g=[],y=1,_=null,E=3,T=!1,w=!1,D=!1,k=!1,j=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function ne(Y){for(var he=n(g);he!==null;){if(he.callback===null)r(g);else if(he.startTime<=Y)r(g),he.sortIndex=he.expirationTime,e(d,he);else break;he=n(g)}}function ee(Y){if(D=!1,ne(Y),!w)if(n(d)!==null)w=!0,B||(B=!0,U());else{var he=n(g);he!==null&&Ue(ee,he.startTime-Y)}}var B=!1,N=-1,x=5,C=-1;function M(){return k?!0:!(t.unstable_now()-C<x)}function F(){if(k=!1,B){var Y=t.unstable_now();C=Y;var he=!0;try{e:{w=!1,D&&(D=!1,W(N),N=-1),T=!0;var ye=E;try{t:{for(ne(Y),_=n(d);_!==null&&!(_.expirationTime>Y&&M());){var Oe=_.callback;if(typeof Oe=="function"){_.callback=null,E=_.priorityLevel;var V=Oe(_.expirationTime<=Y);if(Y=t.unstable_now(),typeof V=="function"){_.callback=V,ne(Y),he=!0;break t}_===n(d)&&r(d),ne(Y)}else r(d);_=n(d)}if(_!==null)he=!0;else{var ie=n(g);ie!==null&&Ue(ee,ie.startTime-Y),he=!1}}break e}finally{_=null,E=ye,T=!1}he=void 0}}finally{he?U():B=!1}}}var U;if(typeof G=="function")U=function(){G(F)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,Se=P.port2;P.port1.onmessage=F,U=function(){Se.postMessage(null)}}else U=function(){j(F,0)};function Ue(Y,he){N=j(function(){Y(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(Y){switch(E){case 1:case 2:case 3:var he=3;break;default:he=E}var ye=E;E=he;try{return Y()}finally{E=ye}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(Y,he){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ye=E;E=Y;try{return he()}finally{E=ye}},t.unstable_scheduleCallback=function(Y,he,ye){var Oe=t.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Oe+ye:Oe):ye=Oe,Y){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ye+V,Y={id:y++,callback:he,priorityLevel:Y,startTime:ye,expirationTime:V,sortIndex:-1},ye>Oe?(Y.sortIndex=ye,e(g,Y),n(d)===null&&Y===n(g)&&(D?(W(N),N=-1):D=!0,Ue(ee,ye-Oe))):(Y.sortIndex=V,e(d,Y),w||T||(w=!0,B||(B=!0,U()))),Y},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(Y){var he=E;return function(){var ye=E;E=he;try{return Y.apply(this,arguments)}finally{E=ye}}}}(Pp)),Pp}var _b;function uO(){return _b||(_b=1,Np.exports=lO()),Np.exports}var Mp={exports:{}},xn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eb;function cO(){if(Eb)return xn;Eb=1;var t=Xd();function e(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,g,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:d,containerInfo:g,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,xn.createPortal=function(d,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return o(d,g,null,y)},xn.flushSync=function(d){var g=u.T,y=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=g,r.p=y,r.d.f()}},xn.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(d,g))},xn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},xn.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var y=g.as,_=f(y,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,T=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?r.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:T}):y==="script"&&r.d.X(d,{crossOrigin:_,integrity:E,fetchPriority:T,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},xn.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=f(g.as,g.crossOrigin);r.d.M(d,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(d)},xn.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,_=f(y,g.crossOrigin);r.d.L(d,y,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},xn.preloadModule=function(d,g){if(typeof d=="string")if(g){var y=f(g.as,g.crossOrigin);r.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(d)},xn.requestFormReset=function(d){r.d.r(d)},xn.unstable_batchedUpdates=function(d,g){return d(g)},xn.useFormState=function(d,g,y){return u.H.useFormState(d,g,y)},xn.useFormStatus=function(){return u.H.useHostTransitionStatus()},xn.version="19.1.0",xn}var bb;function iA(){if(bb)return Mp.exports;bb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Mp.exports=cO(),Mp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sb;function fO(){if(Sb)return tc;Sb=1;var t=uO(),e=Xd(),n=iA();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function d(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,c=s;;){var m=l.return;if(m===null)break;var p=m.alternate;if(p===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===l)return f(m),i;if(p===c)return f(m),s;p=p.sibling}throw Error(r(188))}if(l.return!==c.return)l=m,c=p;else{for(var S=!1,A=m.child;A;){if(A===l){S=!0,l=m,c=p;break}if(A===c){S=!0,c=m,l=p;break}A=A.sibling}if(!S){for(A=p.child;A;){if(A===l){S=!0,l=p,c=m;break}if(A===c){S=!0,c=p,l=m;break}A=A.sibling}if(!S)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function g(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=g(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),G=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function U(i){return i===null||typeof i!="object"?null:(i=F&&i[F]||i["@@iterator"],typeof i=="function"?i:null)}var P=Symbol.for("react.client.reference");function Se(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===P?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case k:return"Profiler";case D:return"StrictMode";case ee:return"Suspense";case B:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case T:return"Portal";case G:return(i.displayName||"Context")+".Provider";case W:return(i._context.displayName||"Context")+".Consumer";case ne:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return s=i.displayName||null,s!==null?s:Se(i.type)||"Memo";case x:s=i._payload,i=i._init;try{return Se(i(s))}catch{}}return null}var Ue=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Oe=[],V=-1;function ie(i){return{current:i}}function de(i){0>V||(i.current=Oe[V],Oe[V]=null,V--)}function oe(i,s){V++,Oe[V]=i.current,i.current=s}var Te=ie(null),Be=ie(null),De=ie(null),qt=ie(null);function bt(i,s){switch(oe(De,s),oe(Be,i),oe(Te,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?B1(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=B1(s),i=H1(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}de(Te),oe(Te,i)}function dr(){de(Te),de(Be),de(De)}function Nt(i){i.memoizedState!==null&&oe(qt,i);var s=Te.current,l=H1(s,i.type);s!==l&&(oe(Be,i),oe(Te,l))}function wn(i){Be.current===i&&(de(Te),de(Be)),qt.current===i&&(de(qt),Qu._currentValue=ye)}var Qr=Object.prototype.hasOwnProperty,Oi=t.unstable_scheduleCallback,Mn=t.unstable_cancelCallback,Rs=t.unstable_shouldYield,Io=t.unstable_requestPaint,kn=t.unstable_now,nu=t.unstable_getCurrentPriorityLevel,Cs=t.unstable_ImmediatePriority,_a=t.unstable_UserBlockingPriority,Di=t.unstable_NormalPriority,kr=t.unstable_LowPriority,mr=t.unstable_IdlePriority,Ea=t.log,ba=t.unstable_setDisableYieldValue,mt=null,Qe=null;function An(i){if(typeof Ea=="function"&&ba(i),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(mt,i)}catch{}}var $t=Math.clz32?Math.clz32:Xr,Oo=Math.log,gr=Math.LN2;function Xr(i){return i>>>=0,i===0?32:31-(Oo(i)/gr|0)|0}var Wr=256,Zr=4194304;function Wn(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ni(i,s,l){var c=i.pendingLanes;if(c===0)return 0;var m=0,p=i.suspendedLanes,S=i.pingedLanes;i=i.warmLanes;var A=c&134217727;return A!==0?(c=A&~p,c!==0?m=Wn(c):(S&=A,S!==0?m=Wn(S):l||(l=A&~i,l!==0&&(m=Wn(l))))):(A=c&~p,A!==0?m=Wn(A):S!==0?m=Wn(S):l||(l=c&~i,l!==0&&(m=Wn(l)))),m===0?0:s!==0&&s!==m&&(s&p)===0&&(p=m&-m,l=s&-s,p>=l||p===32&&(l&4194048)!==0)?s:m}function pr(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Sa(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pi(){var i=Wr;return Wr<<=1,(Wr&4194048)===0&&(Wr=256),i}function xs(){var i=Zr;return Zr<<=1,(Zr&62914560)===0&&(Zr=4194304),i}function yr(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Lr(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ta(i,s,l,c,m,p){var S=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var A=i.entanglements,L=i.expirationTimes,Z=i.hiddenUpdates;for(l=S&~l;0<l;){var ae=31-$t(l),ue=1<<ae;A[ae]=0,L[ae]=-1;var J=Z[ae];if(J!==null)for(Z[ae]=null,ae=0;ae<J.length;ae++){var te=J[ae];te!==null&&(te.lane&=-536870913)}l&=~ue}c!==0&&Ln(i,c,0),p!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=p&~(S&~s))}function Ln(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-$t(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|l&4194090}function Jr(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var c=31-$t(l),m=1<<c;m&s|i[c]&s&&(i[c]|=s),l&=~m}}function ei(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function wa(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function z(){var i=he.p;return i!==0?i:(i=window.event,i===void 0?32:lb(i.type))}function $(i,s){var l=he.p;try{return he.p=i,s()}finally{he.p=l}}var X=Math.random().toString(36).slice(2),le="__reactFiber$"+X,me="__reactProps$"+X,ve="__reactContainer$"+X,Pe="__reactEvents$"+X,Ee="__reactListeners$"+X,Ae="__reactHandles$"+X,xe="__reactResources$"+X,Me="__reactMarker$"+X;function Re(i){delete i[le],delete i[me],delete i[Pe],delete i[Ee],delete i[Ae]}function Le(i){var s=i[le];if(s)return s;for(var l=i.parentNode;l;){if(s=l[ve]||l[le]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=K1(i);i!==null;){if(l=i[le])return l;i=K1(i)}return s}i=l,l=i.parentNode}return null}function tt(i){if(i=i[le]||i[ve]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function pt(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function ht(i){var s=i[xe];return s||(s=i[xe]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ot(i){i[Me]=!0}var Ze=new Set,vr={};function Jt(i,s){Vn(i,s),Vn(i+"Capture",s)}function Vn(i,s){for(vr[i]=s,i=0;i<s.length;i++)Ze.add(s[i])}var dn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ti={},Zn={};function Aa(i){return Qr.call(Zn,i)?!0:Qr.call(ti,i)?!1:dn.test(i)?Zn[i]=!0:(ti[i]=!0,!1)}function Rn(i,s,l){if(Aa(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function Un(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function He(i,s,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+c)}}var Gt,Jn;function Bn(i){if(Gt===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Gt=s&&s[1]||"",Jn=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gt+i+Jn}var ni=!1;function Rt(i,s){if(!i||ni)return"";ni=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(te){var J=te}Reflect.construct(i,[],ue)}else{try{ue.call()}catch(te){J=te}i.call(ue.prototype)}}else{try{throw Error()}catch(te){J=te}(ue=i())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(te){if(te&&J&&typeof te.stack=="string")return[te.stack,J.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),S=p[0],A=p[1];if(S&&A){var L=S.split(`
`),Z=A.split(`
`);for(m=c=0;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;for(;m<Z.length&&!Z[m].includes("DetermineComponentFrameRoot");)m++;if(c===L.length||m===Z.length)for(c=L.length-1,m=Z.length-1;1<=c&&0<=m&&L[c]!==Z[m];)m--;for(;1<=c&&0<=m;c--,m--)if(L[c]!==Z[m]){if(c!==1||m!==1)do if(c--,m--,0>m||L[c]!==Z[m]){var ae=`
`+L[c].replace(" at new "," at ");return i.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",i.displayName)),ae}while(1<=c&&0<=m);break}}}finally{ni=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Bn(l):""}function _r(i){switch(i.tag){case 26:case 27:case 5:return Bn(i.type);case 16:return Bn("Lazy");case 13:return Bn("Suspense");case 19:return Bn("SuspenseList");case 0:case 15:return Rt(i.type,!1);case 11:return Rt(i.type.render,!1);case 1:return Rt(i.type,!0);case 31:return Bn("Activity");default:return""}}function Mi(i){try{var s="";do s+=_r(i),i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function mn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ru(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Nm(i){var s=ru(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),c=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,p=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(S){c=""+S,p.call(this,S)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(S){c=""+S},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Do(i){i._valueTracker||(i._valueTracker=Nm(i))}function iu(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return i&&(c=ru(i)?i.checked?"true":"false":i.value),i=c,i!==l?(s.setValue(i),!0):!1}function Is(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Pm=/[\n"\\]/g;function Kt(i){return i.replace(Pm,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function er(i,s,l,c,m,p,S,A){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),s!=null?S==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+mn(s)):i.value!==""+mn(s)&&(i.value=""+mn(s)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),s!=null?Ra(i,S,mn(s)):l!=null?Ra(i,S,mn(l)):c!=null&&i.removeAttribute("value"),m==null&&p!=null&&(i.defaultChecked=!!p),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+mn(A):i.removeAttribute("name")}function Os(i,s,l,c,m,p,S,A){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),s!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||s!=null))return;l=l!=null?""+mn(l):"",s=s!=null?""+mn(s):l,A||s===i.value||(i.value=s),i.defaultValue=s}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=A?i.checked:!!c,i.defaultChecked=!!c,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S)}function Ra(i,s,l){s==="number"&&Is(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function ki(i,s,l,c){if(i=i.options,s){s={};for(var m=0;m<l.length;m++)s["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=s.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&c&&(i[l].defaultSelected=!0)}else{for(l=""+mn(l),s=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function St(i,s,l){if(s!=null&&(s=""+mn(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+mn(l):""}function Ds(i,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(r(92));if(Ue(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=mn(s),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c)}function Er(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var Ns=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mf(i,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,l):typeof l!="number"||l===0||Ns.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function au(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in s)c=s[m],s.hasOwnProperty(m)&&l[m]!==c&&mf(i,m,c)}else for(var p in s)s.hasOwnProperty(p)&&mf(i,p,s[p])}function su(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),km=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function No(i){return km.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Li=null;function br(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Vi=null,Ui=null;function ou(i){var s=tt(i);if(s&&(i=s.stateNode)){var l=i[me]||null;e:switch(i=s.stateNode,s.type){case"input":if(er(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Kt(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==i&&c.form===i.form){var m=c[me]||null;if(!m)throw Error(r(90));er(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===i.form&&iu(c)}break e;case"textarea":St(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&ki(i,!!l.multiple,s,!1)}}}var ri=!1;function gf(i,s,l){if(ri)return i(s,l);ri=!0;try{var c=i(s);return c}finally{if(ri=!1,(Vi!==null||Ui!==null)&&(lh(),Vi&&(s=Vi,i=Ui,Ui=Vi=null,ou(s),i)))for(s=0;s<i.length;s++)ou(i[s])}}function Ps(i,s){var l=i.stateNode;if(l===null)return null;var c=l[me]||null;if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sr=!1;if(Vr)try{var Ms={};Object.defineProperty(Ms,"passive",{get:function(){Sr=!0}}),window.addEventListener("test",Ms,Ms),window.removeEventListener("test",Ms,Ms)}catch{Sr=!1}var ii=null,Ca=null,ji=null;function lu(){if(ji)return ji;var i,s=Ca,l=s.length,c,m="value"in ii?ii.value:ii.textContent,p=m.length;for(i=0;i<l&&s[i]===m[i];i++);var S=l-i;for(c=1;c<=S&&s[l-c]===m[p-c];c++);return ji=m.slice(i,1<c?1-c:void 0)}function ai(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function si(){return!0}function uu(){return!1}function on(i){function s(l,c,m,p,S){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(l=i[A],this[A]=l?l(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?si:uu,this.isPropagationStopped=uu,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),s}var yt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Po=on(yt),ks=y({},yt,{view:0,detail:0}),pf=on(ks),Mo,ko,oi,Ls=y({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:js,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==oi&&(oi&&i.type==="mousemove"?(Mo=i.screenX-oi.screenX,ko=i.screenY-oi.screenY):ko=Mo=0,oi=i),Mo)},movementY:function(i){return"movementY"in i?i.movementY:ko}}),Tr=on(Ls),yf=y({},Ls,{dataTransfer:0}),Lm=on(yf),Vs=y({},ks,{relatedTarget:0}),Lo=on(Vs),cu=y({},yt,{animationName:0,elapsedTime:0,pseudoElement:0}),Vo=on(cu),vf=y({},yt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Uo=on(vf),Vm=y({},yt,{data:0}),fu=on(Vm),Us={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_f={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ef={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hu(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Ef[i])?!!s[i]:!1}function js(){return hu}var bf=y({},ks,{key:function(i){if(i.key){var s=Us[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=ai(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?_f[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:js,charCode:function(i){return i.type==="keypress"?ai(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ai(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),jo=on(bf),Sf=y({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),du=on(Sf),zi=y({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:js}),Tf=on(zi),wf=y({},yt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Af=on(wf),Rf=y({},Ls,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),zo=on(Rf),jn=y({},yt,{newState:0,oldState:0}),Cf=on(jn),xf=[9,13,27,32],li=Vr&&"CompositionEvent"in window,h=null;Vr&&"documentMode"in document&&(h=document.documentMode);var v=Vr&&"TextEvent"in window&&!h,b=Vr&&(!li||h&&8<h&&11>=h),R=" ",K=!1;function re(i,s){switch(i){case"keyup":return xf.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pe(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var lt=!1;function en(i,s){switch(i){case"compositionend":return pe(s);case"keypress":return s.which!==32?null:(K=!0,R);case"textInput":return i=s.data,i===R&&K?null:i;default:return null}}function ut(i,s){if(lt)return i==="compositionend"||!li&&re(i,s)?(i=lu(),ji=Ca=ii=null,lt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return b&&s.locale!=="ko"?null:s.data;default:return null}}var ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tn(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!ln[i.type]:s==="textarea"}function Fi(i,s,l,c){Vi?Ui?Ui.push(c):Ui=[c]:Vi=c,s=mh(s,"onChange"),0<s.length&&(l=new Po("onChange","change",null,l,c),i.push({event:l,listeners:s}))}var gn=null,ui=null;function mu(i){V1(i,0)}function If(i){var s=pt(i);if(iu(s))return i}function i0(i,s){if(i==="change")return s}var a0=!1;if(Vr){var Um;if(Vr){var jm="oninput"in document;if(!jm){var s0=document.createElement("div");s0.setAttribute("oninput","return;"),jm=typeof s0.oninput=="function"}Um=jm}else Um=!1;a0=Um&&(!document.documentMode||9<document.documentMode)}function o0(){gn&&(gn.detachEvent("onpropertychange",l0),ui=gn=null)}function l0(i){if(i.propertyName==="value"&&If(ui)){var s=[];Fi(s,ui,i,br(i)),gf(mu,s)}}function PI(i,s,l){i==="focusin"?(o0(),gn=s,ui=l,gn.attachEvent("onpropertychange",l0)):i==="focusout"&&o0()}function MI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return If(ui)}function kI(i,s){if(i==="click")return If(s)}function LI(i,s){if(i==="input"||i==="change")return If(s)}function VI(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var tr=typeof Object.is=="function"?Object.is:VI;function gu(i,s){if(tr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!Qr.call(s,m)||!tr(i[m],s[m]))return!1}return!0}function u0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function c0(i,s){var l=u0(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=s&&c>=s)return{node:l,offset:s-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=u0(l)}}function f0(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?f0(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function h0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Is(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Is(i.document)}return s}function zm(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var UI=Vr&&"documentMode"in document&&11>=document.documentMode,Fo=null,Fm=null,pu=null,Bm=!1;function d0(i,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Bm||Fo==null||Fo!==Is(c)||(c=Fo,"selectionStart"in c&&zm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),pu&&gu(pu,c)||(pu=c,c=mh(Fm,"onSelect"),0<c.length&&(s=new Po("onSelect","select",null,s,l),i.push({event:s,listeners:c}),s.target=Fo)))}function zs(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var Bo={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionrun:zs("Transition","TransitionRun"),transitionstart:zs("Transition","TransitionStart"),transitioncancel:zs("Transition","TransitionCancel"),transitionend:zs("Transition","TransitionEnd")},Hm={},m0={};Vr&&(m0=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function Fs(i){if(Hm[i])return Hm[i];if(!Bo[i])return i;var s=Bo[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in m0)return Hm[i]=s[l];return i}var g0=Fs("animationend"),p0=Fs("animationiteration"),y0=Fs("animationstart"),jI=Fs("transitionrun"),zI=Fs("transitionstart"),FI=Fs("transitioncancel"),v0=Fs("transitionend"),_0=new Map,qm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qm.push("scrollEnd");function Ur(i,s){_0.set(i,s),Jt(s,[i])}var E0=new WeakMap;function wr(i,s){if(typeof i=="object"&&i!==null){var l=E0.get(i);return l!==void 0?l:(s={value:i,source:s,stack:Mi(s)},E0.set(i,s),s)}return{value:i,source:s,stack:Mi(s)}}var Ar=[],Ho=0,$m=0;function Of(){for(var i=Ho,s=$m=Ho=0;s<i;){var l=Ar[s];Ar[s++]=null;var c=Ar[s];Ar[s++]=null;var m=Ar[s];Ar[s++]=null;var p=Ar[s];if(Ar[s++]=null,c!==null&&m!==null){var S=c.pending;S===null?m.next=m:(m.next=S.next,S.next=m),c.pending=m}p!==0&&b0(l,m,p)}}function Df(i,s,l,c){Ar[Ho++]=i,Ar[Ho++]=s,Ar[Ho++]=l,Ar[Ho++]=c,$m|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Gm(i,s,l,c){return Df(i,s,l,c),Nf(i)}function qo(i,s){return Df(i,null,null,s),Nf(i)}function b0(i,s,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var m=!1,p=i.return;p!==null;)p.childLanes|=l,c=p.alternate,c!==null&&(c.childLanes|=l),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(m=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,m&&s!==null&&(m=31-$t(l),i=p.hiddenUpdates,c=i[m],c===null?i[m]=[s]:c.push(s),s.lane=l|536870912),p):null}function Nf(i){if(50<Fu)throw Fu=0,Zg=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var $o={};function BI(i,s,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(i,s,l,c){return new BI(i,s,l,c)}function Km(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Bi(i,s){var l=i.alternate;return l===null?(l=nr(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function S0(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Pf(i,s,l,c,m,p){var S=0;if(c=i,typeof i=="function")Km(i)&&(S=1);else if(typeof i=="string")S=q2(i,l,Te.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case C:return i=nr(31,l,s,m),i.elementType=C,i.lanes=p,i;case w:return Bs(l.children,m,p,s);case D:S=8,m|=24;break;case k:return i=nr(12,l,s,m|2),i.elementType=k,i.lanes=p,i;case ee:return i=nr(13,l,s,m),i.elementType=ee,i.lanes=p,i;case B:return i=nr(19,l,s,m),i.elementType=B,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case j:case G:S=10;break e;case W:S=9;break e;case ne:S=11;break e;case N:S=14;break e;case x:S=16,c=null;break e}S=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=nr(S,l,s,m),s.elementType=i,s.type=c,s.lanes=p,s}function Bs(i,s,l,c){return i=nr(7,i,c,s),i.lanes=l,i}function Ym(i,s,l){return i=nr(6,i,null,s),i.lanes=l,i}function Qm(i,s,l){return s=nr(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Go=[],Ko=0,Mf=null,kf=0,Rr=[],Cr=0,Hs=null,Hi=1,qi="";function qs(i,s){Go[Ko++]=kf,Go[Ko++]=Mf,Mf=i,kf=s}function T0(i,s,l){Rr[Cr++]=Hi,Rr[Cr++]=qi,Rr[Cr++]=Hs,Hs=i;var c=Hi;i=qi;var m=32-$t(c)-1;c&=~(1<<m),l+=1;var p=32-$t(s)+m;if(30<p){var S=m-m%5;p=(c&(1<<S)-1).toString(32),c>>=S,m-=S,Hi=1<<32-$t(s)+m|l<<m|c,qi=p+i}else Hi=1<<p|l<<m|c,qi=i}function Xm(i){i.return!==null&&(qs(i,1),T0(i,1,0))}function Wm(i){for(;i===Mf;)Mf=Go[--Ko],Go[Ko]=null,kf=Go[--Ko],Go[Ko]=null;for(;i===Hs;)Hs=Rr[--Cr],Rr[Cr]=null,qi=Rr[--Cr],Rr[Cr]=null,Hi=Rr[--Cr],Rr[Cr]=null}var zn=null,Vt=null,gt=!1,$s=null,ci=!1,Zm=Error(r(519));function Gs(i){var s=Error(r(418,""));throw _u(wr(s,i)),Zm}function w0(i){var s=i.stateNode,l=i.type,c=i.memoizedProps;switch(s[le]=i,s[me]=c,l){case"dialog":rt("cancel",s),rt("close",s);break;case"iframe":case"object":case"embed":rt("load",s);break;case"video":case"audio":for(l=0;l<Hu.length;l++)rt(Hu[l],s);break;case"source":rt("error",s);break;case"img":case"image":case"link":rt("error",s),rt("load",s);break;case"details":rt("toggle",s);break;case"input":rt("invalid",s),Os(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Do(s);break;case"select":rt("invalid",s);break;case"textarea":rt("invalid",s),Ds(s,c.value,c.defaultValue,c.children),Do(s)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||F1(s.textContent,l)?(c.popover!=null&&(rt("beforetoggle",s),rt("toggle",s)),c.onScroll!=null&&rt("scroll",s),c.onScrollEnd!=null&&rt("scrollend",s),c.onClick!=null&&(s.onclick=gh),s=!0):s=!1,s||Gs(i)}function A0(i){for(zn=i.return;zn;)switch(zn.tag){case 5:case 13:ci=!1;return;case 27:case 3:ci=!0;return;default:zn=zn.return}}function yu(i){if(i!==zn)return!1;if(!gt)return A0(i),gt=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||mp(i.type,i.memoizedProps)),l=!l),l&&Vt&&Gs(i),A0(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(s===0){Vt=zr(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;i=i.nextSibling}Vt=null}}else s===27?(s=Vt,Ha(i.type)?(i=vp,vp=null,Vt=i):Vt=s):Vt=zn?zr(i.stateNode.nextSibling):null;return!0}function vu(){Vt=zn=null,gt=!1}function R0(){var i=$s;return i!==null&&($n===null?$n=i:$n.push.apply($n,i),$s=null),i}function _u(i){$s===null?$s=[i]:$s.push(i)}var Jm=ie(null),Ks=null,$i=null;function xa(i,s,l){oe(Jm,s._currentValue),s._currentValue=l}function Gi(i){i._currentValue=Jm.current,de(Jm)}function eg(i,s,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===l)break;i=i.return}}function tg(i,s,l,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var p=m.dependencies;if(p!==null){var S=m.child;p=p.firstContext;e:for(;p!==null;){var A=p;p=m;for(var L=0;L<s.length;L++)if(A.context===s[L]){p.lanes|=l,A=p.alternate,A!==null&&(A.lanes|=l),eg(p.return,l,i),c||(S=null);break e}p=A.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(r(341));S.lanes|=l,p=S.alternate,p!==null&&(p.lanes|=l),eg(S,l,i),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===i){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function Eu(i,s,l,c){i=null;for(var m=s,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var A=m.type;tr(m.pendingProps.value,S.value)||(i!==null?i.push(A):i=[A])}}else if(m===qt.current){if(S=m.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Qu):i=[Qu])}m=m.return}i!==null&&tg(s,i,l,c),s.flags|=262144}function Lf(i){for(i=i.firstContext;i!==null;){if(!tr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ys(i){Ks=i,$i=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Cn(i){return C0(Ks,i)}function Vf(i,s){return Ks===null&&Ys(i),C0(i,s)}function C0(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},$i===null){if(i===null)throw Error(r(308));$i=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else $i=$i.next=s;return l}var HI=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},qI=t.unstable_scheduleCallback,$I=t.unstable_NormalPriority,nn={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ng(){return{controller:new HI,data:new Map,refCount:0}}function bu(i){i.refCount--,i.refCount===0&&qI($I,function(){i.controller.abort()})}var Su=null,rg=0,Yo=0,Qo=null;function GI(i,s){if(Su===null){var l=Su=[];rg=0,Yo=ap(),Qo={status:"pending",value:void 0,then:function(c){l.push(c)}}}return rg++,s.then(x0,x0),s}function x0(){if(--rg===0&&Su!==null){Qo!==null&&(Qo.status="fulfilled");var i=Su;Su=null,Yo=0,Qo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function KI(i,s){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var m=0;m<l.length;m++)(0,l[m])(s)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var I0=Y.S;Y.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&GI(i,s),I0!==null&&I0(i,s)};var Qs=ie(null);function ig(){var i=Qs.current;return i!==null?i:xt.pooledCache}function Uf(i,s){s===null?oe(Qs,Qs.current):oe(Qs,s.pool)}function O0(){var i=ig();return i===null?null:{parent:nn._currentValue,pool:i}}var Tu=Error(r(460)),D0=Error(r(474)),jf=Error(r(542)),ag={then:function(){}};function N0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function zf(){}function P0(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(zf,zf),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,k0(i),i;default:if(typeof s.status=="string")s.then(zf,zf);else{if(i=xt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=c}},function(c){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,k0(i),i}throw wu=s,Tu}}var wu=null;function M0(){if(wu===null)throw Error(r(459));var i=wu;return wu=null,i}function k0(i){if(i===Tu||i===jf)throw Error(r(483))}var Ia=!1;function sg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function og(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Oa(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Da(i,s,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(_t&2)!==0){var m=c.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),c.pending=s,s=Nf(i),b0(i,null,l),s}return Df(i,c,s,l),Nf(i)}function Au(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,Jr(i,l)}}function lg(i,s){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?m=p=S:p=p.next=S,l=l.next}while(l!==null);p===null?m=p=s:p=p.next=s}else m=p=s;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var ug=!1;function Ru(){if(ug){var i=Qo;if(i!==null)throw i}}function Cu(i,s,l,c){ug=!1;var m=i.updateQueue;Ia=!1;var p=m.firstBaseUpdate,S=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var L=A,Z=L.next;L.next=null,S===null?p=Z:S.next=Z,S=L;var ae=i.alternate;ae!==null&&(ae=ae.updateQueue,A=ae.lastBaseUpdate,A!==S&&(A===null?ae.firstBaseUpdate=Z:A.next=Z,ae.lastBaseUpdate=L))}if(p!==null){var ue=m.baseState;S=0,ae=Z=L=null,A=p;do{var J=A.lane&-536870913,te=J!==A.lane;if(te?(ct&J)===J:(c&J)===J){J!==0&&J===Yo&&(ug=!0),ae!==null&&(ae=ae.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Fe=i,ke=A;J=s;var At=l;switch(ke.tag){case 1:if(Fe=ke.payload,typeof Fe=="function"){ue=Fe.call(At,ue,J);break e}ue=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=ke.payload,J=typeof Fe=="function"?Fe.call(At,ue,J):Fe,J==null)break e;ue=y({},ue,J);break e;case 2:Ia=!0}}J=A.callback,J!==null&&(i.flags|=64,te&&(i.flags|=8192),te=m.callbacks,te===null?m.callbacks=[J]:te.push(J))}else te={lane:J,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ae===null?(Z=ae=te,L=ue):ae=ae.next=te,S|=J;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;te=A,A=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);ae===null&&(L=ue),m.baseState=L,m.firstBaseUpdate=Z,m.lastBaseUpdate=ae,p===null&&(m.shared.lanes=0),ja|=S,i.lanes=S,i.memoizedState=ue}}function L0(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function V0(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)L0(l[i],s)}var Xo=ie(null),Ff=ie(0);function U0(i,s){i=Ji,oe(Ff,i),oe(Xo,s),Ji=i|s.baseLanes}function cg(){oe(Ff,Ji),oe(Xo,Xo.current)}function fg(){Ji=Ff.current,de(Xo),de(Ff)}var Na=0,Xe=null,Tt=null,Yt=null,Bf=!1,Wo=!1,Xs=!1,Hf=0,xu=0,Zo=null,YI=0;function zt(){throw Error(r(321))}function hg(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!tr(i[l],s[l]))return!1;return!0}function dg(i,s,l,c,m,p){return Na=p,Xe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Y.H=i===null||i.memoizedState===null?bE:SE,Xs=!1,p=l(c,m),Xs=!1,Wo&&(p=z0(s,l,c,m)),j0(i),p}function j0(i){Y.H=Qf;var s=Tt!==null&&Tt.next!==null;if(Na=0,Yt=Tt=Xe=null,Bf=!1,xu=0,Zo=null,s)throw Error(r(300));i===null||un||(i=i.dependencies,i!==null&&Lf(i)&&(un=!0))}function z0(i,s,l,c){Xe=i;var m=0;do{if(Wo&&(Zo=null),xu=0,Wo=!1,25<=m)throw Error(r(301));if(m+=1,Yt=Tt=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Y.H=t2,p=s(l,c)}while(Wo);return p}function QI(){var i=Y.H,s=i.useState()[0];return s=typeof s.then=="function"?Iu(s):s,i=i.useState()[0],(Tt!==null?Tt.memoizedState:null)!==i&&(Xe.flags|=1024),s}function mg(){var i=Hf!==0;return Hf=0,i}function gg(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function pg(i){if(Bf){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Bf=!1}Na=0,Yt=Tt=Xe=null,Wo=!1,xu=Hf=0,Zo=null}function Hn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?Xe.memoizedState=Yt=i:Yt=Yt.next=i,Yt}function Qt(){if(Tt===null){var i=Xe.alternate;i=i!==null?i.memoizedState:null}else i=Tt.next;var s=Yt===null?Xe.memoizedState:Yt.next;if(s!==null)Yt=s,Tt=i;else{if(i===null)throw Xe.alternate===null?Error(r(467)):Error(r(310));Tt=i,i={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Yt===null?Xe.memoizedState=Yt=i:Yt=Yt.next=i}return Yt}function yg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Iu(i){var s=xu;return xu+=1,Zo===null&&(Zo=[]),i=P0(Zo,i,s),s=Xe,(Yt===null?s.memoizedState:Yt.next)===null&&(s=s.alternate,Y.H=s===null||s.memoizedState===null?bE:SE),i}function qf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Iu(i);if(i.$$typeof===G)return Cn(i)}throw Error(r(438,String(i)))}function vg(i){var s=null,l=Xe.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=Xe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=yg(),Xe.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),c=0;c<i;c++)l[c]=M;return s.index++,l}function Ki(i,s){return typeof s=="function"?s(i):s}function $f(i){var s=Qt();return _g(s,Tt,i)}function _g(i,s,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var m=i.baseQueue,p=c.pending;if(p!==null){if(m!==null){var S=m.next;m.next=p.next,p.next=S}s.baseQueue=m=p,c.pending=null}if(p=i.baseState,m===null)i.memoizedState=p;else{s=m.next;var A=S=null,L=null,Z=s,ae=!1;do{var ue=Z.lane&-536870913;if(ue!==Z.lane?(ct&ue)===ue:(Na&ue)===ue){var J=Z.revertLane;if(J===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ue===Yo&&(ae=!0);else if((Na&J)===J){Z=Z.next,J===Yo&&(ae=!0);continue}else ue={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},L===null?(A=L=ue,S=p):L=L.next=ue,Xe.lanes|=J,ja|=J;ue=Z.action,Xs&&l(p,ue),p=Z.hasEagerState?Z.eagerState:l(p,ue)}else J={lane:ue,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},L===null?(A=L=J,S=p):L=L.next=J,Xe.lanes|=ue,ja|=ue;Z=Z.next}while(Z!==null&&Z!==s);if(L===null?S=p:L.next=A,!tr(p,i.memoizedState)&&(un=!0,ae&&(l=Qo,l!==null)))throw l;i.memoizedState=p,i.baseState=S,i.baseQueue=L,c.lastRenderedState=p}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Eg(i){var s=Qt(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,m=l.pending,p=s.memoizedState;if(m!==null){l.pending=null;var S=m=m.next;do p=i(p,S.action),S=S.next;while(S!==m);tr(p,s.memoizedState)||(un=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),l.lastRenderedState=p}return[p,c]}function F0(i,s,l){var c=Xe,m=Qt(),p=gt;if(p){if(l===void 0)throw Error(r(407));l=l()}else l=s();var S=!tr((Tt||m).memoizedState,l);S&&(m.memoizedState=l,un=!0),m=m.queue;var A=q0.bind(null,c,m,i);if(Ou(2048,8,A,[i]),m.getSnapshot!==s||S||Yt!==null&&Yt.memoizedState.tag&1){if(c.flags|=2048,Jo(9,Gf(),H0.bind(null,c,m,l,s),null),xt===null)throw Error(r(349));p||(Na&124)!==0||B0(c,s,l)}return l}function B0(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Xe.updateQueue,s===null?(s=yg(),Xe.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function H0(i,s,l,c){s.value=l,s.getSnapshot=c,$0(s)&&G0(i)}function q0(i,s,l){return l(function(){$0(s)&&G0(i)})}function $0(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!tr(i,l)}catch{return!0}}function G0(i){var s=qo(i,2);s!==null&&or(s,i,2)}function bg(i){var s=Hn();if(typeof i=="function"){var l=i;if(i=l(),Xs){An(!0);try{l()}finally{An(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:i},s}function K0(i,s,l,c){return i.baseState=l,_g(i,Tt,typeof c=="function"?c:Ki)}function XI(i,s,l,c,m){if(Yf(i))throw Error(r(485));if(i=s.action,i!==null){var p={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};Y.T!==null?l(!0):p.isTransition=!1,c(p),l=s.pending,l===null?(p.next=s.pending=p,Y0(s,p)):(p.next=l.next,s.pending=l.next=p)}}function Y0(i,s){var l=s.action,c=s.payload,m=i.state;if(s.isTransition){var p=Y.T,S={};Y.T=S;try{var A=l(m,c),L=Y.S;L!==null&&L(S,A),Q0(i,s,A)}catch(Z){Sg(i,s,Z)}finally{Y.T=p}}else try{p=l(m,c),Q0(i,s,p)}catch(Z){Sg(i,s,Z)}}function Q0(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){X0(i,s,c)},function(c){return Sg(i,s,c)}):X0(i,s,l)}function X0(i,s,l){s.status="fulfilled",s.value=l,W0(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,Y0(i,l)))}function Sg(i,s,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,W0(s),s=s.next;while(s!==c)}i.action=null}function W0(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Z0(i,s){return s}function J0(i,s){if(gt){var l=xt.formState;if(l!==null){e:{var c=Xe;if(gt){if(Vt){t:{for(var m=Vt,p=ci;m.nodeType!==8;){if(!p){m=null;break t}if(m=zr(m.nextSibling),m===null){m=null;break t}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){Vt=zr(m.nextSibling),c=m.data==="F!";break e}}Gs(c)}c=!1}c&&(s=l[0])}}return l=Hn(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Z0,lastRenderedState:s},l.queue=c,l=vE.bind(null,Xe,c),c.dispatch=l,c=bg(!1),p=Cg.bind(null,Xe,!1,c.queue),c=Hn(),m={state:s,dispatch:null,action:i,pending:null},c.queue=m,l=XI.bind(null,Xe,m,p,l),m.dispatch=l,c.memoizedState=i,[s,l,!1]}function eE(i){var s=Qt();return tE(s,Tt,i)}function tE(i,s,l){if(s=_g(i,s,Z0)[0],i=$f(Ki)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Iu(s)}catch(S){throw S===Tu?jf:S}else c=s;s=Qt();var m=s.queue,p=m.dispatch;return l!==s.memoizedState&&(Xe.flags|=2048,Jo(9,Gf(),WI.bind(null,m,l),null)),[c,p,i]}function WI(i,s){i.action=s}function nE(i){var s=Qt(),l=Tt;if(l!==null)return tE(s,l,i);Qt(),s=s.memoizedState,l=Qt();var c=l.queue.dispatch;return l.memoizedState=i,[s,c,!1]}function Jo(i,s,l,c){return i={tag:i,create:l,deps:c,inst:s,next:null},s=Xe.updateQueue,s===null&&(s=yg(),Xe.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,s.lastEffect=i),i}function Gf(){return{destroy:void 0,resource:void 0}}function rE(){return Qt().memoizedState}function Kf(i,s,l,c){var m=Hn();c=c===void 0?null:c,Xe.flags|=i,m.memoizedState=Jo(1|s,Gf(),l,c)}function Ou(i,s,l,c){var m=Qt();c=c===void 0?null:c;var p=m.memoizedState.inst;Tt!==null&&c!==null&&hg(c,Tt.memoizedState.deps)?m.memoizedState=Jo(s,p,l,c):(Xe.flags|=i,m.memoizedState=Jo(1|s,p,l,c))}function iE(i,s){Kf(8390656,8,i,s)}function aE(i,s){Ou(2048,8,i,s)}function sE(i,s){return Ou(4,2,i,s)}function oE(i,s){return Ou(4,4,i,s)}function lE(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function uE(i,s,l){l=l!=null?l.concat([i]):null,Ou(4,4,lE.bind(null,s,i),l)}function Tg(){}function cE(i,s){var l=Qt();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&hg(s,c[1])?c[0]:(l.memoizedState=[i,s],i)}function fE(i,s){var l=Qt();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&hg(s,c[1]))return c[0];if(c=i(),Xs){An(!0);try{i()}finally{An(!1)}}return l.memoizedState=[c,s],c}function wg(i,s,l){return l===void 0||(Na&1073741824)!==0?i.memoizedState=s:(i.memoizedState=l,i=m1(),Xe.lanes|=i,ja|=i,l)}function hE(i,s,l,c){return tr(l,s)?l:Xo.current!==null?(i=wg(i,l,c),tr(i,s)||(un=!0),i):(Na&42)===0?(un=!0,i.memoizedState=l):(i=m1(),Xe.lanes|=i,ja|=i,s)}function dE(i,s,l,c,m){var p=he.p;he.p=p!==0&&8>p?p:8;var S=Y.T,A={};Y.T=A,Cg(i,!1,s,l);try{var L=m(),Z=Y.S;if(Z!==null&&Z(A,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ae=KI(L,c);Du(i,s,ae,sr(i))}else Du(i,s,c,sr(i))}catch(ue){Du(i,s,{then:function(){},status:"rejected",reason:ue},sr())}finally{he.p=p,Y.T=S}}function ZI(){}function Ag(i,s,l,c){if(i.tag!==5)throw Error(r(476));var m=mE(i).queue;dE(i,m,s,ye,l===null?ZI:function(){return gE(i),l(c)})}function mE(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:ye},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function gE(i){var s=mE(i).next.queue;Du(i,s,{},sr())}function Rg(){return Cn(Qu)}function pE(){return Qt().memoizedState}function yE(){return Qt().memoizedState}function JI(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=sr();i=Oa(l);var c=Da(s,i,l);c!==null&&(or(c,s,l),Au(c,s,l)),s={cache:ng()},i.payload=s;return}s=s.return}}function e2(i,s,l){var c=sr();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Yf(i)?_E(s,l):(l=Gm(i,s,l,c),l!==null&&(or(l,i,c),EE(l,s,c)))}function vE(i,s,l){var c=sr();Du(i,s,l,c)}function Du(i,s,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Yf(i))_E(s,m);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var S=s.lastRenderedState,A=p(S,l);if(m.hasEagerState=!0,m.eagerState=A,tr(A,S))return Df(i,s,m,0),xt===null&&Of(),!1}catch{}finally{}if(l=Gm(i,s,m,c),l!==null)return or(l,i,c),EE(l,s,c),!0}return!1}function Cg(i,s,l,c){if(c={lane:2,revertLane:ap(),action:c,hasEagerState:!1,eagerState:null,next:null},Yf(i)){if(s)throw Error(r(479))}else s=Gm(i,l,c,2),s!==null&&or(s,i,2)}function Yf(i){var s=i.alternate;return i===Xe||s!==null&&s===Xe}function _E(i,s){Wo=Bf=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function EE(i,s,l){if((l&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,Jr(i,l)}}var Qf={readContext:Cn,use:qf,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt},bE={readContext:Cn,use:qf,useCallback:function(i,s){return Hn().memoizedState=[i,s===void 0?null:s],i},useContext:Cn,useEffect:iE,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,Kf(4194308,4,lE.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Kf(4194308,4,i,s)},useInsertionEffect:function(i,s){Kf(4,2,i,s)},useMemo:function(i,s){var l=Hn();s=s===void 0?null:s;var c=i();if(Xs){An(!0);try{i()}finally{An(!1)}}return l.memoizedState=[c,s],c},useReducer:function(i,s,l){var c=Hn();if(l!==void 0){var m=l(s);if(Xs){An(!0);try{l(s)}finally{An(!1)}}}else m=s;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=e2.bind(null,Xe,i),[c.memoizedState,i]},useRef:function(i){var s=Hn();return i={current:i},s.memoizedState=i},useState:function(i){i=bg(i);var s=i.queue,l=vE.bind(null,Xe,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:Tg,useDeferredValue:function(i,s){var l=Hn();return wg(l,i,s)},useTransition:function(){var i=bg(!1);return i=dE.bind(null,Xe,i.queue,!0,!1),Hn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var c=Xe,m=Hn();if(gt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),xt===null)throw Error(r(349));(ct&124)!==0||B0(c,s,l)}m.memoizedState=l;var p={value:l,getSnapshot:s};return m.queue=p,iE(q0.bind(null,c,p,i),[i]),c.flags|=2048,Jo(9,Gf(),H0.bind(null,c,p,l,s),null),l},useId:function(){var i=Hn(),s=xt.identifierPrefix;if(gt){var l=qi,c=Hi;l=(c&~(1<<32-$t(c)-1)).toString(32)+l,s="«"+s+"R"+l,l=Hf++,0<l&&(s+="H"+l.toString(32)),s+="»"}else l=YI++,s="«"+s+"r"+l.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:Rg,useFormState:J0,useActionState:J0,useOptimistic:function(i){var s=Hn();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Cg.bind(null,Xe,!0,l),l.dispatch=s,[i,s]},useMemoCache:vg,useCacheRefresh:function(){return Hn().memoizedState=JI.bind(null,Xe)}},SE={readContext:Cn,use:qf,useCallback:cE,useContext:Cn,useEffect:aE,useImperativeHandle:uE,useInsertionEffect:sE,useLayoutEffect:oE,useMemo:fE,useReducer:$f,useRef:rE,useState:function(){return $f(Ki)},useDebugValue:Tg,useDeferredValue:function(i,s){var l=Qt();return hE(l,Tt.memoizedState,i,s)},useTransition:function(){var i=$f(Ki)[0],s=Qt().memoizedState;return[typeof i=="boolean"?i:Iu(i),s]},useSyncExternalStore:F0,useId:pE,useHostTransitionStatus:Rg,useFormState:eE,useActionState:eE,useOptimistic:function(i,s){var l=Qt();return K0(l,Tt,i,s)},useMemoCache:vg,useCacheRefresh:yE},t2={readContext:Cn,use:qf,useCallback:cE,useContext:Cn,useEffect:aE,useImperativeHandle:uE,useInsertionEffect:sE,useLayoutEffect:oE,useMemo:fE,useReducer:Eg,useRef:rE,useState:function(){return Eg(Ki)},useDebugValue:Tg,useDeferredValue:function(i,s){var l=Qt();return Tt===null?wg(l,i,s):hE(l,Tt.memoizedState,i,s)},useTransition:function(){var i=Eg(Ki)[0],s=Qt().memoizedState;return[typeof i=="boolean"?i:Iu(i),s]},useSyncExternalStore:F0,useId:pE,useHostTransitionStatus:Rg,useFormState:nE,useActionState:nE,useOptimistic:function(i,s){var l=Qt();return Tt!==null?K0(l,Tt,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:vg,useCacheRefresh:yE},el=null,Nu=0;function Xf(i){var s=Nu;return Nu+=1,el===null&&(el=[]),P0(el,i,s)}function Pu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Wf(i,s){throw s.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function TE(i){var s=i._init;return s(i._payload)}function wE(i){function s(q,H){if(i){var Q=q.deletions;Q===null?(q.deletions=[H],q.flags|=16):Q.push(H)}}function l(q,H){if(!i)return null;for(;H!==null;)s(q,H),H=H.sibling;return null}function c(q){for(var H=new Map;q!==null;)q.key!==null?H.set(q.key,q):H.set(q.index,q),q=q.sibling;return H}function m(q,H){return q=Bi(q,H),q.index=0,q.sibling=null,q}function p(q,H,Q){return q.index=Q,i?(Q=q.alternate,Q!==null?(Q=Q.index,Q<H?(q.flags|=67108866,H):Q):(q.flags|=67108866,H)):(q.flags|=1048576,H)}function S(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function A(q,H,Q,se){return H===null||H.tag!==6?(H=Ym(Q,q.mode,se),H.return=q,H):(H=m(H,Q),H.return=q,H)}function L(q,H,Q,se){var we=Q.type;return we===w?ae(q,H,Q.props.children,se,Q.key):H!==null&&(H.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===x&&TE(we)===H.type)?(H=m(H,Q.props),Pu(H,Q),H.return=q,H):(H=Pf(Q.type,Q.key,Q.props,null,q.mode,se),Pu(H,Q),H.return=q,H)}function Z(q,H,Q,se){return H===null||H.tag!==4||H.stateNode.containerInfo!==Q.containerInfo||H.stateNode.implementation!==Q.implementation?(H=Qm(Q,q.mode,se),H.return=q,H):(H=m(H,Q.children||[]),H.return=q,H)}function ae(q,H,Q,se,we){return H===null||H.tag!==7?(H=Bs(Q,q.mode,se,we),H.return=q,H):(H=m(H,Q),H.return=q,H)}function ue(q,H,Q){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Ym(""+H,q.mode,Q),H.return=q,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case E:return Q=Pf(H.type,H.key,H.props,null,q.mode,Q),Pu(Q,H),Q.return=q,Q;case T:return H=Qm(H,q.mode,Q),H.return=q,H;case x:var se=H._init;return H=se(H._payload),ue(q,H,Q)}if(Ue(H)||U(H))return H=Bs(H,q.mode,Q,null),H.return=q,H;if(typeof H.then=="function")return ue(q,Xf(H),Q);if(H.$$typeof===G)return ue(q,Vf(q,H),Q);Wf(q,H)}return null}function J(q,H,Q,se){var we=H!==null?H.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return we!==null?null:A(q,H,""+Q,se);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case E:return Q.key===we?L(q,H,Q,se):null;case T:return Q.key===we?Z(q,H,Q,se):null;case x:return we=Q._init,Q=we(Q._payload),J(q,H,Q,se)}if(Ue(Q)||U(Q))return we!==null?null:ae(q,H,Q,se,null);if(typeof Q.then=="function")return J(q,H,Xf(Q),se);if(Q.$$typeof===G)return J(q,H,Vf(q,Q),se);Wf(q,Q)}return null}function te(q,H,Q,se,we){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return q=q.get(Q)||null,A(H,q,""+se,we);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case E:return q=q.get(se.key===null?Q:se.key)||null,L(H,q,se,we);case T:return q=q.get(se.key===null?Q:se.key)||null,Z(H,q,se,we);case x:var Je=se._init;return se=Je(se._payload),te(q,H,Q,se,we)}if(Ue(se)||U(se))return q=q.get(Q)||null,ae(H,q,se,we,null);if(typeof se.then=="function")return te(q,H,Q,Xf(se),we);if(se.$$typeof===G)return te(q,H,Q,Vf(H,se),we);Wf(H,se)}return null}function Fe(q,H,Q,se){for(var we=null,Je=null,Ie=H,Ve=H=0,fn=null;Ie!==null&&Ve<Q.length;Ve++){Ie.index>Ve?(fn=Ie,Ie=null):fn=Ie.sibling;var dt=J(q,Ie,Q[Ve],se);if(dt===null){Ie===null&&(Ie=fn);break}i&&Ie&&dt.alternate===null&&s(q,Ie),H=p(dt,H,Ve),Je===null?we=dt:Je.sibling=dt,Je=dt,Ie=fn}if(Ve===Q.length)return l(q,Ie),gt&&qs(q,Ve),we;if(Ie===null){for(;Ve<Q.length;Ve++)Ie=ue(q,Q[Ve],se),Ie!==null&&(H=p(Ie,H,Ve),Je===null?we=Ie:Je.sibling=Ie,Je=Ie);return gt&&qs(q,Ve),we}for(Ie=c(Ie);Ve<Q.length;Ve++)fn=te(Ie,q,Ve,Q[Ve],se),fn!==null&&(i&&fn.alternate!==null&&Ie.delete(fn.key===null?Ve:fn.key),H=p(fn,H,Ve),Je===null?we=fn:Je.sibling=fn,Je=fn);return i&&Ie.forEach(function(Ya){return s(q,Ya)}),gt&&qs(q,Ve),we}function ke(q,H,Q,se){if(Q==null)throw Error(r(151));for(var we=null,Je=null,Ie=H,Ve=H=0,fn=null,dt=Q.next();Ie!==null&&!dt.done;Ve++,dt=Q.next()){Ie.index>Ve?(fn=Ie,Ie=null):fn=Ie.sibling;var Ya=J(q,Ie,dt.value,se);if(Ya===null){Ie===null&&(Ie=fn);break}i&&Ie&&Ya.alternate===null&&s(q,Ie),H=p(Ya,H,Ve),Je===null?we=Ya:Je.sibling=Ya,Je=Ya,Ie=fn}if(dt.done)return l(q,Ie),gt&&qs(q,Ve),we;if(Ie===null){for(;!dt.done;Ve++,dt=Q.next())dt=ue(q,dt.value,se),dt!==null&&(H=p(dt,H,Ve),Je===null?we=dt:Je.sibling=dt,Je=dt);return gt&&qs(q,Ve),we}for(Ie=c(Ie);!dt.done;Ve++,dt=Q.next())dt=te(Ie,q,Ve,dt.value,se),dt!==null&&(i&&dt.alternate!==null&&Ie.delete(dt.key===null?Ve:dt.key),H=p(dt,H,Ve),Je===null?we=dt:Je.sibling=dt,Je=dt);return i&&Ie.forEach(function(nO){return s(q,nO)}),gt&&qs(q,Ve),we}function At(q,H,Q,se){if(typeof Q=="object"&&Q!==null&&Q.type===w&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case E:e:{for(var we=Q.key;H!==null;){if(H.key===we){if(we=Q.type,we===w){if(H.tag===7){l(q,H.sibling),se=m(H,Q.props.children),se.return=q,q=se;break e}}else if(H.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===x&&TE(we)===H.type){l(q,H.sibling),se=m(H,Q.props),Pu(se,Q),se.return=q,q=se;break e}l(q,H);break}else s(q,H);H=H.sibling}Q.type===w?(se=Bs(Q.props.children,q.mode,se,Q.key),se.return=q,q=se):(se=Pf(Q.type,Q.key,Q.props,null,q.mode,se),Pu(se,Q),se.return=q,q=se)}return S(q);case T:e:{for(we=Q.key;H!==null;){if(H.key===we)if(H.tag===4&&H.stateNode.containerInfo===Q.containerInfo&&H.stateNode.implementation===Q.implementation){l(q,H.sibling),se=m(H,Q.children||[]),se.return=q,q=se;break e}else{l(q,H);break}else s(q,H);H=H.sibling}se=Qm(Q,q.mode,se),se.return=q,q=se}return S(q);case x:return we=Q._init,Q=we(Q._payload),At(q,H,Q,se)}if(Ue(Q))return Fe(q,H,Q,se);if(U(Q)){if(we=U(Q),typeof we!="function")throw Error(r(150));return Q=we.call(Q),ke(q,H,Q,se)}if(typeof Q.then=="function")return At(q,H,Xf(Q),se);if(Q.$$typeof===G)return At(q,H,Vf(q,Q),se);Wf(q,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,H!==null&&H.tag===6?(l(q,H.sibling),se=m(H,Q),se.return=q,q=se):(l(q,H),se=Ym(Q,q.mode,se),se.return=q,q=se),S(q)):l(q,H)}return function(q,H,Q,se){try{Nu=0;var we=At(q,H,Q,se);return el=null,we}catch(Ie){if(Ie===Tu||Ie===jf)throw Ie;var Je=nr(29,Ie,null,q.mode);return Je.lanes=se,Je.return=q,Je}finally{}}}var tl=wE(!0),AE=wE(!1),xr=ie(null),fi=null;function Pa(i){var s=i.alternate;oe(rn,rn.current&1),oe(xr,i),fi===null&&(s===null||Xo.current!==null||s.memoizedState!==null)&&(fi=i)}function RE(i){if(i.tag===22){if(oe(rn,rn.current),oe(xr,i),fi===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(fi=i)}}else Ma()}function Ma(){oe(rn,rn.current),oe(xr,xr.current)}function Yi(i){de(xr),fi===i&&(fi=null),de(rn)}var rn=ie(0);function Zf(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||yp(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function xg(i,s,l,c){s=i.memoizedState,l=l(c,s),l=l==null?s:y({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Ig={enqueueSetState:function(i,s,l){i=i._reactInternals;var c=sr(),m=Oa(c);m.payload=s,l!=null&&(m.callback=l),s=Da(i,m,c),s!==null&&(or(s,i,c),Au(s,i,c))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var c=sr(),m=Oa(c);m.tag=1,m.payload=s,l!=null&&(m.callback=l),s=Da(i,m,c),s!==null&&(or(s,i,c),Au(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=sr(),c=Oa(l);c.tag=2,s!=null&&(c.callback=s),s=Da(i,c,l),s!==null&&(or(s,i,l),Au(s,i,l))}};function CE(i,s,l,c,m,p,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,p,S):s.prototype&&s.prototype.isPureReactComponent?!gu(l,c)||!gu(m,p):!0}function xE(i,s,l,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==i&&Ig.enqueueReplaceState(s,s.state,null)}function Ws(i,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(i=i.defaultProps){l===s&&(l=y({},l));for(var m in i)l[m]===void 0&&(l[m]=i[m])}return l}var Jf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function IE(i){Jf(i)}function OE(i){console.error(i)}function DE(i){Jf(i)}function eh(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function NE(i,s,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Og(i,s,l){return l=Oa(l),l.tag=3,l.payload={element:null},l.callback=function(){eh(i,s)},l}function PE(i){return i=Oa(i),i.tag=3,i}function ME(i,s,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var p=c.value;i.payload=function(){return m(p)},i.callback=function(){NE(s,l,c)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){NE(s,l,c),typeof m!="function"&&(za===null?za=new Set([this]):za.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function n2(i,s,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&Eu(s,l,m,!0),l=xr.current,l!==null){switch(l.tag){case 13:return fi===null?ep():l.alternate===null&&Ut===0&&(Ut=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===ag?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),np(i,c,m)),!1;case 22:return l.flags|=65536,c===ag?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),np(i,c,m)),!1}throw Error(r(435,l.tag))}return np(i,c,m),ep(),!1}if(gt)return s=xr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,c!==Zm&&(i=Error(r(422),{cause:c}),_u(wr(i,l)))):(c!==Zm&&(s=Error(r(423),{cause:c}),_u(wr(s,l))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=wr(c,l),m=Og(i.stateNode,c,m),lg(i,m),Ut!==4&&(Ut=2)),!1;var p=Error(r(520),{cause:c});if(p=wr(p,l),zu===null?zu=[p]:zu.push(p),Ut!==4&&(Ut=2),s===null)return!0;c=wr(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=m&-m,l.lanes|=i,i=Og(l.stateNode,c,i),lg(l,i),!1;case 1:if(s=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(za===null||!za.has(p))))return l.flags|=65536,m&=-m,l.lanes|=m,m=PE(m),ME(m,i,l,c),lg(l,m),!1}l=l.return}while(l!==null);return!1}var kE=Error(r(461)),un=!1;function pn(i,s,l,c){s.child=i===null?AE(s,null,l,c):tl(s,i.child,l,c)}function LE(i,s,l,c,m){l=l.render;var p=s.ref;if("ref"in c){var S={};for(var A in c)A!=="ref"&&(S[A]=c[A])}else S=c;return Ys(s),c=dg(i,s,l,S,p,m),A=mg(),i!==null&&!un?(gg(i,s,m),Qi(i,s,m)):(gt&&A&&Xm(s),s.flags|=1,pn(i,s,c,m),s.child)}function VE(i,s,l,c,m){if(i===null){var p=l.type;return typeof p=="function"&&!Km(p)&&p.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=p,UE(i,s,p,c,m)):(i=Pf(l.type,null,c,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(p=i.child,!Ug(i,m)){var S=p.memoizedProps;if(l=l.compare,l=l!==null?l:gu,l(S,c)&&i.ref===s.ref)return Qi(i,s,m)}return s.flags|=1,i=Bi(p,c),i.ref=s.ref,i.return=s,s.child=i}function UE(i,s,l,c,m){if(i!==null){var p=i.memoizedProps;if(gu(p,c)&&i.ref===s.ref)if(un=!1,s.pendingProps=c=p,Ug(i,m))(i.flags&131072)!==0&&(un=!0);else return s.lanes=i.lanes,Qi(i,s,m)}return Dg(i,s,l,c,m)}function jE(i,s,l){var c=s.pendingProps,m=c.children,p=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=p!==null?p.baseLanes|l:l,i!==null){for(m=s.child=i.child,p=0;m!==null;)p=p|m.lanes|m.childLanes,m=m.sibling;s.childLanes=p&~c}else s.childLanes=0,s.child=null;return zE(i,s,c,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Uf(s,p!==null?p.cachePool:null),p!==null?U0(s,p):cg(),RE(s);else return s.lanes=s.childLanes=536870912,zE(i,s,p!==null?p.baseLanes|l:l,l)}else p!==null?(Uf(s,p.cachePool),U0(s,p),Ma(),s.memoizedState=null):(i!==null&&Uf(s,null),cg(),Ma());return pn(i,s,m,l),s.child}function zE(i,s,l,c){var m=ig();return m=m===null?null:{parent:nn._currentValue,pool:m},s.memoizedState={baseLanes:l,cachePool:m},i!==null&&Uf(s,null),cg(),RE(s),i!==null&&Eu(i,s,c,!0),null}function th(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function Dg(i,s,l,c,m){return Ys(s),l=dg(i,s,l,c,void 0,m),c=mg(),i!==null&&!un?(gg(i,s,m),Qi(i,s,m)):(gt&&c&&Xm(s),s.flags|=1,pn(i,s,l,m),s.child)}function FE(i,s,l,c,m,p){return Ys(s),s.updateQueue=null,l=z0(s,c,l,m),j0(i),c=mg(),i!==null&&!un?(gg(i,s,p),Qi(i,s,p)):(gt&&c&&Xm(s),s.flags|=1,pn(i,s,l,p),s.child)}function BE(i,s,l,c,m){if(Ys(s),s.stateNode===null){var p=$o,S=l.contextType;typeof S=="object"&&S!==null&&(p=Cn(S)),p=new l(c,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Ig,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=c,p.state=s.memoizedState,p.refs={},sg(s),S=l.contextType,p.context=typeof S=="object"&&S!==null?Cn(S):$o,p.state=s.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(xg(s,l,S,c),p.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&Ig.enqueueReplaceState(p,p.state,null),Cu(s,c,p,m),Ru(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){p=s.stateNode;var A=s.memoizedProps,L=Ws(l,A);p.props=L;var Z=p.context,ae=l.contextType;S=$o,typeof ae=="object"&&ae!==null&&(S=Cn(ae));var ue=l.getDerivedStateFromProps;ae=typeof ue=="function"||typeof p.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,ae||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(A||Z!==S)&&xE(s,p,c,S),Ia=!1;var J=s.memoizedState;p.state=J,Cu(s,c,p,m),Ru(),Z=s.memoizedState,A||J!==Z||Ia?(typeof ue=="function"&&(xg(s,l,ue,c),Z=s.memoizedState),(L=Ia||CE(s,l,L,c,J,Z,S))?(ae||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=Z),p.props=c,p.state=Z,p.context=S,c=L):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{p=s.stateNode,og(i,s),S=s.memoizedProps,ae=Ws(l,S),p.props=ae,ue=s.pendingProps,J=p.context,Z=l.contextType,L=$o,typeof Z=="object"&&Z!==null&&(L=Cn(Z)),A=l.getDerivedStateFromProps,(Z=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==ue||J!==L)&&xE(s,p,c,L),Ia=!1,J=s.memoizedState,p.state=J,Cu(s,c,p,m),Ru();var te=s.memoizedState;S!==ue||J!==te||Ia||i!==null&&i.dependencies!==null&&Lf(i.dependencies)?(typeof A=="function"&&(xg(s,l,A,c),te=s.memoizedState),(ae=Ia||CE(s,l,ae,c,J,te,L)||i!==null&&i.dependencies!==null&&Lf(i.dependencies))?(Z||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,te,L),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,te,L)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===i.memoizedProps&&J===i.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&J===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=te),p.props=c,p.state=te,p.context=L,c=ae):(typeof p.componentDidUpdate!="function"||S===i.memoizedProps&&J===i.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&J===i.memoizedState||(s.flags|=1024),c=!1)}return p=c,th(i,s),c=(s.flags&128)!==0,p||c?(p=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,i!==null&&c?(s.child=tl(s,i.child,null,m),s.child=tl(s,null,l,m)):pn(i,s,l,m),s.memoizedState=p.state,i=s.child):i=Qi(i,s,m),i}function HE(i,s,l,c){return vu(),s.flags|=256,pn(i,s,l,c),s.child}var Ng={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pg(i){return{baseLanes:i,cachePool:O0()}}function Mg(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=Ir),i}function qE(i,s,l){var c=s.pendingProps,m=!1,p=(s.flags&128)!==0,S;if((S=p)||(S=i!==null&&i.memoizedState===null?!1:(rn.current&2)!==0),S&&(m=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,i===null){if(gt){if(m?Pa(s):Ma(),gt){var A=Vt,L;if(L=A){e:{for(L=A,A=ci;L.nodeType!==8;){if(!A){A=null;break e}if(L=zr(L.nextSibling),L===null){A=null;break e}}A=L}A!==null?(s.memoizedState={dehydrated:A,treeContext:Hs!==null?{id:Hi,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},L=nr(18,null,null,0),L.stateNode=A,L.return=s,s.child=L,zn=s,Vt=null,L=!0):L=!1}L||Gs(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return yp(A)?s.lanes=32:s.lanes=536870912,null;Yi(s)}return A=c.children,c=c.fallback,m?(Ma(),m=s.mode,A=nh({mode:"hidden",children:A},m),c=Bs(c,m,l,null),A.return=s,c.return=s,A.sibling=c,s.child=A,m=s.child,m.memoizedState=Pg(l),m.childLanes=Mg(i,S,l),s.memoizedState=Ng,c):(Pa(s),kg(s,A))}if(L=i.memoizedState,L!==null&&(A=L.dehydrated,A!==null)){if(p)s.flags&256?(Pa(s),s.flags&=-257,s=Lg(i,s,l)):s.memoizedState!==null?(Ma(),s.child=i.child,s.flags|=128,s=null):(Ma(),m=c.fallback,A=s.mode,c=nh({mode:"visible",children:c.children},A),m=Bs(m,A,l,null),m.flags|=2,c.return=s,m.return=s,c.sibling=m,s.child=c,tl(s,i.child,null,l),c=s.child,c.memoizedState=Pg(l),c.childLanes=Mg(i,S,l),s.memoizedState=Ng,s=m);else if(Pa(s),yp(A)){if(S=A.nextSibling&&A.nextSibling.dataset,S)var Z=S.dgst;S=Z,c=Error(r(419)),c.stack="",c.digest=S,_u({value:c,source:null,stack:null}),s=Lg(i,s,l)}else if(un||Eu(i,s,l,!1),S=(l&i.childLanes)!==0,un||S){if(S=xt,S!==null&&(c=l&-l,c=(c&42)!==0?1:ei(c),c=(c&(S.suspendedLanes|l))!==0?0:c,c!==0&&c!==L.retryLane))throw L.retryLane=c,qo(i,c),or(S,i,c),kE;A.data==="$?"||ep(),s=Lg(i,s,l)}else A.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=L.treeContext,Vt=zr(A.nextSibling),zn=s,gt=!0,$s=null,ci=!1,i!==null&&(Rr[Cr++]=Hi,Rr[Cr++]=qi,Rr[Cr++]=Hs,Hi=i.id,qi=i.overflow,Hs=s),s=kg(s,c.children),s.flags|=4096);return s}return m?(Ma(),m=c.fallback,A=s.mode,L=i.child,Z=L.sibling,c=Bi(L,{mode:"hidden",children:c.children}),c.subtreeFlags=L.subtreeFlags&65011712,Z!==null?m=Bi(Z,m):(m=Bs(m,A,l,null),m.flags|=2),m.return=s,c.return=s,c.sibling=m,s.child=c,c=m,m=s.child,A=i.child.memoizedState,A===null?A=Pg(l):(L=A.cachePool,L!==null?(Z=nn._currentValue,L=L.parent!==Z?{parent:Z,pool:Z}:L):L=O0(),A={baseLanes:A.baseLanes|l,cachePool:L}),m.memoizedState=A,m.childLanes=Mg(i,S,l),s.memoizedState=Ng,c):(Pa(s),l=i.child,i=l.sibling,l=Bi(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,i!==null&&(S=s.deletions,S===null?(s.deletions=[i],s.flags|=16):S.push(i)),s.child=l,s.memoizedState=null,l)}function kg(i,s){return s=nh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function nh(i,s){return i=nr(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Lg(i,s,l){return tl(s,i.child,null,l),i=kg(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function $E(i,s,l){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),eg(i.return,s,l)}function Vg(i,s,l,c,m){var p=i.memoizedState;p===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=l,p.tailMode=m)}function GE(i,s,l){var c=s.pendingProps,m=c.revealOrder,p=c.tail;if(pn(i,s,c.children,l),c=rn.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&$E(i,l,s);else if(i.tag===19)$E(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(oe(rn,c),m){case"forwards":for(l=s.child,m=null;l!==null;)i=l.alternate,i!==null&&Zf(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=s.child,s.child=null):(m=l.sibling,l.sibling=null),Vg(s,!1,m,l,p);break;case"backwards":for(l=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&Zf(i)===null){s.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}Vg(s,!0,l,null,p);break;case"together":Vg(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Qi(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),ja|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(Eu(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=Bi(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Bi(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function Ug(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Lf(i)))}function r2(i,s,l){switch(s.tag){case 3:bt(s,s.stateNode.containerInfo),xa(s,nn,i.memoizedState.cache),vu();break;case 27:case 5:Nt(s);break;case 4:bt(s,s.stateNode.containerInfo);break;case 10:xa(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Pa(s),s.flags|=128,null):(l&s.child.childLanes)!==0?qE(i,s,l):(Pa(s),i=Qi(i,s,l),i!==null?i.sibling:null);Pa(s);break;case 19:var m=(i.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(Eu(i,s,l,!1),c=(l&s.childLanes)!==0),m){if(c)return GE(i,s,l);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),oe(rn,rn.current),c)break;return null;case 22:case 23:return s.lanes=0,jE(i,s,l);case 24:xa(s,nn,i.memoizedState.cache)}return Qi(i,s,l)}function KE(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)un=!0;else{if(!Ug(i,l)&&(s.flags&128)===0)return un=!1,r2(i,s,l);un=(i.flags&131072)!==0}else un=!1,gt&&(s.flags&1048576)!==0&&T0(s,kf,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var c=s.elementType,m=c._init;if(c=m(c._payload),s.type=c,typeof c=="function")Km(c)?(i=Ws(c,i),s.tag=1,s=BE(null,s,c,i,l)):(s.tag=0,s=Dg(null,s,c,i,l));else{if(c!=null){if(m=c.$$typeof,m===ne){s.tag=11,s=LE(null,s,c,i,l);break e}else if(m===N){s.tag=14,s=VE(null,s,c,i,l);break e}}throw s=Se(c)||c,Error(r(306,s,""))}}return s;case 0:return Dg(i,s,s.type,s.pendingProps,l);case 1:return c=s.type,m=Ws(c,s.pendingProps),BE(i,s,c,m,l);case 3:e:{if(bt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));c=s.pendingProps;var p=s.memoizedState;m=p.element,og(i,s),Cu(s,c,null,l);var S=s.memoizedState;if(c=S.cache,xa(s,nn,c),c!==p.cache&&tg(s,[nn],l,!0),Ru(),c=S.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=HE(i,s,c,l);break e}else if(c!==m){m=wr(Error(r(424)),s),_u(m),s=HE(i,s,c,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Vt=zr(i.firstChild),zn=s,gt=!0,$s=null,ci=!0,l=AE(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(vu(),c===m){s=Qi(i,s,l);break e}pn(i,s,c,l)}s=s.child}return s;case 26:return th(i,s),i===null?(l=W1(s.type,null,s.pendingProps,null))?s.memoizedState=l:gt||(l=s.type,i=s.pendingProps,c=ph(De.current).createElement(l),c[le]=s,c[me]=i,vn(c,l,i),ot(c),s.stateNode=c):s.memoizedState=W1(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Nt(s),i===null&&gt&&(c=s.stateNode=Y1(s.type,s.pendingProps,De.current),zn=s,ci=!0,m=Vt,Ha(s.type)?(vp=m,Vt=zr(c.firstChild)):Vt=m),pn(i,s,s.pendingProps.children,l),th(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&gt&&((m=c=Vt)&&(c=D2(c,s.type,s.pendingProps,ci),c!==null?(s.stateNode=c,zn=s,Vt=zr(c.firstChild),ci=!1,m=!0):m=!1),m||Gs(s)),Nt(s),m=s.type,p=s.pendingProps,S=i!==null?i.memoizedProps:null,c=p.children,mp(m,p)?c=null:S!==null&&mp(m,S)&&(s.flags|=32),s.memoizedState!==null&&(m=dg(i,s,QI,null,null,l),Qu._currentValue=m),th(i,s),pn(i,s,c,l),s.child;case 6:return i===null&&gt&&((i=l=Vt)&&(l=N2(l,s.pendingProps,ci),l!==null?(s.stateNode=l,zn=s,Vt=null,i=!0):i=!1),i||Gs(s)),null;case 13:return qE(i,s,l);case 4:return bt(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=tl(s,null,c,l):pn(i,s,c,l),s.child;case 11:return LE(i,s,s.type,s.pendingProps,l);case 7:return pn(i,s,s.pendingProps,l),s.child;case 8:return pn(i,s,s.pendingProps.children,l),s.child;case 12:return pn(i,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,xa(s,s.type,c.value),pn(i,s,c.children,l),s.child;case 9:return m=s.type._context,c=s.pendingProps.children,Ys(s),m=Cn(m),c=c(m),s.flags|=1,pn(i,s,c,l),s.child;case 14:return VE(i,s,s.type,s.pendingProps,l);case 15:return UE(i,s,s.type,s.pendingProps,l);case 19:return GE(i,s,l);case 31:return c=s.pendingProps,l=s.mode,c={mode:c.mode,children:c.children},i===null?(l=nh(c,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=Bi(i.child,c),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return jE(i,s,l);case 24:return Ys(s),c=Cn(nn),i===null?(m=ig(),m===null&&(m=xt,p=ng(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=l),m=p),s.memoizedState={parent:c,cache:m},sg(s),xa(s,nn,m)):((i.lanes&l)!==0&&(og(i,s),Cu(s,null,null,l),Ru()),m=i.memoizedState,p=s.memoizedState,m.parent!==c?(m={parent:c,cache:c},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),xa(s,nn,c)):(c=p.cache,xa(s,nn,c),c!==m.cache&&tg(s,[nn],l,!0))),pn(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Xi(i){i.flags|=4}function YE(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!nb(s)){if(s=xr.current,s!==null&&((ct&4194048)===ct?fi!==null:(ct&62914560)!==ct&&(ct&536870912)===0||s!==fi))throw wu=ag,D0;i.flags|=8192}}function rh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?xs():536870912,i.lanes|=s,al|=s)}function Mu(i,s){if(!gt)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function Mt(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(s)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=l,s}function i2(i,s,l){var c=s.pendingProps;switch(Wm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(s),null;case 1:return Mt(s),null;case 3:return l=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Gi(nn),dr(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(yu(s)?Xi(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,R0())),Mt(s),null;case 26:return l=s.memoizedState,i===null?(Xi(s),l!==null?(Mt(s),YE(s,l)):(Mt(s),s.flags&=-16777217)):l?l!==i.memoizedState?(Xi(s),Mt(s),YE(s,l)):(Mt(s),s.flags&=-16777217):(i.memoizedProps!==c&&Xi(s),Mt(s),s.flags&=-16777217),null;case 27:wn(s),l=De.current;var m=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Xi(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return Mt(s),null}i=Te.current,yu(s)?w0(s):(i=Y1(m,c,l),s.stateNode=i,Xi(s))}return Mt(s),null;case 5:if(wn(s),l=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Xi(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return Mt(s),null}if(i=Te.current,yu(s))w0(s);else{switch(m=ph(De.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}i[le]=s,i[me]=c;e:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break e;for(;m.sibling===null;){if(m.return===null||m.return===s)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=i;e:switch(vn(i,l,c),l){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Xi(s)}}return Mt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&Xi(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=De.current,yu(s)){if(i=s.stateNode,l=s.memoizedProps,c=null,m=zn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[le]=s,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||F1(i.nodeValue,l)),i||Gs(s)}else i=ph(i).createTextNode(c),i[le]=s,s.stateNode=i}return Mt(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=yu(s),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[le]=s}else vu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Mt(s),m=!1}else m=R0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(Yi(s),s):(Yi(s),null)}if(Yi(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=c!==null,i=i!==null&&i.memoizedState!==null,l){c=s.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var p=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==m&&(c.flags|=2048)}return l!==i&&l&&(s.child.flags|=8192),rh(s,s.updateQueue),Mt(s),null;case 4:return dr(),i===null&&up(s.stateNode.containerInfo),Mt(s),null;case 10:return Gi(s.type),Mt(s),null;case 19:if(de(rn),m=s.memoizedState,m===null)return Mt(s),null;if(c=(s.flags&128)!==0,p=m.rendering,p===null)if(c)Mu(m,!1);else{if(Ut!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(p=Zf(i),p!==null){for(s.flags|=128,Mu(m,!1),i=p.updateQueue,s.updateQueue=i,rh(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)S0(l,i),l=l.sibling;return oe(rn,rn.current&1|2),s.child}i=i.sibling}m.tail!==null&&kn()>sh&&(s.flags|=128,c=!0,Mu(m,!1),s.lanes=4194304)}else{if(!c)if(i=Zf(p),i!==null){if(s.flags|=128,c=!0,i=i.updateQueue,s.updateQueue=i,rh(s,i),Mu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!p.alternate&&!gt)return Mt(s),null}else 2*kn()-m.renderingStartTime>sh&&l!==536870912&&(s.flags|=128,c=!0,Mu(m,!1),s.lanes=4194304);m.isBackwards?(p.sibling=s.child,s.child=p):(i=m.last,i!==null?i.sibling=p:s.child=p,m.last=p)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=kn(),s.sibling=null,i=rn.current,oe(rn,c?i&1|2:i&1),s):(Mt(s),null);case 22:case 23:return Yi(s),fg(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(Mt(s),s.subtreeFlags&6&&(s.flags|=8192)):Mt(s),l=s.updateQueue,l!==null&&rh(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),i!==null&&de(Qs),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Gi(nn),Mt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function a2(i,s){switch(Wm(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Gi(nn),dr(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return wn(s),null;case 13:if(Yi(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));vu()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return de(rn),null;case 4:return dr(),null;case 10:return Gi(s.type),null;case 22:case 23:return Yi(s),fg(),i!==null&&de(Qs),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Gi(nn),null;case 25:return null;default:return null}}function QE(i,s){switch(Wm(s),s.tag){case 3:Gi(nn),dr();break;case 26:case 27:case 5:wn(s);break;case 4:dr();break;case 13:Yi(s);break;case 19:de(rn);break;case 10:Gi(s.type);break;case 22:case 23:Yi(s),fg(),i!==null&&de(Qs);break;case 24:Gi(nn)}}function ku(i,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&i)===i){c=void 0;var p=l.create,S=l.inst;c=p(),S.destroy=c}l=l.next}while(l!==m)}}catch(A){Ct(s,s.return,A)}}function ka(i,s,l){try{var c=s.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var p=m.next;c=p;do{if((c.tag&i)===i){var S=c.inst,A=S.destroy;if(A!==void 0){S.destroy=void 0,m=s;var L=l,Z=A;try{Z()}catch(ae){Ct(m,L,ae)}}}c=c.next}while(c!==p)}}catch(ae){Ct(s,s.return,ae)}}function XE(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{V0(s,l)}catch(c){Ct(i,i.return,c)}}}function WE(i,s,l){l.props=Ws(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){Ct(i,s,c)}}function Lu(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(m){Ct(i,s,m)}}function hi(i,s){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){Ct(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){Ct(i,s,m)}else l.current=null}function ZE(i){var s=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){Ct(i,i.return,m)}}function jg(i,s,l){try{var c=i.stateNode;R2(c,i.type,l,s),c[me]=s}catch(m){Ct(i,i.return,m)}}function JE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ha(i.type)||i.tag===4}function zg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||JE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ha(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Fg(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=gh));else if(c!==4&&(c===27&&Ha(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(Fg(i,s,l),i=i.sibling;i!==null;)Fg(i,s,l),i=i.sibling}function ih(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(c!==4&&(c===27&&Ha(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(ih(i,s,l),i=i.sibling;i!==null;)ih(i,s,l),i=i.sibling}function e1(i){var s=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);vn(s,c,l),s[le]=i,s[me]=l}catch(p){Ct(i,i.return,p)}}var Wi=!1,Ft=!1,Bg=!1,t1=typeof WeakSet=="function"?WeakSet:Set,cn=null;function s2(i,s){if(i=i.containerInfo,hp=Sh,i=h0(i),zm(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break e}var S=0,A=-1,L=-1,Z=0,ae=0,ue=i,J=null;t:for(;;){for(var te;ue!==l||m!==0&&ue.nodeType!==3||(A=S+m),ue!==p||c!==0&&ue.nodeType!==3||(L=S+c),ue.nodeType===3&&(S+=ue.nodeValue.length),(te=ue.firstChild)!==null;)J=ue,ue=te;for(;;){if(ue===i)break t;if(J===l&&++Z===m&&(A=S),J===p&&++ae===c&&(L=S),(te=ue.nextSibling)!==null)break;ue=J,J=ue.parentNode}ue=te}l=A===-1||L===-1?null:{start:A,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(dp={focusedElem:i,selectionRange:l},Sh=!1,cn=s;cn!==null;)if(s=cn,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,cn=i;else for(;cn!==null;){switch(s=cn,p=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,l=s,m=p.memoizedProps,p=p.memoizedState,c=l.stateNode;try{var Fe=Ws(l.type,m,l.elementType===l.type);i=c.getSnapshotBeforeUpdate(Fe,p),c.__reactInternalSnapshotBeforeUpdate=i}catch(ke){Ct(l,l.return,ke)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)pp(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":pp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,cn=i;break}cn=s.return}}function n1(i,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:La(i,l),c&4&&ku(5,l);break;case 1:if(La(i,l),c&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(S){Ct(l,l.return,S)}else{var m=Ws(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(S){Ct(l,l.return,S)}}c&64&&XE(l),c&512&&Lu(l,l.return);break;case 3:if(La(i,l),c&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{V0(i,s)}catch(S){Ct(l,l.return,S)}}break;case 27:s===null&&c&4&&e1(l);case 26:case 5:La(i,l),s===null&&c&4&&ZE(l),c&512&&Lu(l,l.return);break;case 12:La(i,l);break;case 13:La(i,l),c&4&&a1(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=g2.bind(null,l),P2(i,l))));break;case 22:if(c=l.memoizedState!==null||Wi,!c){s=s!==null&&s.memoizedState!==null||Ft,m=Wi;var p=Ft;Wi=c,(Ft=s)&&!p?Va(i,l,(l.subtreeFlags&8772)!==0):La(i,l),Wi=m,Ft=p}break;case 30:break;default:La(i,l)}}function r1(i){var s=i.alternate;s!==null&&(i.alternate=null,r1(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Re(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Pt=null,qn=!1;function Zi(i,s,l){for(l=l.child;l!==null;)i1(i,s,l),l=l.sibling}function i1(i,s,l){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(mt,l)}catch{}switch(l.tag){case 26:Ft||hi(l,s),Zi(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ft||hi(l,s);var c=Pt,m=qn;Ha(l.type)&&(Pt=l.stateNode,qn=!1),Zi(i,s,l),$u(l.stateNode),Pt=c,qn=m;break;case 5:Ft||hi(l,s);case 6:if(c=Pt,m=qn,Pt=null,Zi(i,s,l),Pt=c,qn=m,Pt!==null)if(qn)try{(Pt.nodeType===9?Pt.body:Pt.nodeName==="HTML"?Pt.ownerDocument.body:Pt).removeChild(l.stateNode)}catch(p){Ct(l,s,p)}else try{Pt.removeChild(l.stateNode)}catch(p){Ct(l,s,p)}break;case 18:Pt!==null&&(qn?(i=Pt,G1(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Ju(i)):G1(Pt,l.stateNode));break;case 4:c=Pt,m=qn,Pt=l.stateNode.containerInfo,qn=!0,Zi(i,s,l),Pt=c,qn=m;break;case 0:case 11:case 14:case 15:Ft||ka(2,l,s),Ft||ka(4,l,s),Zi(i,s,l);break;case 1:Ft||(hi(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&WE(l,s,c)),Zi(i,s,l);break;case 21:Zi(i,s,l);break;case 22:Ft=(c=Ft)||l.memoizedState!==null,Zi(i,s,l),Ft=c;break;default:Zi(i,s,l)}}function a1(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ju(i)}catch(l){Ct(s,s.return,l)}}function o2(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new t1),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new t1),s;default:throw Error(r(435,i.tag))}}function Hg(i,s){var l=o2(i);s.forEach(function(c){var m=p2.bind(null,i,c);l.has(c)||(l.add(c),c.then(m,m))})}function rr(i,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],p=i,S=s,A=S;e:for(;A!==null;){switch(A.tag){case 27:if(Ha(A.type)){Pt=A.stateNode,qn=!1;break e}break;case 5:Pt=A.stateNode,qn=!1;break e;case 3:case 4:Pt=A.stateNode.containerInfo,qn=!0;break e}A=A.return}if(Pt===null)throw Error(r(160));i1(p,S,m),Pt=null,qn=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)s1(s,i),s=s.sibling}var jr=null;function s1(i,s){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:rr(s,i),ir(i),c&4&&(ka(3,i,i.return),ku(3,i),ka(5,i,i.return));break;case 1:rr(s,i),ir(i),c&512&&(Ft||l===null||hi(l,l.return)),c&64&&Wi&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=jr;if(rr(s,i),ir(i),c&512&&(Ft||l===null||hi(l,l.return)),c&4){var p=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":p=m.getElementsByTagName("title")[0],(!p||p[Me]||p[le]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(c),m.head.insertBefore(p,m.querySelector("head > title"))),vn(p,c,l),p[le]=i,ot(p),c=p;break e;case"link":var S=eb("link","href",m).get(c+(l.href||""));if(S){for(var A=0;A<S.length;A++)if(p=S[A],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(A,1);break t}}p=m.createElement(c),vn(p,c,l),m.head.appendChild(p);break;case"meta":if(S=eb("meta","content",m).get(c+(l.content||""))){for(A=0;A<S.length;A++)if(p=S[A],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(A,1);break t}}p=m.createElement(c),vn(p,c,l),m.head.appendChild(p);break;default:throw Error(r(468,c))}p[le]=i,ot(p),c=p}i.stateNode=c}else tb(m,i.type,i.stateNode);else i.stateNode=J1(m,c,i.memoizedProps);else p!==c?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,c===null?tb(m,i.type,i.stateNode):J1(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&jg(i,i.memoizedProps,l.memoizedProps)}break;case 27:rr(s,i),ir(i),c&512&&(Ft||l===null||hi(l,l.return)),l!==null&&c&4&&jg(i,i.memoizedProps,l.memoizedProps);break;case 5:if(rr(s,i),ir(i),c&512&&(Ft||l===null||hi(l,l.return)),i.flags&32){m=i.stateNode;try{Er(m,"")}catch(te){Ct(i,i.return,te)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,jg(i,m,l!==null?l.memoizedProps:m)),c&1024&&(Bg=!0);break;case 6:if(rr(s,i),ir(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(te){Ct(i,i.return,te)}}break;case 3:if(_h=null,m=jr,jr=yh(s.containerInfo),rr(s,i),jr=m,ir(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Ju(s.containerInfo)}catch(te){Ct(i,i.return,te)}Bg&&(Bg=!1,o1(i));break;case 4:c=jr,jr=yh(i.stateNode.containerInfo),rr(s,i),ir(i),jr=c;break;case 12:rr(s,i),ir(i);break;case 13:rr(s,i),ir(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Qg=kn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Hg(i,c)));break;case 22:m=i.memoizedState!==null;var L=l!==null&&l.memoizedState!==null,Z=Wi,ae=Ft;if(Wi=Z||m,Ft=ae||L,rr(s,i),Ft=ae,Wi=Z,ir(i),c&8192)e:for(s=i.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(l===null||L||Wi||Ft||Zs(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){L=l=s;try{if(p=L.stateNode,m)S=p.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{A=L.stateNode;var ue=L.memoizedProps.style,J=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;A.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(te){Ct(L,L.return,te)}}}else if(s.tag===6){if(l===null){L=s;try{L.stateNode.nodeValue=m?"":L.memoizedProps}catch(te){Ct(L,L.return,te)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Hg(i,l))));break;case 19:rr(s,i),ir(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Hg(i,c)));break;case 30:break;case 21:break;default:rr(s,i),ir(i)}}function ir(i){var s=i.flags;if(s&2){try{for(var l,c=i.return;c!==null;){if(JE(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,p=zg(i);ih(i,p,m);break;case 5:var S=l.stateNode;l.flags&32&&(Er(S,""),l.flags&=-33);var A=zg(i);ih(i,A,S);break;case 3:case 4:var L=l.stateNode.containerInfo,Z=zg(i);Fg(i,Z,L);break;default:throw Error(r(161))}}catch(ae){Ct(i,i.return,ae)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function o1(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;o1(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function La(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)n1(i,s.alternate,s),s=s.sibling}function Zs(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:ka(4,s,s.return),Zs(s);break;case 1:hi(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&WE(s,s.return,l),Zs(s);break;case 27:$u(s.stateNode);case 26:case 5:hi(s,s.return),Zs(s);break;case 22:s.memoizedState===null&&Zs(s);break;case 30:Zs(s);break;default:Zs(s)}i=i.sibling}}function Va(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,m=i,p=s,S=p.flags;switch(p.tag){case 0:case 11:case 15:Va(m,p,l),ku(4,p);break;case 1:if(Va(m,p,l),c=p,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Z){Ct(c,c.return,Z)}if(c=p,m=c.updateQueue,m!==null){var A=c.stateNode;try{var L=m.shared.hiddenCallbacks;if(L!==null)for(m.shared.hiddenCallbacks=null,m=0;m<L.length;m++)L0(L[m],A)}catch(Z){Ct(c,c.return,Z)}}l&&S&64&&XE(p),Lu(p,p.return);break;case 27:e1(p);case 26:case 5:Va(m,p,l),l&&c===null&&S&4&&ZE(p),Lu(p,p.return);break;case 12:Va(m,p,l);break;case 13:Va(m,p,l),l&&S&4&&a1(m,p);break;case 22:p.memoizedState===null&&Va(m,p,l),Lu(p,p.return);break;case 30:break;default:Va(m,p,l)}s=s.sibling}}function qg(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&bu(l))}function $g(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&bu(i))}function di(i,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)l1(i,s,l,c),s=s.sibling}function l1(i,s,l,c){var m=s.flags;switch(s.tag){case 0:case 11:case 15:di(i,s,l,c),m&2048&&ku(9,s);break;case 1:di(i,s,l,c);break;case 3:di(i,s,l,c),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&bu(i)));break;case 12:if(m&2048){di(i,s,l,c),i=s.stateNode;try{var p=s.memoizedProps,S=p.id,A=p.onPostCommit;typeof A=="function"&&A(S,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(L){Ct(s,s.return,L)}}else di(i,s,l,c);break;case 13:di(i,s,l,c);break;case 23:break;case 22:p=s.stateNode,S=s.alternate,s.memoizedState!==null?p._visibility&2?di(i,s,l,c):Vu(i,s):p._visibility&2?di(i,s,l,c):(p._visibility|=2,nl(i,s,l,c,(s.subtreeFlags&10256)!==0)),m&2048&&qg(S,s);break;case 24:di(i,s,l,c),m&2048&&$g(s.alternate,s);break;default:di(i,s,l,c)}}function nl(i,s,l,c,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var p=i,S=s,A=l,L=c,Z=S.flags;switch(S.tag){case 0:case 11:case 15:nl(p,S,A,L,m),ku(8,S);break;case 23:break;case 22:var ae=S.stateNode;S.memoizedState!==null?ae._visibility&2?nl(p,S,A,L,m):Vu(p,S):(ae._visibility|=2,nl(p,S,A,L,m)),m&&Z&2048&&qg(S.alternate,S);break;case 24:nl(p,S,A,L,m),m&&Z&2048&&$g(S.alternate,S);break;default:nl(p,S,A,L,m)}s=s.sibling}}function Vu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,c=s,m=c.flags;switch(c.tag){case 22:Vu(l,c),m&2048&&qg(c.alternate,c);break;case 24:Vu(l,c),m&2048&&$g(c.alternate,c);break;default:Vu(l,c)}s=s.sibling}}var Uu=8192;function rl(i){if(i.subtreeFlags&Uu)for(i=i.child;i!==null;)u1(i),i=i.sibling}function u1(i){switch(i.tag){case 26:rl(i),i.flags&Uu&&i.memoizedState!==null&&G2(jr,i.memoizedState,i.memoizedProps);break;case 5:rl(i);break;case 3:case 4:var s=jr;jr=yh(i.stateNode.containerInfo),rl(i),jr=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Uu,Uu=16777216,rl(i),Uu=s):rl(i));break;default:rl(i)}}function c1(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function ju(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];cn=c,h1(c,i)}c1(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)f1(i),i=i.sibling}function f1(i){switch(i.tag){case 0:case 11:case 15:ju(i),i.flags&2048&&ka(9,i,i.return);break;case 3:ju(i);break;case 12:ju(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,ah(i)):ju(i);break;default:ju(i)}}function ah(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];cn=c,h1(c,i)}c1(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:ka(8,s,s.return),ah(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,ah(s));break;default:ah(s)}i=i.sibling}}function h1(i,s){for(;cn!==null;){var l=cn;switch(l.tag){case 0:case 11:case 15:ka(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:bu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,cn=c;else e:for(l=i;cn!==null;){c=cn;var m=c.sibling,p=c.return;if(r1(c),c===l){cn=null;break e}if(m!==null){m.return=p,cn=m;break e}cn=p}}}var l2={getCacheForType:function(i){var s=Cn(nn),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l}},u2=typeof WeakMap=="function"?WeakMap:Map,_t=0,xt=null,nt=null,ct=0,Et=0,ar=null,Ua=!1,il=!1,Gg=!1,Ji=0,Ut=0,ja=0,Js=0,Kg=0,Ir=0,al=0,zu=null,$n=null,Yg=!1,Qg=0,sh=1/0,oh=null,za=null,yn=0,Fa=null,sl=null,ol=0,Xg=0,Wg=null,d1=null,Fu=0,Zg=null;function sr(){if((_t&2)!==0&&ct!==0)return ct&-ct;if(Y.T!==null){var i=Yo;return i!==0?i:ap()}return z()}function m1(){Ir===0&&(Ir=(ct&536870912)===0||gt?Pi():536870912);var i=xr.current;return i!==null&&(i.flags|=32),Ir}function or(i,s,l){(i===xt&&(Et===2||Et===9)||i.cancelPendingCommit!==null)&&(ll(i,0),Ba(i,ct,Ir,!1)),Lr(i,l),((_t&2)===0||i!==xt)&&(i===xt&&((_t&2)===0&&(Js|=l),Ut===4&&Ba(i,ct,Ir,!1)),mi(i))}function g1(i,s,l){if((_t&6)!==0)throw Error(r(327));var c=!l&&(s&124)===0&&(s&i.expiredLanes)===0||pr(i,s),m=c?h2(i,s):tp(i,s,!0),p=c;do{if(m===0){il&&!c&&Ba(i,s,0,!1);break}else{if(l=i.current.alternate,p&&!c2(l)){m=tp(i,s,!1),p=!1;continue}if(m===2){if(p=s,i.errorRecoveryDisabledLanes&p)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var A=i;m=zu;var L=A.current.memoizedState.isDehydrated;if(L&&(ll(A,S).flags|=256),S=tp(A,S,!1),S!==2){if(Gg&&!L){A.errorRecoveryDisabledLanes|=p,Js|=p,m=4;break e}p=$n,$n=m,p!==null&&($n===null?$n=p:$n.push.apply($n,p))}m=S}if(p=!1,m!==2)continue}}if(m===1){ll(i,0),Ba(i,s,0,!0);break}e:{switch(c=i,p=m,p){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ba(c,s,Ir,!Ua);break e;case 2:$n=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(m=Qg+300-kn(),10<m)){if(Ba(c,s,Ir,!Ua),Ni(c,0,!0)!==0)break e;c.timeoutHandle=q1(p1.bind(null,c,l,$n,oh,Yg,s,Ir,Js,al,Ua,p,2,-0,0),m);break e}p1(c,l,$n,oh,Yg,s,Ir,Js,al,Ua,p,0,-0,0)}}break}while(!0);mi(i)}function p1(i,s,l,c,m,p,S,A,L,Z,ae,ue,J,te){if(i.timeoutHandle=-1,ue=s.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(Yu={stylesheets:null,count:0,unsuspend:$2},u1(s),ue=K2(),ue!==null)){i.cancelPendingCommit=ue(T1.bind(null,i,s,p,l,c,m,S,A,L,ae,1,J,te)),Ba(i,p,S,!Z);return}T1(i,s,p,l,c,m,S,A,L)}function c2(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],p=m.getSnapshot;m=m.value;try{if(!tr(p(),m))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ba(i,s,l,c){s&=~Kg,s&=~Js,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var m=s;0<m;){var p=31-$t(m),S=1<<p;c[p]=-1,m&=~S}l!==0&&Ln(i,l,s)}function lh(){return(_t&6)===0?(Bu(0),!1):!0}function Jg(){if(nt!==null){if(Et===0)var i=nt.return;else i=nt,$i=Ks=null,pg(i),el=null,Nu=0,i=nt;for(;i!==null;)QE(i.alternate,i),i=i.return;nt=null}}function ll(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,x2(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Jg(),xt=i,nt=l=Bi(i.current,null),ct=s,Et=0,ar=null,Ua=!1,il=pr(i,s),Gg=!1,al=Ir=Kg=Js=ja=Ut=0,$n=zu=null,Yg=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var m=31-$t(c),p=1<<m;s|=i[m],c&=~p}return Ji=s,Of(),l}function y1(i,s){Xe=null,Y.H=Qf,s===Tu||s===jf?(s=M0(),Et=3):s===D0?(s=M0(),Et=4):Et=s===kE?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ar=s,nt===null&&(Ut=1,eh(i,wr(s,i.current)))}function v1(){var i=Y.H;return Y.H=Qf,i===null?Qf:i}function _1(){var i=Y.A;return Y.A=l2,i}function ep(){Ut=4,Ua||(ct&4194048)!==ct&&xr.current!==null||(il=!0),(ja&134217727)===0&&(Js&134217727)===0||xt===null||Ba(xt,ct,Ir,!1)}function tp(i,s,l){var c=_t;_t|=2;var m=v1(),p=_1();(xt!==i||ct!==s)&&(oh=null,ll(i,s)),s=!1;var S=Ut;e:do try{if(Et!==0&&nt!==null){var A=nt,L=ar;switch(Et){case 8:Jg(),S=6;break e;case 3:case 2:case 9:case 6:xr.current===null&&(s=!0);var Z=Et;if(Et=0,ar=null,ul(i,A,L,Z),l&&il){S=0;break e}break;default:Z=Et,Et=0,ar=null,ul(i,A,L,Z)}}f2(),S=Ut;break}catch(ae){y1(i,ae)}while(!0);return s&&i.shellSuspendCounter++,$i=Ks=null,_t=c,Y.H=m,Y.A=p,nt===null&&(xt=null,ct=0,Of()),S}function f2(){for(;nt!==null;)E1(nt)}function h2(i,s){var l=_t;_t|=2;var c=v1(),m=_1();xt!==i||ct!==s?(oh=null,sh=kn()+500,ll(i,s)):il=pr(i,s);e:do try{if(Et!==0&&nt!==null){s=nt;var p=ar;t:switch(Et){case 1:Et=0,ar=null,ul(i,s,p,1);break;case 2:case 9:if(N0(p)){Et=0,ar=null,b1(s);break}s=function(){Et!==2&&Et!==9||xt!==i||(Et=7),mi(i)},p.then(s,s);break e;case 3:Et=7;break e;case 4:Et=5;break e;case 7:N0(p)?(Et=0,ar=null,b1(s)):(Et=0,ar=null,ul(i,s,p,7));break;case 5:var S=null;switch(nt.tag){case 26:S=nt.memoizedState;case 5:case 27:var A=nt;if(!S||nb(S)){Et=0,ar=null;var L=A.sibling;if(L!==null)nt=L;else{var Z=A.return;Z!==null?(nt=Z,uh(Z)):nt=null}break t}}Et=0,ar=null,ul(i,s,p,5);break;case 6:Et=0,ar=null,ul(i,s,p,6);break;case 8:Jg(),Ut=6;break e;default:throw Error(r(462))}}d2();break}catch(ae){y1(i,ae)}while(!0);return $i=Ks=null,Y.H=c,Y.A=m,_t=l,nt!==null?0:(xt=null,ct=0,Of(),Ut)}function d2(){for(;nt!==null&&!Rs();)E1(nt)}function E1(i){var s=KE(i.alternate,i,Ji);i.memoizedProps=i.pendingProps,s===null?uh(i):nt=s}function b1(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=FE(l,s,s.pendingProps,s.type,void 0,ct);break;case 11:s=FE(l,s,s.pendingProps,s.type.render,s.ref,ct);break;case 5:pg(s);default:QE(l,s),s=nt=S0(s,Ji),s=KE(l,s,Ji)}i.memoizedProps=i.pendingProps,s===null?uh(i):nt=s}function ul(i,s,l,c){$i=Ks=null,pg(s),el=null,Nu=0;var m=s.return;try{if(n2(i,m,s,l,ct)){Ut=1,eh(i,wr(l,i.current)),nt=null;return}}catch(p){if(m!==null)throw nt=m,p;Ut=1,eh(i,wr(l,i.current)),nt=null;return}s.flags&32768?(gt||c===1?i=!0:il||(ct&536870912)!==0?i=!1:(Ua=i=!0,(c===2||c===9||c===3||c===6)&&(c=xr.current,c!==null&&c.tag===13&&(c.flags|=16384))),S1(s,i)):uh(s)}function uh(i){var s=i;do{if((s.flags&32768)!==0){S1(s,Ua);return}i=s.return;var l=i2(s.alternate,s,Ji);if(l!==null){nt=l;return}if(s=s.sibling,s!==null){nt=s;return}nt=s=i}while(s!==null);Ut===0&&(Ut=5)}function S1(i,s){do{var l=a2(i.alternate,i);if(l!==null){l.flags&=32767,nt=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){nt=i;return}nt=i=l}while(i!==null);Ut=6,nt=null}function T1(i,s,l,c,m,p,S,A,L){i.cancelPendingCommit=null;do ch();while(yn!==0);if((_t&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(p=s.lanes|s.childLanes,p|=$m,Ta(i,l,p,S,A,L),i===xt&&(nt=xt=null,ct=0),sl=s,Fa=i,ol=l,Xg=p,Wg=m,d1=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,y2(Di,function(){return x1(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=Y.T,Y.T=null,m=he.p,he.p=2,S=_t,_t|=4;try{s2(i,s,l)}finally{_t=S,he.p=m,Y.T=c}}yn=1,w1(),A1(),R1()}}function w1(){if(yn===1){yn=0;var i=Fa,s=sl,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null;var c=he.p;he.p=2;var m=_t;_t|=4;try{s1(s,i);var p=dp,S=h0(i.containerInfo),A=p.focusedElem,L=p.selectionRange;if(S!==A&&A&&A.ownerDocument&&f0(A.ownerDocument.documentElement,A)){if(L!==null&&zm(A)){var Z=L.start,ae=L.end;if(ae===void 0&&(ae=Z),"selectionStart"in A)A.selectionStart=Z,A.selectionEnd=Math.min(ae,A.value.length);else{var ue=A.ownerDocument||document,J=ue&&ue.defaultView||window;if(J.getSelection){var te=J.getSelection(),Fe=A.textContent.length,ke=Math.min(L.start,Fe),At=L.end===void 0?ke:Math.min(L.end,Fe);!te.extend&&ke>At&&(S=At,At=ke,ke=S);var q=c0(A,ke),H=c0(A,At);if(q&&H&&(te.rangeCount!==1||te.anchorNode!==q.node||te.anchorOffset!==q.offset||te.focusNode!==H.node||te.focusOffset!==H.offset)){var Q=ue.createRange();Q.setStart(q.node,q.offset),te.removeAllRanges(),ke>At?(te.addRange(Q),te.extend(H.node,H.offset)):(Q.setEnd(H.node,H.offset),te.addRange(Q))}}}}for(ue=[],te=A;te=te.parentNode;)te.nodeType===1&&ue.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ue.length;A++){var se=ue[A];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Sh=!!hp,dp=hp=null}finally{_t=m,he.p=c,Y.T=l}}i.current=s,yn=2}}function A1(){if(yn===2){yn=0;var i=Fa,s=sl,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=Y.T,Y.T=null;var c=he.p;he.p=2;var m=_t;_t|=4;try{n1(i,s.alternate,s)}finally{_t=m,he.p=c,Y.T=l}}yn=3}}function R1(){if(yn===4||yn===3){yn=0,Io();var i=Fa,s=sl,l=ol,c=d1;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?yn=5:(yn=0,sl=Fa=null,C1(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(za=null),wa(l),s=s.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(mt,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=Y.T,m=he.p,he.p=2,Y.T=null;try{for(var p=i.onRecoverableError,S=0;S<c.length;S++){var A=c[S];p(A.value,{componentStack:A.stack})}}finally{Y.T=s,he.p=m}}(ol&3)!==0&&ch(),mi(i),m=i.pendingLanes,(l&4194090)!==0&&(m&42)!==0?i===Zg?Fu++:(Fu=0,Zg=i):Fu=0,Bu(0)}}function C1(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,bu(s)))}function ch(i){return w1(),A1(),R1(),x1()}function x1(){if(yn!==5)return!1;var i=Fa,s=Xg;Xg=0;var l=wa(ol),c=Y.T,m=he.p;try{he.p=32>l?32:l,Y.T=null,l=Wg,Wg=null;var p=Fa,S=ol;if(yn=0,sl=Fa=null,ol=0,(_t&6)!==0)throw Error(r(331));var A=_t;if(_t|=4,f1(p.current),l1(p,p.current,S,l),_t=A,Bu(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(mt,p)}catch{}return!0}finally{he.p=m,Y.T=c,C1(i,s)}}function I1(i,s,l){s=wr(l,s),s=Og(i.stateNode,s,2),i=Da(i,s,2),i!==null&&(Lr(i,2),mi(i))}function Ct(i,s,l){if(i.tag===3)I1(i,i,l);else for(;s!==null;){if(s.tag===3){I1(s,i,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(za===null||!za.has(c))){i=wr(l,i),l=PE(2),c=Da(s,l,2),c!==null&&(ME(l,c,s,i),Lr(c,2),mi(c));break}}s=s.return}}function np(i,s,l){var c=i.pingCache;if(c===null){c=i.pingCache=new u2;var m=new Set;c.set(s,m)}else m=c.get(s),m===void 0&&(m=new Set,c.set(s,m));m.has(l)||(Gg=!0,m.add(l),i=m2.bind(null,i,s,l),s.then(i,i))}function m2(i,s,l){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,xt===i&&(ct&l)===l&&(Ut===4||Ut===3&&(ct&62914560)===ct&&300>kn()-Qg?(_t&2)===0&&ll(i,0):Kg|=l,al===ct&&(al=0)),mi(i)}function O1(i,s){s===0&&(s=xs()),i=qo(i,s),i!==null&&(Lr(i,s),mi(i))}function g2(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),O1(i,l)}function p2(i,s){var l=0;switch(i.tag){case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),O1(i,l)}function y2(i,s){return Oi(i,s)}var fh=null,cl=null,rp=!1,hh=!1,ip=!1,eo=0;function mi(i){i!==cl&&i.next===null&&(cl===null?fh=cl=i:cl=cl.next=i),hh=!0,rp||(rp=!0,_2())}function Bu(i,s){if(!ip&&hh){ip=!0;do for(var l=!1,c=fh;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var p=0;else{var S=c.suspendedLanes,A=c.pingedLanes;p=(1<<31-$t(42|i)+1)-1,p&=m&~(S&~A),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,M1(c,p))}else p=ct,p=Ni(c,c===xt?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||pr(c,p)||(l=!0,M1(c,p));c=c.next}while(l);ip=!1}}function v2(){D1()}function D1(){hh=rp=!1;var i=0;eo!==0&&(C2()&&(i=eo),eo=0);for(var s=kn(),l=null,c=fh;c!==null;){var m=c.next,p=N1(c,s);p===0?(c.next=null,l===null?fh=m:l.next=m,m===null&&(cl=l)):(l=c,(i!==0||(p&3)!==0)&&(hh=!0)),c=m}Bu(i)}function N1(i,s){for(var l=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var S=31-$t(p),A=1<<S,L=m[S];L===-1?((A&l)===0||(A&c)!==0)&&(m[S]=Sa(A,s)):L<=s&&(i.expiredLanes|=A),p&=~A}if(s=xt,l=ct,l=Ni(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===s&&(Et===2||Et===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Mn(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||pr(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(c!==null&&Mn(c),wa(l)){case 2:case 8:l=_a;break;case 32:l=Di;break;case 268435456:l=mr;break;default:l=Di}return c=P1.bind(null,i),l=Oi(l,c),i.callbackPriority=s,i.callbackNode=l,s}return c!==null&&c!==null&&Mn(c),i.callbackPriority=2,i.callbackNode=null,2}function P1(i,s){if(yn!==0&&yn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(ch()&&i.callbackNode!==l)return null;var c=ct;return c=Ni(i,i===xt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(g1(i,c,s),N1(i,kn()),i.callbackNode!=null&&i.callbackNode===l?P1.bind(null,i):null)}function M1(i,s){if(ch())return null;g1(i,s,!0)}function _2(){I2(function(){(_t&6)!==0?Oi(Cs,v2):D1()})}function ap(){return eo===0&&(eo=Pi()),eo}function k1(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:No(""+i)}function L1(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function E2(i,s,l,c,m){if(s==="submit"&&l&&l.stateNode===m){var p=k1((m[me]||null).action),S=c.submitter;S&&(s=(s=S[me]||null)?k1(s.formAction):S.getAttribute("formAction"),s!==null&&(p=s,S=null));var A=new Po("action","action",null,c,m);i.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(eo!==0){var L=S?L1(m,S):new FormData(m);Ag(l,{pending:!0,data:L,method:m.method,action:p},null,L)}}else typeof p=="function"&&(A.preventDefault(),L=S?L1(m,S):new FormData(m),Ag(l,{pending:!0,data:L,method:m.method,action:p},p,L))},currentTarget:m}]})}}for(var sp=0;sp<qm.length;sp++){var op=qm[sp],b2=op.toLowerCase(),S2=op[0].toUpperCase()+op.slice(1);Ur(b2,"on"+S2)}Ur(g0,"onAnimationEnd"),Ur(p0,"onAnimationIteration"),Ur(y0,"onAnimationStart"),Ur("dblclick","onDoubleClick"),Ur("focusin","onFocus"),Ur("focusout","onBlur"),Ur(jI,"onTransitionRun"),Ur(zI,"onTransitionStart"),Ur(FI,"onTransitionCancel"),Ur(v0,"onTransitionEnd"),Vn("onMouseEnter",["mouseout","mouseover"]),Vn("onMouseLeave",["mouseout","mouseover"]),Vn("onPointerEnter",["pointerout","pointerover"]),Vn("onPointerLeave",["pointerout","pointerover"]),Jt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hu));function V1(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],m=c.event;c=c.listeners;e:{var p=void 0;if(s)for(var S=c.length-1;0<=S;S--){var A=c[S],L=A.instance,Z=A.currentTarget;if(A=A.listener,L!==p&&m.isPropagationStopped())break e;p=A,m.currentTarget=Z;try{p(m)}catch(ae){Jf(ae)}m.currentTarget=null,p=L}else for(S=0;S<c.length;S++){if(A=c[S],L=A.instance,Z=A.currentTarget,A=A.listener,L!==p&&m.isPropagationStopped())break e;p=A,m.currentTarget=Z;try{p(m)}catch(ae){Jf(ae)}m.currentTarget=null,p=L}}}}function rt(i,s){var l=s[Pe];l===void 0&&(l=s[Pe]=new Set);var c=i+"__bubble";l.has(c)||(U1(s,i,2,!1),l.add(c))}function lp(i,s,l){var c=0;s&&(c|=4),U1(l,i,c,s)}var dh="_reactListening"+Math.random().toString(36).slice(2);function up(i){if(!i[dh]){i[dh]=!0,Ze.forEach(function(l){l!=="selectionchange"&&(T2.has(l)||lp(l,!1,i),lp(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[dh]||(s[dh]=!0,lp("selectionchange",!1,s))}}function U1(i,s,l,c){switch(lb(s)){case 2:var m=X2;break;case 8:m=W2;break;default:m=Tp}l=m.bind(null,s,l,i),m=void 0,!Sr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(s,l,{capture:!0,passive:m}):i.addEventListener(s,l,!0):m!==void 0?i.addEventListener(s,l,{passive:m}):i.addEventListener(s,l,!1)}function cp(i,s,l,c,m){var p=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var S=c.tag;if(S===3||S===4){var A=c.stateNode.containerInfo;if(A===m)break;if(S===4)for(S=c.return;S!==null;){var L=S.tag;if((L===3||L===4)&&S.stateNode.containerInfo===m)return;S=S.return}for(;A!==null;){if(S=Le(A),S===null)return;if(L=S.tag,L===5||L===6||L===26||L===27){c=p=S;continue e}A=A.parentNode}}c=c.return}gf(function(){var Z=p,ae=br(l),ue=[];e:{var J=_0.get(i);if(J!==void 0){var te=Po,Fe=i;switch(i){case"keypress":if(ai(l)===0)break e;case"keydown":case"keyup":te=jo;break;case"focusin":Fe="focus",te=Lo;break;case"focusout":Fe="blur",te=Lo;break;case"beforeblur":case"afterblur":te=Lo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Tr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Lm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=Tf;break;case g0:case p0:case y0:te=Vo;break;case v0:te=Af;break;case"scroll":case"scrollend":te=pf;break;case"wheel":te=zo;break;case"copy":case"cut":case"paste":te=Uo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=du;break;case"toggle":case"beforetoggle":te=Cf}var ke=(s&4)!==0,At=!ke&&(i==="scroll"||i==="scrollend"),q=ke?J!==null?J+"Capture":null:J;ke=[];for(var H=Z,Q;H!==null;){var se=H;if(Q=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Q===null||q===null||(se=Ps(H,q),se!=null&&ke.push(qu(H,se,Q))),At)break;H=H.return}0<ke.length&&(J=new te(J,Fe,null,l,ae),ue.push({event:J,listeners:ke}))}}if((s&7)===0){e:{if(J=i==="mouseover"||i==="pointerover",te=i==="mouseout"||i==="pointerout",J&&l!==Li&&(Fe=l.relatedTarget||l.fromElement)&&(Le(Fe)||Fe[ve]))break e;if((te||J)&&(J=ae.window===ae?ae:(J=ae.ownerDocument)?J.defaultView||J.parentWindow:window,te?(Fe=l.relatedTarget||l.toElement,te=Z,Fe=Fe?Le(Fe):null,Fe!==null&&(At=o(Fe),ke=Fe.tag,Fe!==At||ke!==5&&ke!==27&&ke!==6)&&(Fe=null)):(te=null,Fe=Z),te!==Fe)){if(ke=Tr,se="onMouseLeave",q="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(ke=du,se="onPointerLeave",q="onPointerEnter",H="pointer"),At=te==null?J:pt(te),Q=Fe==null?J:pt(Fe),J=new ke(se,H+"leave",te,l,ae),J.target=At,J.relatedTarget=Q,se=null,Le(ae)===Z&&(ke=new ke(q,H+"enter",Fe,l,ae),ke.target=Q,ke.relatedTarget=At,se=ke),At=se,te&&Fe)t:{for(ke=te,q=Fe,H=0,Q=ke;Q;Q=fl(Q))H++;for(Q=0,se=q;se;se=fl(se))Q++;for(;0<H-Q;)ke=fl(ke),H--;for(;0<Q-H;)q=fl(q),Q--;for(;H--;){if(ke===q||q!==null&&ke===q.alternate)break t;ke=fl(ke),q=fl(q)}ke=null}else ke=null;te!==null&&j1(ue,J,te,ke,!1),Fe!==null&&At!==null&&j1(ue,At,Fe,ke,!0)}}e:{if(J=Z?pt(Z):window,te=J.nodeName&&J.nodeName.toLowerCase(),te==="select"||te==="input"&&J.type==="file")var we=i0;else if(tn(J))if(a0)we=LI;else{we=MI;var Je=PI}else te=J.nodeName,!te||te.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Z&&su(Z.elementType)&&(we=i0):we=kI;if(we&&(we=we(i,Z))){Fi(ue,we,l,ae);break e}Je&&Je(i,J,Z),i==="focusout"&&Z&&J.type==="number"&&Z.memoizedProps.value!=null&&Ra(J,"number",J.value)}switch(Je=Z?pt(Z):window,i){case"focusin":(tn(Je)||Je.contentEditable==="true")&&(Fo=Je,Fm=Z,pu=null);break;case"focusout":pu=Fm=Fo=null;break;case"mousedown":Bm=!0;break;case"contextmenu":case"mouseup":case"dragend":Bm=!1,d0(ue,l,ae);break;case"selectionchange":if(UI)break;case"keydown":case"keyup":d0(ue,l,ae)}var Ie;if(li)e:{switch(i){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else lt?re(i,l)&&(Ve="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ve="onCompositionStart");Ve&&(b&&l.locale!=="ko"&&(lt||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&lt&&(Ie=lu()):(ii=ae,Ca="value"in ii?ii.value:ii.textContent,lt=!0)),Je=mh(Z,Ve),0<Je.length&&(Ve=new fu(Ve,i,null,l,ae),ue.push({event:Ve,listeners:Je}),Ie?Ve.data=Ie:(Ie=pe(l),Ie!==null&&(Ve.data=Ie)))),(Ie=v?en(i,l):ut(i,l))&&(Ve=mh(Z,"onBeforeInput"),0<Ve.length&&(Je=new fu("onBeforeInput","beforeinput",null,l,ae),ue.push({event:Je,listeners:Ve}),Je.data=Ie)),E2(ue,i,Z,l,ae)}V1(ue,s)})}function qu(i,s,l){return{instance:i,listener:s,currentTarget:l}}function mh(i,s){for(var l=s+"Capture",c=[];i!==null;){var m=i,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=Ps(i,l),m!=null&&c.unshift(qu(i,m,p)),m=Ps(i,s),m!=null&&c.push(qu(i,m,p))),i.tag===3)return c;i=i.return}return[]}function fl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function j1(i,s,l,c,m){for(var p=s._reactName,S=[];l!==null&&l!==c;){var A=l,L=A.alternate,Z=A.stateNode;if(A=A.tag,L!==null&&L===c)break;A!==5&&A!==26&&A!==27||Z===null||(L=Z,m?(Z=Ps(l,p),Z!=null&&S.unshift(qu(l,Z,L))):m||(Z=Ps(l,p),Z!=null&&S.push(qu(l,Z,L)))),l=l.return}S.length!==0&&i.push({event:s,listeners:S})}var w2=/\r\n?/g,A2=/\u0000|\uFFFD/g;function z1(i){return(typeof i=="string"?i:""+i).replace(w2,`
`).replace(A2,"")}function F1(i,s){return s=z1(s),z1(i)===s}function gh(){}function wt(i,s,l,c,m,p){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Er(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Er(i,""+c);break;case"className":Un(i,"class",c);break;case"tabIndex":Un(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Un(i,l,c);break;case"style":au(i,c,p);break;case"data":if(s!=="object"){Un(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=No(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(s!=="input"&&wt(i,s,"name",m.name,m,null),wt(i,s,"formEncType",m.formEncType,m,null),wt(i,s,"formMethod",m.formMethod,m,null),wt(i,s,"formTarget",m.formTarget,m,null)):(wt(i,s,"encType",m.encType,m,null),wt(i,s,"method",m.method,m,null),wt(i,s,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=No(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=gh);break;case"onScroll":c!=null&&rt("scroll",i);break;case"onScrollEnd":c!=null&&rt("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=No(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":rt("beforetoggle",i),rt("toggle",i),Rn(i,"popover",c);break;case"xlinkActuate":He(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":He(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":He(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":He(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":He(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":He(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":He(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":He(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":He(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Rn(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Mm.get(l)||l,Rn(i,l,c))}}function fp(i,s,l,c,m,p){switch(l){case"style":au(i,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?Er(i,c):(typeof c=="number"||typeof c=="bigint")&&Er(i,""+c);break;case"onScroll":c!=null&&rt("scroll",i);break;case"onScrollEnd":c!=null&&rt("scrollend",i);break;case"onClick":c!=null&&(i.onclick=gh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),s=l.slice(2,m?l.length-7:void 0),p=i[me]||null,p=p!=null?p[l]:null,typeof p=="function"&&i.removeEventListener(s,p,m),typeof c=="function")){typeof p!="function"&&p!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,c,m);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):Rn(i,l,c)}}}function vn(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",i),rt("load",i);var c=!1,m=!1,p;for(p in l)if(l.hasOwnProperty(p)){var S=l[p];if(S!=null)switch(p){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:wt(i,s,p,S,l,null)}}m&&wt(i,s,"srcSet",l.srcSet,l,null),c&&wt(i,s,"src",l.src,l,null);return;case"input":rt("invalid",i);var A=p=S=m=null,L=null,Z=null;for(c in l)if(l.hasOwnProperty(c)){var ae=l[c];if(ae!=null)switch(c){case"name":m=ae;break;case"type":S=ae;break;case"checked":L=ae;break;case"defaultChecked":Z=ae;break;case"value":p=ae;break;case"defaultValue":A=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,s));break;default:wt(i,s,c,ae,l,null)}}Os(i,p,A,L,Z,S,m,!1),Do(i);return;case"select":rt("invalid",i),c=S=p=null;for(m in l)if(l.hasOwnProperty(m)&&(A=l[m],A!=null))switch(m){case"value":p=A;break;case"defaultValue":S=A;break;case"multiple":c=A;default:wt(i,s,m,A,l,null)}s=p,l=S,i.multiple=!!c,s!=null?ki(i,!!c,s,!1):l!=null&&ki(i,!!c,l,!0);return;case"textarea":rt("invalid",i),p=m=c=null;for(S in l)if(l.hasOwnProperty(S)&&(A=l[S],A!=null))switch(S){case"value":c=A;break;case"defaultValue":m=A;break;case"children":p=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:wt(i,s,S,A,l,null)}Ds(i,c,m,p),Do(i);return;case"option":for(L in l)if(l.hasOwnProperty(L)&&(c=l[L],c!=null))switch(L){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:wt(i,s,L,c,l,null)}return;case"dialog":rt("beforetoggle",i),rt("toggle",i),rt("cancel",i),rt("close",i);break;case"iframe":case"object":rt("load",i);break;case"video":case"audio":for(c=0;c<Hu.length;c++)rt(Hu[c],i);break;case"image":rt("error",i),rt("load",i);break;case"details":rt("toggle",i);break;case"embed":case"source":case"link":rt("error",i),rt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in l)if(l.hasOwnProperty(Z)&&(c=l[Z],c!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:wt(i,s,Z,c,l,null)}return;default:if(su(s)){for(ae in l)l.hasOwnProperty(ae)&&(c=l[ae],c!==void 0&&fp(i,s,ae,c,l,void 0));return}}for(A in l)l.hasOwnProperty(A)&&(c=l[A],c!=null&&wt(i,s,A,c,l,null))}function R2(i,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,S=null,A=null,L=null,Z=null,ae=null;for(te in l){var ue=l[te];if(l.hasOwnProperty(te)&&ue!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":L=ue;default:c.hasOwnProperty(te)||wt(i,s,te,null,c,ue)}}for(var J in c){var te=c[J];if(ue=l[J],c.hasOwnProperty(J)&&(te!=null||ue!=null))switch(J){case"type":p=te;break;case"name":m=te;break;case"checked":Z=te;break;case"defaultChecked":ae=te;break;case"value":S=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,s));break;default:te!==ue&&wt(i,s,J,te,c,ue)}}er(i,S,A,L,Z,ae,p,m);return;case"select":te=S=A=J=null;for(p in l)if(L=l[p],l.hasOwnProperty(p)&&L!=null)switch(p){case"value":break;case"multiple":te=L;default:c.hasOwnProperty(p)||wt(i,s,p,null,c,L)}for(m in c)if(p=c[m],L=l[m],c.hasOwnProperty(m)&&(p!=null||L!=null))switch(m){case"value":J=p;break;case"defaultValue":A=p;break;case"multiple":S=p;default:p!==L&&wt(i,s,m,p,c,L)}s=A,l=S,c=te,J!=null?ki(i,!!l,J,!1):!!c!=!!l&&(s!=null?ki(i,!!l,s,!0):ki(i,!!l,l?[]:"",!1));return;case"textarea":te=J=null;for(A in l)if(m=l[A],l.hasOwnProperty(A)&&m!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:wt(i,s,A,null,c,m)}for(S in c)if(m=c[S],p=l[S],c.hasOwnProperty(S)&&(m!=null||p!=null))switch(S){case"value":J=m;break;case"defaultValue":te=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==p&&wt(i,s,S,m,c,p)}St(i,J,te);return;case"option":for(var Fe in l)if(J=l[Fe],l.hasOwnProperty(Fe)&&J!=null&&!c.hasOwnProperty(Fe))switch(Fe){case"selected":i.selected=!1;break;default:wt(i,s,Fe,null,c,J)}for(L in c)if(J=c[L],te=l[L],c.hasOwnProperty(L)&&J!==te&&(J!=null||te!=null))switch(L){case"selected":i.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:wt(i,s,L,J,c,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in l)J=l[ke],l.hasOwnProperty(ke)&&J!=null&&!c.hasOwnProperty(ke)&&wt(i,s,ke,null,c,J);for(Z in c)if(J=c[Z],te=l[Z],c.hasOwnProperty(Z)&&J!==te&&(J!=null||te!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:wt(i,s,Z,J,c,te)}return;default:if(su(s)){for(var At in l)J=l[At],l.hasOwnProperty(At)&&J!==void 0&&!c.hasOwnProperty(At)&&fp(i,s,At,void 0,c,J);for(ae in c)J=c[ae],te=l[ae],!c.hasOwnProperty(ae)||J===te||J===void 0&&te===void 0||fp(i,s,ae,J,c,te);return}}for(var q in l)J=l[q],l.hasOwnProperty(q)&&J!=null&&!c.hasOwnProperty(q)&&wt(i,s,q,null,c,J);for(ue in c)J=c[ue],te=l[ue],!c.hasOwnProperty(ue)||J===te||J==null&&te==null||wt(i,s,ue,J,c,te)}var hp=null,dp=null;function ph(i){return i.nodeType===9?i:i.ownerDocument}function B1(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function H1(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function mp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var gp=null;function C2(){var i=window.event;return i&&i.type==="popstate"?i===gp?!1:(gp=i,!0):(gp=null,!1)}var q1=typeof setTimeout=="function"?setTimeout:void 0,x2=typeof clearTimeout=="function"?clearTimeout:void 0,$1=typeof Promise=="function"?Promise:void 0,I2=typeof queueMicrotask=="function"?queueMicrotask:typeof $1<"u"?function(i){return $1.resolve(null).then(i).catch(O2)}:q1;function O2(i){setTimeout(function(){throw i})}function Ha(i){return i==="head"}function G1(i,s){var l=s,c=0,m=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(0<c&&8>c){l=c;var S=i.ownerDocument;if(l&1&&$u(S.documentElement),l&2&&$u(S.body),l&4)for(l=S.head,$u(l),S=l.firstChild;S;){var A=S.nextSibling,L=S.nodeName;S[Me]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&S.rel.toLowerCase()==="stylesheet"||l.removeChild(S),S=A}}if(m===0){i.removeChild(p),Ju(s);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:c=l.charCodeAt(0)-48;else c=0;l=p}while(l);Ju(s)}function pp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":pp(l),Re(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function D2(i,s,l,c){for(;i.nodeType===1;){var m=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Me])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=zr(i.nextSibling),i===null)break}return null}function N2(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=zr(i.nextSibling),i===null))return null;return i}function yp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function P2(i,s){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")s();else{var c=function(){s(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function zr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var vp=null;function K1(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}function Y1(i,s,l){switch(s=ph(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function $u(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Re(i)}var Or=new Map,Q1=new Set;function yh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ea=he.d;he.d={f:M2,r:k2,D:L2,C:V2,L:U2,m:j2,X:F2,S:z2,M:B2};function M2(){var i=ea.f(),s=lh();return i||s}function k2(i){var s=tt(i);s!==null&&s.tag===5&&s.type==="form"?gE(s):ea.r(i)}var hl=typeof document>"u"?null:document;function X1(i,s,l){var c=hl;if(c&&typeof s=="string"&&s){var m=Kt(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),Q1.has(m)||(Q1.add(m),i={rel:i,crossOrigin:l,href:s},c.querySelector(m)===null&&(s=c.createElement("link"),vn(s,"link",i),ot(s),c.head.appendChild(s)))}}function L2(i){ea.D(i),X1("dns-prefetch",i,null)}function V2(i,s){ea.C(i,s),X1("preconnect",i,s)}function U2(i,s,l){ea.L(i,s,l);var c=hl;if(c&&i&&s){var m='link[rel="preload"][as="'+Kt(s)+'"]';s==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Kt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Kt(l.imageSizes)+'"]')):m+='[href="'+Kt(i)+'"]';var p=m;switch(s){case"style":p=dl(i);break;case"script":p=ml(i)}Or.has(p)||(i=y({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),Or.set(p,i),c.querySelector(m)!==null||s==="style"&&c.querySelector(Gu(p))||s==="script"&&c.querySelector(Ku(p))||(s=c.createElement("link"),vn(s,"link",i),ot(s),c.head.appendChild(s)))}}function j2(i,s){ea.m(i,s);var l=hl;if(l&&i){var c=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+Kt(c)+'"][href="'+Kt(i)+'"]',p=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=ml(i)}if(!Or.has(p)&&(i=y({rel:"modulepreload",href:i},s),Or.set(p,i),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Ku(p)))return}c=l.createElement("link"),vn(c,"link",i),ot(c),l.head.appendChild(c)}}}function z2(i,s,l){ea.S(i,s,l);var c=hl;if(c&&i){var m=ht(c).hoistableStyles,p=dl(i);s=s||"default";var S=m.get(p);if(!S){var A={loading:0,preload:null};if(S=c.querySelector(Gu(p)))A.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},l),(l=Or.get(p))&&_p(i,l);var L=S=c.createElement("link");ot(L),vn(L,"link",i),L._p=new Promise(function(Z,ae){L.onload=Z,L.onerror=ae}),L.addEventListener("load",function(){A.loading|=1}),L.addEventListener("error",function(){A.loading|=2}),A.loading|=4,vh(S,s,c)}S={type:"stylesheet",instance:S,count:1,state:A},m.set(p,S)}}}function F2(i,s){ea.X(i,s);var l=hl;if(l&&i){var c=ht(l).hoistableScripts,m=ml(i),p=c.get(m);p||(p=l.querySelector(Ku(m)),p||(i=y({src:i,async:!0},s),(s=Or.get(m))&&Ep(i,s),p=l.createElement("script"),ot(p),vn(p,"link",i),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(m,p))}}function B2(i,s){ea.M(i,s);var l=hl;if(l&&i){var c=ht(l).hoistableScripts,m=ml(i),p=c.get(m);p||(p=l.querySelector(Ku(m)),p||(i=y({src:i,async:!0,type:"module"},s),(s=Or.get(m))&&Ep(i,s),p=l.createElement("script"),ot(p),vn(p,"link",i),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(m,p))}}function W1(i,s,l,c){var m=(m=De.current)?yh(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=dl(l.href),l=ht(m).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=dl(l.href);var p=ht(m).hoistableStyles,S=p.get(i);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,S),(p=m.querySelector(Gu(i)))&&!p._p&&(S.instance=p,S.state.loading=5),Or.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Or.set(i,l),p||H2(m,i,l,S.state))),s&&c===null)throw Error(r(528,""));return S}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ml(l),l=ht(m).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function dl(i){return'href="'+Kt(i)+'"'}function Gu(i){return'link[rel="stylesheet"]['+i+"]"}function Z1(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function H2(i,s,l,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),vn(s,"link",l),ot(s),i.head.appendChild(s))}function ml(i){return'[src="'+Kt(i)+'"]'}function Ku(i){return"script[async]"+i}function J1(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+Kt(l.href)+'"]');if(c)return s.instance=c,ot(c),c;var m=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),ot(c),vn(c,"style",m),vh(c,l.precedence,i),s.instance=c;case"stylesheet":m=dl(l.href);var p=i.querySelector(Gu(m));if(p)return s.state.loading|=4,s.instance=p,ot(p),p;c=Z1(l),(m=Or.get(m))&&_p(c,m),p=(i.ownerDocument||i).createElement("link"),ot(p);var S=p;return S._p=new Promise(function(A,L){S.onload=A,S.onerror=L}),vn(p,"link",c),s.state.loading|=4,vh(p,l.precedence,i),s.instance=p;case"script":return p=ml(l.src),(m=i.querySelector(Ku(p)))?(s.instance=m,ot(m),m):(c=l,(m=Or.get(p))&&(c=y({},l),Ep(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),ot(m),vn(m,"link",c),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,vh(c,l.precedence,i));return s.instance}function vh(i,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,p=m,S=0;S<c.length;S++){var A=c[S];if(A.dataset.precedence===s)p=A;else if(p!==m)break}p?p.parentNode.insertBefore(i,p.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function _p(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Ep(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var _h=null;function eb(i,s,l){if(_h===null){var c=new Map,m=_h=new Map;m.set(l,c)}else m=_h,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),m=0;m<l.length;m++){var p=l[m];if(!(p[Me]||p[le]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(s)||"";S=i+S;var A=c.get(S);A?A.push(p):c.set(S,[p])}}return c}function tb(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function q2(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function nb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Yu=null;function $2(){}function G2(i,s,l){if(Yu===null)throw Error(r(475));var c=Yu;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=dl(l.href),p=i.querySelector(Gu(m));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=Eh.bind(c),i.then(c,c)),s.state.loading|=4,s.instance=p,ot(p);return}p=i.ownerDocument||i,l=Z1(l),(m=Or.get(m))&&_p(l,m),p=p.createElement("link"),ot(p);var S=p;S._p=new Promise(function(A,L){S.onload=A,S.onerror=L}),vn(p,"link",l),s.instance=p}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=Eh.bind(c),i.addEventListener("load",s),i.addEventListener("error",s))}}function K2(){if(Yu===null)throw Error(r(475));var i=Yu;return i.stylesheets&&i.count===0&&bp(i,i.stylesheets),0<i.count?function(s){var l=setTimeout(function(){if(i.stylesheets&&bp(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Eh(){if(this.count--,this.count===0){if(this.stylesheets)bp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var bh=null;function bp(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,bh=new Map,s.forEach(Y2,i),bh=null,Eh.call(i))}function Y2(i,s){if(!(s.state.loading&4)){var l=bh.get(i);if(l)var c=l.get(null);else{l=new Map,bh.set(i,l);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var S=m[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),c=S)}c&&l.set(null,c)}m=s.instance,S=m.getAttribute("data-precedence"),p=l.get(S)||c,p===c&&l.set(null,m),l.set(S,m),this.count++,c=Eh.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),p?p.parentNode.insertBefore(m,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var Qu={$$typeof:G,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function Q2(i,s,l,c,m,p,S,A){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yr(0),this.hiddenUpdates=yr(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function rb(i,s,l,c,m,p,S,A,L,Z,ae,ue){return i=new Q2(i,s,l,S,A,L,Z,ue),s=1,p===!0&&(s|=24),p=nr(3,null,null,s),i.current=p,p.stateNode=i,s=ng(),s.refCount++,i.pooledCache=s,s.refCount++,p.memoizedState={element:c,isDehydrated:l,cache:s},sg(p),i}function ib(i){return i?(i=$o,i):$o}function ab(i,s,l,c,m,p){m=ib(m),c.context===null?c.context=m:c.pendingContext=m,c=Oa(s),c.payload={element:l},p=p===void 0?null:p,p!==null&&(c.callback=p),l=Da(i,c,s),l!==null&&(or(l,i,s),Au(l,i,s))}function sb(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function Sp(i,s){sb(i,s),(i=i.alternate)&&sb(i,s)}function ob(i){if(i.tag===13){var s=qo(i,67108864);s!==null&&or(s,i,67108864),Sp(i,67108864)}}var Sh=!0;function X2(i,s,l,c){var m=Y.T;Y.T=null;var p=he.p;try{he.p=2,Tp(i,s,l,c)}finally{he.p=p,Y.T=m}}function W2(i,s,l,c){var m=Y.T;Y.T=null;var p=he.p;try{he.p=8,Tp(i,s,l,c)}finally{he.p=p,Y.T=m}}function Tp(i,s,l,c){if(Sh){var m=wp(c);if(m===null)cp(i,s,c,Th,l),ub(i,c);else if(J2(m,i,s,l,c))c.stopPropagation();else if(ub(i,c),s&4&&-1<Z2.indexOf(i)){for(;m!==null;){var p=tt(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=Wn(p.pendingLanes);if(S!==0){var A=p;for(A.pendingLanes|=2,A.entangledLanes|=2;S;){var L=1<<31-$t(S);A.entanglements[1]|=L,S&=~L}mi(p),(_t&6)===0&&(sh=kn()+500,Bu(0))}}break;case 13:A=qo(p,2),A!==null&&or(A,p,2),lh(),Sp(p,2)}if(p=wp(c),p===null&&cp(i,s,c,Th,l),p===m)break;m=p}m!==null&&c.stopPropagation()}else cp(i,s,c,null,l)}}function wp(i){return i=br(i),Ap(i)}var Th=null;function Ap(i){if(Th=null,i=Le(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=u(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Th=i,null}function lb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nu()){case Cs:return 2;case _a:return 8;case Di:case kr:return 32;case mr:return 268435456;default:return 32}default:return 32}}var Rp=!1,qa=null,$a=null,Ga=null,Xu=new Map,Wu=new Map,Ka=[],Z2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ub(i,s){switch(i){case"focusin":case"focusout":qa=null;break;case"dragenter":case"dragleave":$a=null;break;case"mouseover":case"mouseout":Ga=null;break;case"pointerover":case"pointerout":Xu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wu.delete(s.pointerId)}}function Zu(i,s,l,c,m,p){return i===null||i.nativeEvent!==p?(i={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:p,targetContainers:[m]},s!==null&&(s=tt(s),s!==null&&ob(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function J2(i,s,l,c,m){switch(s){case"focusin":return qa=Zu(qa,i,s,l,c,m),!0;case"dragenter":return $a=Zu($a,i,s,l,c,m),!0;case"mouseover":return Ga=Zu(Ga,i,s,l,c,m),!0;case"pointerover":var p=m.pointerId;return Xu.set(p,Zu(Xu.get(p)||null,i,s,l,c,m)),!0;case"gotpointercapture":return p=m.pointerId,Wu.set(p,Zu(Wu.get(p)||null,i,s,l,c,m)),!0}return!1}function cb(i){var s=Le(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){i.blockedOn=s,$(i.priority,function(){if(l.tag===13){var c=sr();c=ei(c);var m=qo(l,c);m!==null&&or(m,l,c),Sp(l,c)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function wh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=wp(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);Li=c,l.target.dispatchEvent(c),Li=null}else return s=tt(l),s!==null&&ob(s),i.blockedOn=l,!1;s.shift()}return!0}function fb(i,s,l){wh(i)&&l.delete(s)}function eO(){Rp=!1,qa!==null&&wh(qa)&&(qa=null),$a!==null&&wh($a)&&($a=null),Ga!==null&&wh(Ga)&&(Ga=null),Xu.forEach(fb),Wu.forEach(fb)}function Ah(i,s){i.blockedOn===s&&(i.blockedOn=null,Rp||(Rp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,eO)))}var Rh=null;function hb(i){Rh!==i&&(Rh=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Rh===i&&(Rh=null);for(var s=0;s<i.length;s+=3){var l=i[s],c=i[s+1],m=i[s+2];if(typeof c!="function"){if(Ap(c||l)===null)continue;break}var p=tt(l);p!==null&&(i.splice(s,3),s-=3,Ag(p,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function Ju(i){function s(L){return Ah(L,i)}qa!==null&&Ah(qa,i),$a!==null&&Ah($a,i),Ga!==null&&Ah(Ga,i),Xu.forEach(s),Wu.forEach(s);for(var l=0;l<Ka.length;l++){var c=Ka[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Ka.length&&(l=Ka[0],l.blockedOn===null);)cb(l),l.blockedOn===null&&Ka.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],p=l[c+1],S=m[me]||null;if(typeof p=="function")S||hb(l);else if(S){var A=null;if(p&&p.hasAttribute("formAction")){if(m=p,S=p[me]||null)A=S.formAction;else if(Ap(m)!==null)continue}else A=S.action;typeof A=="function"?l[c+1]=A:(l.splice(c,3),c-=3),hb(l)}}}function Cp(i){this._internalRoot=i}Ch.prototype.render=Cp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,c=sr();ab(l,c,i,s,null,null)},Ch.prototype.unmount=Cp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;ab(i.current,2,null,i,null,null),lh(),s[ve]=null}};function Ch(i){this._internalRoot=i}Ch.prototype.unstable_scheduleHydration=function(i){if(i){var s=z();i={blockedOn:null,target:i,priority:s};for(var l=0;l<Ka.length&&s!==0&&s<Ka[l].priority;l++);Ka.splice(l,0,i),l===0&&cb(i)}};var db=e.version;if(db!=="19.1.0")throw Error(r(527,db,"19.1.0"));he.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(s),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var tO={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{mt=xh.inject(tO),Qe=xh}catch{}}return tc.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,c="",m=IE,p=OE,S=DE,A=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=rb(i,1,!1,null,null,l,c,m,p,S,A,null),i[ve]=s.current,up(i),new Cp(s)},tc.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var c=!1,m="",p=IE,S=OE,A=DE,L=null,Z=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(A=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(L=l.unstable_transitionCallbacks),l.formState!==void 0&&(Z=l.formState)),s=rb(i,1,!0,s,l??null,c,m,p,S,A,L,Z),s.context=ib(null),l=s.current,c=sr(),c=ei(c),m=Oa(c),m.callback=null,Da(l,m,c),l=c,s.current.lanes=l,Lr(s,l),mi(s),i[ve]=s.current,up(i),new Ch(s)},tc.version="19.1.0",tc}var Tb;function hO(){if(Tb)return Dp.exports;Tb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Dp.exports=fO(),Dp.exports}var dO=hO(),kp={exports:{}},Lp={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wb;function mO(){if(wb)return Lp;wb=1;var t=Xd();function e(d,g){return d===g&&(d!==0||1/d===1/g)||d!==d&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,a=t.useRef,o=t.useEffect,u=t.useMemo,f=t.useDebugValue;return Lp.useSyncExternalStoreWithSelector=function(d,g,y,_,E){var T=a(null);if(T.current===null){var w={hasValue:!1,value:null};T.current=w}else w=T.current;T=u(function(){function k(ee){if(!j){if(j=!0,W=ee,ee=_(ee),E!==void 0&&w.hasValue){var B=w.value;if(E(B,ee))return G=B}return G=ee}if(B=G,n(W,ee))return B;var N=_(ee);return E!==void 0&&E(B,N)?(W=ee,B):(W=ee,G=N)}var j=!1,W,G,ne=y===void 0?null:y;return[function(){return k(g())},ne===null?void 0:function(){return k(ne())}]},[g,y,_,E]);var D=r(d,T[0],T[1]);return o(function(){w.hasValue=!0,w.value=D},[D]),f(D),D},Lp}var Ab;function gO(){return Ab||(Ab=1,kp.exports=mO()),kp.exports}var pO=gO();function yO(t){t()}function vO(){let t=null,e=null;return{clear(){t=null,e=null},notify(){yO(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!r||t===null||(r=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var Rb={notify(){},get:()=>[]};function _O(t,e){let n,r=Rb,a=0,o=!1;function u(D){y();const k=r.subscribe(D);let j=!1;return()=>{j||(j=!0,k(),_())}}function f(){r.notify()}function d(){w.onStateChange&&w.onStateChange()}function g(){return o}function y(){a++,n||(n=t.subscribe(d),r=vO())}function _(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=Rb)}function E(){o||(o=!0,y())}function T(){o&&(o=!1,_())}const w={addNestedSub:u,notifyNestedSubs:f,handleChangeWrapper:d,isSubscribed:g,trySubscribe:E,tryUnsubscribe:T,getListeners:()=>r};return w}var EO=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bO=EO(),SO=()=>typeof navigator<"u"&&navigator.product==="ReactNative",TO=SO(),wO=()=>bO||TO?O.useLayoutEffect:O.useEffect,AO=wO(),Vp=Symbol.for("react-redux-context"),Up=typeof globalThis<"u"?globalThis:{};function RO(){if(!O.createContext)return{};const t=Up[Vp]??(Up[Vp]=new Map);let e=t.get(O.createContext);return e||(e=O.createContext(null),t.set(O.createContext,e)),e}var cs=RO();function CO(t){const{children:e,context:n,serverState:r,store:a}=t,o=O.useMemo(()=>{const d=_O(a);return{store:a,subscription:d,getServerState:r?()=>r:void 0}},[a,r]),u=O.useMemo(()=>a.getState(),[a]);AO(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),u!==a.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,u]);const f=n||cs;return O.createElement(f.Provider,{value:o},e)}var xO=CO;function Dv(t=cs){return function(){return O.useContext(t)}}var aA=Dv();function sA(t=cs){const e=t===cs?aA:Dv(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var IO=sA();function OO(t=cs){const e=t===cs?IO:sA(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Ci=OO(),DO=(t,e)=>t===e;function NO(t=cs){const e=t===cs?aA:Dv(t),n=(r,a={})=>{const{equalityFn:o=DO}=typeof a=="function"?{equalityFn:a}:a,u=e(),{store:f,subscription:d,getServerState:g}=u;O.useRef(!0);const y=O.useCallback({[r.name](E){return r(E)}}[r.name],[r]),_=pO.useSyncExternalStoreWithSelector(d.addNestedSub,f.getState,g||f.getState,y,o);return O.useDebugValue(_),_};return Object.assign(n,{withTypes:()=>n}),n}var Qn=NO();const PO=()=>{};var Cb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},MO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],u=t[n++],f=t[n++],d=((a&7)<<18|(o&63)<<12|(u&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],u=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},lA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const o=t[a],u=a+1<t.length,f=u?t[a+1]:0,d=a+2<t.length,g=d?t[a+2]:0,y=o>>2,_=(o&3)<<4|f>>4;let E=(f&15)<<2|g>>6,T=g&63;d||(T=64,u||(E=64)),r.push(n[y],n[_],n[E],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(oA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):MO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||f==null||g==null||_==null)throw new kO;const E=o<<2|f>>4;if(r.push(E),g!==64){const T=f<<4&240|g>>2;if(r.push(T),_!==64){const w=g<<6&192|_;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LO=function(t){const e=oA(t);return lA.encodeByteArray(e,!0)},md=function(t){return LO(t).replace(/\./g,"")},uA=function(t){try{return lA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=()=>VO().__FIREBASE_DEFAULTS__,jO=()=>{if(typeof process>"u"||typeof Cb>"u")return;const t=Cb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uA(t[1]);return e&&JSON.parse(e)},Wd=()=>{try{return PO()||UO()||jO()||zO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cA=t=>{var e,n;return(n=(e=Wd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},FO=t=>{const e=cA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fA=()=>{var t;return(t=Wd())===null||t===void 0?void 0:t.config},hA=t=>{var e;return(e=Wd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BO=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(t){return t.endsWith(".cloudworkstations.dev")}async function dA(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[md(JSON.stringify(n)),md(JSON.stringify(u)),""].join(".")}const yc={};function qO(){const t={prod:[],emulator:[]};for(const e of Object.keys(yc))yc[e]?t.emulator.push(e):t.prod.push(e);return t}function $O(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let xb=!1;function mA(t,e){if(typeof window>"u"||typeof document>"u"||!$l(window.location.host)||yc[t]===e||yc[t]||xb)return;yc[t]=e;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",o=qO().prod.length>0;function u(){const E=document.getElementById(r);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function d(E,T){E.setAttribute("width","24"),E.setAttribute("id",T),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{xb=!0,u()},E}function y(E,T){E.setAttribute("id",T),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=$O(r),T=n("text"),w=document.getElementById(T)||document.createElement("span"),D=n("learnmore"),k=document.getElementById(D)||document.createElement("a"),j=n("preprendIcon"),W=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const G=E.element;f(G),y(k,D);const ne=g();d(W,j),G.append(W,w,k,ne),document.body.appendChild(G)}o?(w.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nn())}function KO(){var t;const e=(t=Wd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function XO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WO(){const t=Nn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ZO(){return!KO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JO(){try{return typeof indexedDB=="object"}catch{return!1}}function eD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD="FirebaseError";class pa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=tD,Object.setPrototypeOf(this,pa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kc.prototype.create)}}class Kc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?nD(o,r):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new pa(a,f,r)}}function nD(t,e){return t.replace(rD,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const rD=/\{\$([^}]+)}/g;function iD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function uo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const o=t[a],u=e[a];if(Ib(o)&&Ib(u)){if(!uo(o,u))return!1}else if(o!==u)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function Ib(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function oc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function lc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function aD(t,e){const n=new sD(t,e);return n.subscribe.bind(n)}class sD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");oD(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=jp),a.error===void 0&&(a.error=jp),a.complete===void 0&&(a.complete=jp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function jp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(t){return t&&t._delegate?t._delegate:t}class co{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new BO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cD(e))try{this.getOrInitializeService({instanceIdentifier:to})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=to){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=to){return this.instances.has(e)}getOptions(e=to){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(o);r===f&&u.resolve(a)}return a}onInit(e,n){var r;const a=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=to){return this.component?this.component.multipleInstances?e:to:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uD(t){return t===to?void 0:t}function cD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(at||(at={}));const hD={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},dD=at.INFO,mD={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},gD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=mD[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Nv=class{constructor(e){this.name=e,this._logLevel=dD,this._logHandler=gD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}};const pD=(t,e)=>e.some(n=>t instanceof n);let Ob,Db;function yD(){return Ob||(Ob=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vD(){return Db||(Db=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gA=new WeakMap,by=new WeakMap,pA=new WeakMap,zp=new WeakMap,Pv=new WeakMap;function _D(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",u)},o=()=>{n(is(t.result)),a()},u=()=>{r(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&gA.set(n,t)}).catch(()=>{}),Pv.set(e,t),e}function ED(t){if(by.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",u),t.removeEventListener("abort",u)},o=()=>{n(),a()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",u),t.addEventListener("abort",u)});by.set(t,e)}let Sy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return by.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return is(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bD(t){Sy=t(Sy)}function SD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fp(this),e,...n);return pA.set(r,e.sort?e.sort():[e]),is(r)}:vD().includes(t)?function(...e){return t.apply(Fp(this),e),is(gA.get(this))}:function(...e){return is(t.apply(Fp(this),e))}}function TD(t){return typeof t=="function"?SD(t):(t instanceof IDBTransaction&&ED(t),pD(t,yD())?new Proxy(t,Sy):t)}function is(t){if(t instanceof IDBRequest)return _D(t);if(zp.has(t))return zp.get(t);const e=TD(t);return e!==t&&(zp.set(t,e),Pv.set(e,t)),e}const Fp=t=>Pv.get(t);function wD(t,e,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const u=indexedDB.open(t,e),f=is(u);return r&&u.addEventListener("upgradeneeded",d=>{r(is(u.result),d.oldVersion,d.newVersion,is(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),f.then(d=>{o&&d.addEventListener("close",()=>o()),a&&d.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const AD=["get","getKey","getAll","getAllKeys","count"],RD=["put","add","delete","clear"],Bp=new Map;function Nb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Bp.get(e))return Bp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=RD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||AD.includes(n)))return;const o=async function(u,...f){const d=this.transaction(u,a?"readwrite":"readonly");let g=d.store;return r&&(g=g.index(f.shift())),(await Promise.all([g[n](...f),a&&d.done]))[0]};return Bp.set(e,o),o}bD(t=>({...t,get:(e,n,r)=>Nb(e,n)||t.get(e,n,r),has:(e,n)=>!!Nb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ty="@firebase/app",Pb="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new Nv("@firebase/app"),ID="@firebase/app-compat",OD="@firebase/analytics-compat",DD="@firebase/analytics",ND="@firebase/app-check-compat",PD="@firebase/app-check",MD="@firebase/auth",kD="@firebase/auth-compat",LD="@firebase/database",VD="@firebase/data-connect",UD="@firebase/database-compat",jD="@firebase/functions",zD="@firebase/functions-compat",FD="@firebase/installations",BD="@firebase/installations-compat",HD="@firebase/messaging",qD="@firebase/messaging-compat",$D="@firebase/performance",GD="@firebase/performance-compat",KD="@firebase/remote-config",YD="@firebase/remote-config-compat",QD="@firebase/storage",XD="@firebase/storage-compat",WD="@firebase/firestore",ZD="@firebase/ai",JD="@firebase/firestore-compat",eN="firebase",tN="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="[DEFAULT]",nN={[Ty]:"fire-core",[ID]:"fire-core-compat",[DD]:"fire-analytics",[OD]:"fire-analytics-compat",[PD]:"fire-app-check",[ND]:"fire-app-check-compat",[MD]:"fire-auth",[kD]:"fire-auth-compat",[LD]:"fire-rtdb",[VD]:"fire-data-connect",[UD]:"fire-rtdb-compat",[jD]:"fire-fn",[zD]:"fire-fn-compat",[FD]:"fire-iid",[BD]:"fire-iid-compat",[HD]:"fire-fcm",[qD]:"fire-fcm-compat",[$D]:"fire-perf",[GD]:"fire-perf-compat",[KD]:"fire-rc",[YD]:"fire-rc-compat",[QD]:"fire-gcs",[XD]:"fire-gcs-compat",[WD]:"fire-fst",[JD]:"fire-fst-compat",[ZD]:"fire-vertex","fire-js":"fire-js",[eN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=new Map,rN=new Map,Ay=new Map;function Mb(t,e){try{t.container.addComponent(e)}catch(n){ua.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ml(t){const e=t.name;if(Ay.has(e))return ua.debug(`There were multiple attempts to register component ${e}.`),!1;Ay.set(e,t);for(const n of gd.values())Mb(n,t);for(const n of rN.values())Mb(n,t);return!0}function Mv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Nr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},as=new Kc("app","Firebase",iN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw as.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=tN;function yA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:wy,automaticDataCollectionEnabled:!0},e),a=r.name;if(typeof a!="string"||!a)throw as.create("bad-app-name",{appName:String(a)});if(n||(n=fA()),!n)throw as.create("no-options");const o=gd.get(a);if(o){if(uo(n,o.options)&&uo(r,o.config))return o;throw as.create("duplicate-app",{appName:a})}const u=new fD(a);for(const d of Ay.values())u.addComponent(d);const f=new aN(n,r,u);return gd.set(a,f),f}function vA(t=wy){const e=gd.get(t);if(!e&&t===wy&&fA())return yA();if(!e)throw as.create("no-app",{appName:t});return e}function ss(t,e,n){var r;let a=(r=nN[t])!==null&&r!==void 0?r:t;n&&(a+=`-${n}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${a}" with version "${e}":`];o&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ua.warn(f.join(" "));return}Ml(new co(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="firebase-heartbeat-database",oN=1,Cc="firebase-heartbeat-store";let Hp=null;function _A(){return Hp||(Hp=wD(sN,oN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cc)}catch(n){console.warn(n)}}}}).catch(t=>{throw as.create("idb-open",{originalErrorMessage:t.message})})),Hp}async function lN(t){try{const n=(await _A()).transaction(Cc),r=await n.objectStore(Cc).get(EA(t));return await n.done,r}catch(e){if(e instanceof pa)ua.warn(e.message);else{const n=as.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ua.warn(n.message)}}}async function kb(t,e){try{const r=(await _A()).transaction(Cc,"readwrite");await r.objectStore(Cc).put(e,EA(t)),await r.done}catch(n){if(n instanceof pa)ua.warn(n.message);else{const r=as.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ua.warn(r.message)}}}function EA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=1024,cN=30;class fN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Lb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>cN){const u=mN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ua.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Lb(),{heartbeatsToSend:r,unsentEntries:a}=hN(this._heartbeatsCache.heartbeats),o=md(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ua.warn(n),""}}}function Lb(){return new Date().toISOString().substring(0,10)}function hN(t,e=uN){const n=[];let r=t.slice();for(const a of t){const o=n.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),Vb(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Vb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JO()?eD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return kb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return kb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Vb(t){return md(JSON.stringify({version:2,heartbeats:t})).length}function mN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(t){Ml(new co("platform-logger",e=>new CD(e),"PRIVATE")),Ml(new co("heartbeat",e=>new fN(e),"PRIVATE")),ss(Ty,Pb,t),ss(Ty,Pb,"esm2017"),ss("fire-js","")}gN("");function kv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function bA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pN=bA,SA=new Kc("auth","Firebase",bA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd=new Nv("@firebase/auth");function yN(t,...e){pd.logLevel<=at.WARN&&pd.warn(`Auth (${Gl}): ${t}`,...e)}function $h(t,...e){pd.logLevel<=at.ERROR&&pd.error(`Auth (${Gl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(t,...e){throw Lv(t,...e)}function Ei(t,...e){return Lv(t,...e)}function TA(t,e,n){const r=Object.assign(Object.assign({},pN()),{[e]:n});return new Kc("auth","Firebase",r).create(e,{appName:t.name})}function ia(t){return TA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return SA.create(t,...e)}function je(t,e,...n){if(!t)throw Lv(e,...n)}function na(t){const e="INTERNAL ASSERTION FAILED: "+t;throw $h(e),new Error(e)}function ca(t,e){t||na(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function vN(){return Ub()==="http:"||Ub()==="https:"}function Ub(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vN()||QO()||"connection"in navigator)?navigator.onLine:!0}function EN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ca(n>e,"Short delay should be less than long delay!"),this.isMobile=GO()||XO()}get(){return _N()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t,e){ca(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;na("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;na("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;na("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TN=new Qc(3e4,6e4);function Ts(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ws(t,e,n,r,a={}){return AA(t,a,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const f=Yc(Object.assign({key:t.config.apiKey},u)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const g=Object.assign({method:e,headers:d},o);return YO()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&$l(t.emulatorConfig.host)&&(g.credentials="include"),wA.fetch()(await RA(t,t.config.apiHost,n,f),g)})}async function AA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},bN),e);try{const a=new AN(t),o=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Ih(t,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const f=o.ok?u.errorMessage:u.error.message,[d,g]=f.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ih(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Ih(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw Ih(t,"user-disabled",u);const y=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw TA(t,y,g);qr(t,y)}}catch(a){if(a instanceof pa)throw a;qr(t,"network-request-failed",{message:String(a)})}}async function Xc(t,e,n,r,a={}){const o=await ws(t,e,n,r,a);return"mfaPendingCredential"in o&&qr(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function RA(t,e,n,r){const a=`${e}${n}?${r}`,o=t,u=o.config.emulator?Vv(t.config,a):`${t.config.apiScheme}://${a}`;return SN.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function wN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class AN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ei(this.auth,"network-request-failed")),TN.get())})}}function Ih(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Ei(t,e,r);return a.customData._tokenResponse=n,a}function jb(t){return t!==void 0&&t.enterprise!==void 0}class RN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return wN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function CN(t,e){return ws(t,"GET","/v2/recaptchaConfig",Ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(t,e){return ws(t,"POST","/v1/accounts:delete",e)}async function yd(t,e){return ws(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IN(t,e=!1){const n=Fn(t),r=await n.getIdToken(e),a=Uv(r);je(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:a,token:r,authTime:vc(qp(a.auth_time)),issuedAtTime:vc(qp(a.iat)),expirationTime:vc(qp(a.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function qp(t){return Number(t)*1e3}function Uv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return $h("JWT malformed, contained fewer than 3 sections"),null;try{const a=uA(n);return a?JSON.parse(a):($h("Failed to decode base64 JWT payload"),null)}catch(a){return $h("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function zb(t){const e=Uv(t);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof pa&&ON(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ON({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vc(this.lastLoginAt),this.creationTime=vc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vd(t){var e;const n=t.auth,r=await t.getIdToken(),a=await xc(t,yd(n,{idToken:r}));je(a==null?void 0:a.users.length,n,"internal-error");const o=a.users[0];t._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?CA(o.providerUserInfo):[],f=PN(t.providerData,u),d=t.isAnonymous,g=!(t.email&&o.passwordHash)&&!(f!=null&&f.length),y=d?g:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Cy(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(t,_)}async function NN(t){const e=Fn(t);await vd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PN(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function CA(t){return t.map(e=>{var{providerId:n}=e,r=kv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(t,e){const n=await AA(t,{},async()=>{const r=Yc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=t.config,u=await RA(t,a,"/v1/token",`key=${o}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:f,body:r};return t.emulatorConfig&&$l(t.emulatorConfig.host)&&(d.credentials="include"),wA.fetch()(u,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kN(t,e){return ws(t,"POST","/v2/accounts:revokeToken",Ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){je(e.length!==0,"internal-error");const n=zb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:o}=await MN(e,n);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:o}=n,u=new xl;return r&&(je(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(je(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(je(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xl,this.toJSON())}_performRefresh(){return na("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(t,e){je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Br{constructor(e){var{uid:n,auth:r,stsTokenManager:a}=e,o=kv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new DN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Cy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await xc(this,this.stsTokenManager.getToken(this.auth,e));return je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return IN(this,e)}reload(){return NN(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Br(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nr(this.auth.app))return Promise.reject(ia(this.auth));const e=await this.getIdToken();return await xc(this,xN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,a,o,u,f,d,g,y;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,E=(a=n.email)!==null&&a!==void 0?a:void 0,T=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(u=n.photoURL)!==null&&u!==void 0?u:void 0,D=(f=n.tenantId)!==null&&f!==void 0?f:void 0,k=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,j=(g=n.createdAt)!==null&&g!==void 0?g:void 0,W=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:G,emailVerified:ne,isAnonymous:ee,providerData:B,stsTokenManager:N}=n;je(G&&N,e,"internal-error");const x=xl.fromJSON(this.name,N);je(typeof G=="string",e,"internal-error"),Qa(_,e.name),Qa(E,e.name),je(typeof ne=="boolean",e,"internal-error"),je(typeof ee=="boolean",e,"internal-error"),Qa(T,e.name),Qa(w,e.name),Qa(D,e.name),Qa(k,e.name),Qa(j,e.name),Qa(W,e.name);const C=new Br({uid:G,auth:e,email:E,emailVerified:ne,displayName:_,isAnonymous:ee,photoURL:w,phoneNumber:T,tenantId:D,stsTokenManager:x,createdAt:j,lastLoginAt:W});return B&&Array.isArray(B)&&(C.providerData=B.map(M=>Object.assign({},M))),k&&(C._redirectEventId=k),C}static async _fromIdTokenResponse(e,n,r=!1){const a=new xl;a.updateFromServerResponse(n);const o=new Br({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await vd(o),o}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];je(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?CA(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),f=new xl;f.updateFromIdToken(r);const d=new Br({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Cy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,g),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=new Map;function ra(t){ca(t instanceof Function,"Expected a class definition");let e=Fb.get(t);return e?(ca(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Fb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}xA.type="NONE";const Bb=xA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(t,e,n){return`firebase:${t}:${e}:${n}`}class Il{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=Gh(this.userKey,a.apiKey,o),this.fullPersistenceKey=Gh("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yd(this.auth,{idToken:e}).catch(()=>{});return n?Br._fromGetAccountInfoResponse(this.auth,n,e):null}return Br._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Il(ra(Bb),e,r);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=a[0]||ra(Bb);const u=Gh(r,e.config.apiKey,e.name);let f=null;for(const g of n)try{const y=await g._get(u);if(y){let _;if(typeof y=="string"){const E=await yd(e,{idToken:y}).catch(()=>{});if(!E)break;_=await Br._fromGetAccountInfoResponse(e,E,y)}else _=Br._fromJSON(e,y);g!==o&&(f=_),o=g;break}}catch{}const d=a.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Il(o,e,r):(o=d[0],f&&await o._set(u,f.toJSON()),await Promise.all(n.map(async g=>{if(g!==o)try{await g._remove(u)}catch{}})),new Il(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MA(e))return"Blackberry";if(kA(e))return"Webos";if(OA(e))return"Safari";if((e.includes("chrome/")||DA(e))&&!e.includes("edge/"))return"Chrome";if(PA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function IA(t=Nn()){return/firefox\//i.test(t)}function OA(t=Nn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DA(t=Nn()){return/crios\//i.test(t)}function NA(t=Nn()){return/iemobile/i.test(t)}function PA(t=Nn()){return/android/i.test(t)}function MA(t=Nn()){return/blackberry/i.test(t)}function kA(t=Nn()){return/webos/i.test(t)}function jv(t=Nn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function LN(t=Nn()){var e;return jv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function VN(){return WO()&&document.documentMode===10}function LA(t=Nn()){return jv(t)||PA(t)||kA(t)||MA(t)||/windows phone/i.test(t)||NA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(t,e=[]){let n;switch(t){case"Browser":n=Hb(Nn());break;case"Worker":n=`${Hb(Nn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((u,f)=>{try{const d=e(o);u(d)}catch(d){f(d)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(t,e={}){return ws(t,"GET","/v2/passwordPolicy",Ts(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=6;class FN{constructor(e){var n,r,a,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:zN,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,a,o,u,f;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(a=d.containsLowercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(f=d.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qb(this),this.idTokenSubscription=new qb(this),this.beforeStateQueue=new UN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ra(n)),this._initializationPromise=this.queue(async()=>{var r,a,o;if(!this._deleted&&(this.persistenceManager=await Il.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yd(this,{idToken:e}),r=await Br._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Nr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=a==null?void 0:a._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===f)&&(d!=null&&d.user)&&(a=d.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=EN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nr(this.app))return Promise.reject(ia(this));const n=e?Fn(e):null;return n&&je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nr(this.app)?Promise.reject(ia(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nr(this.app)?Promise.reject(ia(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ra(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jN(this),n=new FN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Kc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await kN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ra(e)||this._popupRedirectResolver;je(n,this,"argument-error"),this.redirectPersistenceManager=await Il.create(this,[ra(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(f,this,"internal-error"),f.then(()=>{u||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,a);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(Nr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&yN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function bo(t){return Fn(t)}class qb{constructor(e){this.auth=e,this.observer=null,this.addObserver=aD(n=>this.observer=n)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HN(t){Zd=t}function UA(t){return Zd.loadJS(t)}function qN(){return Zd.recaptchaEnterpriseScript}function $N(){return Zd.gapiScript}function GN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class KN{constructor(){this.enterprise=new YN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class YN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const QN="recaptcha-enterprise",jA="NO_RECAPTCHA";class XN{constructor(e){this.type=QN,this.auth=bo(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,f)=>{CN(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new RN(d);return o.tenantId==null?o._agentRecaptchaConfig=g:o._tenantRecaptchaConfigs[o.tenantId]=g,u(g.siteKey)}}).catch(d=>{f(d)})})}function a(o,u,f){const d=window.grecaptcha;jb(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(g=>{u(g)}).catch(()=>{u(jA)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new KN().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(f=>{if(!n&&jb(window.grecaptcha))a(f,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=qN();d.length!==0&&(d+=f),UA(d).then(()=>{a(f,o,u)}).catch(g=>{u(g)})}}).catch(f=>{u(f)})})}}async function $b(t,e,n,r=!1,a=!1){const o=new XN(t);let u;if(a)u=jA;else try{u=await o.verify(n)}catch{u=await o.verify(n,!0)}const f=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const d=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const d=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function xy(t,e,n,r,a){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await $b(t,e,n,n==="getOobCode");return r(t,u)}else return r(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await $b(t,e,n,n==="getOobCode");return r(t,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(t,e){const n=Mv(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),o=n.getOptions();if(uo(o,e??{}))return a;qr(a,"already-initialized")}return n.initialize({options:e})}function ZN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ra);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function JN(t,e,n){const r=bo(t);je(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=zA(e),{host:u,port:f}=eP(e),d=f===null?"":`:${f}`,g={url:`${o}//${u}${d}/`},y=Object.freeze({host:u,port:f,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){je(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),je(uo(g,r.config.emulator)&&uo(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,$l(u)?(dA(`${o}//${u}${d}`),mA("Auth",!0)):tP()}function zA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function eP(t){const e=zA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:Gb(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:Gb(u)}}}function Gb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function tP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return na("not implemented")}_getIdTokenResponse(e){return na("not implemented")}_linkToIdToken(e,n){return na("not implemented")}_getReauthenticationResolver(e){return na("not implemented")}}async function nP(t,e){return ws(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rP(t,e){return Xc(t,"POST","/v1/accounts:signInWithPassword",Ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iP(t,e){return Xc(t,"POST","/v1/accounts:signInWithEmailLink",Ts(t,e))}async function aP(t,e){return Xc(t,"POST","/v1/accounts:signInWithEmailLink",Ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic extends zv{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Ic(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ic(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xy(e,n,"signInWithPassword",rP);case"emailLink":return iP(e,{email:this._email,oobCode:this._password});default:qr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xy(e,r,"signUpPassword",nP);case"emailLink":return aP(e,{idToken:n,email:this._email,oobCode:this._password});default:qr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(t,e){return Xc(t,"POST","/v1/accounts:signInWithIdp",Ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP="http://localhost";class fo extends zv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=n,o=kv(n,["providerId","signInMethod"]);if(!r||!a)return null;const u=new fo(r,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Ol(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ol(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ol(e,n)}buildRequest(){const e={requestUri:sP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lP(t){const e=oc(lc(t)).link,n=e?oc(lc(e)).deep_link_id:null,r=oc(lc(t)).deep_link_id;return(r?oc(lc(r)).link:null)||r||n||e||t}class Fv{constructor(e){var n,r,a,o,u,f;const d=oc(lc(e)),g=(n=d.apiKey)!==null&&n!==void 0?n:null,y=(r=d.oobCode)!==null&&r!==void 0?r:null,_=oP((a=d.mode)!==null&&a!==void 0?a:null);je(g&&y&&_,"argument-error"),this.apiKey=g,this.operation=_,this.code=y,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=d.lang)!==null&&u!==void 0?u:null,this.tenantId=(f=d.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const n=lP(e);try{return new Fv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(){this.providerId=Kl.PROVIDER_ID}static credential(e,n){return Ic._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Fv.parseLink(n);return je(r,"argument-error"),Ic._fromEmailAndCode(e,r.code,r.tenantId)}}Kl.PROVIDER_ID="password";Kl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Kl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends FA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za extends Wc{constructor(){super("facebook.com")}static credential(e){return fo._fromParams({providerId:Za.PROVIDER_ID,signInMethod:Za.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Za.credentialFromTaggedObject(e)}static credentialFromError(e){return Za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Za.credential(e.oauthAccessToken)}catch{return null}}}Za.FACEBOOK_SIGN_IN_METHOD="facebook.com";Za.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends Wc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fo._fromParams({providerId:Ja.PROVIDER_ID,signInMethod:Ja.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ja.credentialFromTaggedObject(e)}static credentialFromError(e){return Ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ja.credential(n,r)}catch{return null}}}Ja.GOOGLE_SIGN_IN_METHOD="google.com";Ja.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Wc{constructor(){super("github.com")}static credential(e){return fo._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.GITHUB_SIGN_IN_METHOD="github.com";es.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Wc{constructor(){super("twitter.com")}static credential(e,n){return fo._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ts.credential(n,r)}catch{return null}}}ts.TWITTER_SIGN_IN_METHOD="twitter.com";ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uP(t,e){return Xc(t,"POST","/v1/accounts:signUp",Ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const o=await Br._fromIdTokenResponse(e,r,a),u=Kb(r);return new ho({user:o,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=Kb(r);return new ho({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function Kb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d extends pa{constructor(e,n,r,a){var o;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,_d.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new _d(e,n,r,a)}}function BA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?_d._fromErrorAndOperation(t,o,e,r):o})}async function cP(t,e,n=!1){const r=await xc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ho._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fP(t,e,n=!1){const{auth:r}=t;if(Nr(r.app))return Promise.reject(ia(r));const a="reauthenticate";try{const o=await xc(t,BA(r,a,e,t),n);je(o.idToken,r,"internal-error");const u=Uv(o.idToken);je(u,r,"internal-error");const{sub:f}=u;return je(t.uid===f,r,"user-mismatch"),ho._forOperation(t,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&qr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HA(t,e,n=!1){if(Nr(t.app))return Promise.reject(ia(t));const r="signIn",a=await BA(t,r,e),o=await ho._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(o.user),o}async function hP(t,e){return HA(bo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qA(t){const e=bo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function dP(t,e,n){if(Nr(t.app))return Promise.reject(ia(t));const r=bo(t),u=await xy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uP).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&qA(t),d}),f=await ho._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(f.user),f}function mP(t,e,n){return Nr(t.app)?Promise.reject(ia(t)):hP(Fn(t),Kl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&qA(t),r})}function gP(t,e,n,r){return Fn(t).onIdTokenChanged(e,n,r)}function pP(t,e,n){return Fn(t).beforeAuthStateChanged(e,n)}function yP(t,e,n,r){return Fn(t).onAuthStateChanged(e,n,r)}function vP(t){return Fn(t).signOut()}const Ed="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ed,"1"),this.storage.removeItem(Ed),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=1e3,EP=10;class GA extends $A{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,d)=>{this.notifyListeners(u,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);VN()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,EP):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_P)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}GA.type="LOCAL";const bP=GA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA extends $A{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}KA.type="SESSION";const YA=KA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Jd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:o}=n.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(u).map(async g=>g(n.origin,o)),d=await SP(f);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((f,d)=>{const g=Bv("",20);a.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),f(E.data.response);break;default:clearTimeout(y),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(){return window}function wP(t){bi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function AP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function CP(){return QA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="firebaseLocalStorageDb",xP=1,bd="firebaseLocalStorage",WA="fbase_key";class Zc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function em(t,e){return t.transaction([bd],e?"readwrite":"readonly").objectStore(bd)}function IP(){const t=indexedDB.deleteDatabase(XA);return new Zc(t).toPromise()}function Iy(){const t=indexedDB.open(XA,xP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(bd,{keyPath:WA})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(bd)?e(r):(r.close(),await IP(),e(await Iy()))})})}async function Yb(t,e,n){const r=em(t,!0).put({[WA]:e,value:n});return new Zc(r).toPromise()}async function OP(t,e){const n=em(t,!1).get(e),r=await new Zc(n).toPromise();return r===void 0?null:r.value}function Qb(t,e){const n=em(t,!0).delete(e);return new Zc(n).toPromise()}const DP=800,NP=3;class ZA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Iy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>NP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jd._getInstance(CP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await AP(),!this.activeServiceWorker)return;this.sender=new TP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Iy();return await Yb(e,Ed,"1"),await Qb(e,Ed),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Yb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>OP(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Qb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=em(a,!1).getAll();return new Zc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZA.type="LOCAL";const PP=ZA;new Qc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(t,e){return e?ra(e):(je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv extends zv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ol(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ol(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ol(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function kP(t){return HA(t.auth,new Hv(t),t.bypassAuthState)}function LP(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),fP(n,new Hv(t),t.bypassAuthState)}async function VP(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),cP(n,new Hv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,n,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:o,error:u,type:f}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(d))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kP;case"linkViaPopup":case"linkViaRedirect":return VP;case"reauthViaPopup":case"reauthViaRedirect":return LP;default:qr(this.auth,"internal-error")}}resolve(e){ca(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ca(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=new Qc(2e3,1e4);class Al extends JA{constructor(e,n,r,a,o){super(e,n,a,o),this.provider=r,this.authWindow=null,this.pollId=null,Al.currentPopupAction&&Al.currentPopupAction.cancel(),Al.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){ca(this.filter.length===1,"Popup operations only handle one event");const e=Bv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Al.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,UP.get())};e()}}Al.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP="pendingRedirect",Kh=new Map;class zP extends JA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Kh.get(this.auth._key());if(!e){try{const r=await FP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Kh.set(this.auth._key(),e)}return this.bypassAuthState||Kh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FP(t,e){const n=qP(e),r=HP(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function BP(t,e){Kh.set(t._key(),e)}function HP(t){return ra(t._redirectPersistence)}function qP(t){return Gh(jP,t.config.apiKey,t.name)}async function $P(t,e,n=!1){if(Nr(t.app))return Promise.reject(ia(t));const r=bo(t),a=MP(r,e),u=await new zP(r,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP=10*60*1e3;class KP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!eR(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ei(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xb(e))}saveEventToCache(e){this.cachedEventUids.add(Xb(e)),this.lastProcessedEventTime=Date.now()}}function Xb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function eR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function YP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QP(t,e={}){return ws(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WP=/^https?/;async function ZP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await QP(t);for(const n of e)try{if(JP(n))return}catch{}qr(t,"unauthorized-domain")}function JP(t){const e=Ry(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!WP.test(n))return!1;if(XP.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=new Qc(3e4,6e4);function Wb(){const t=bi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function tM(t){return new Promise((e,n)=>{var r,a,o;function u(){Wb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Wb(),n(Ei(t,"network-request-failed"))},timeout:eM.get()})}if(!((a=(r=bi().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=bi().gapi)===null||o===void 0)&&o.load)u();else{const f=GN("iframefcb");return bi()[f]=()=>{gapi.load?u():n(Ei(t,"network-request-failed"))},UA(`${$N()}?onload=${f}`).catch(d=>n(d))}}).catch(e=>{throw Yh=null,e})}let Yh=null;function nM(t){return Yh=Yh||tM(t),Yh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM=new Qc(5e3,15e3),iM="__/auth/iframe",aM="emulator/auth/iframe",sM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lM(t){const e=t.config;je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Vv(e,aM):`https://${t.config.authDomain}/${iM}`,r={apiKey:e.apiKey,appName:t.name,v:Gl},a=oM.get(t.config.apiHost);a&&(r.eid=a);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Yc(r).slice(1)}`}async function uM(t){const e=await nM(t),n=bi().gapi;return je(n,t,"internal-error"),e.open({where:document.body,url:lM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sM,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const u=Ei(t,"network-request-failed"),f=bi().setTimeout(()=>{o(u)},rM.get());function d(){bi().clearTimeout(f),a(r)}r.ping(d).then(d,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fM=500,hM=600,dM="_blank",mM="http://localhost";class Zb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gM(t,e,n,r=fM,a=hM){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const d=Object.assign(Object.assign({},cM),{width:r.toString(),height:a.toString(),top:o,left:u}),g=Nn().toLowerCase();n&&(f=DA(g)?dM:n),IA(g)&&(e=e||mM,d.scrollbars="yes");const y=Object.entries(d).reduce((E,[T,w])=>`${E}${T}=${w},`,"");if(LN(g)&&f!=="_self")return pM(e||"",f),new Zb(null);const _=window.open(e||"",f,y);je(_,t,"popup-blocked");try{_.focus()}catch{}return new Zb(_)}function pM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM="__/auth/handler",vM="emulator/auth/handler",_M=encodeURIComponent("fac");async function Jb(t,e,n,r,a,o){je(t.config.authDomain,t,"auth-domain-config-required"),je(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Gl,eventId:a};if(e instanceof FA){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",iD(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))u[y]=_}if(e instanceof Wc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const d=await t._getAppCheckToken(),g=d?`#${_M}=${encodeURIComponent(d)}`:"";return`${EM(t)}?${Yc(f).slice(1)}${g}`}function EM({config:t}){return t.emulator?Vv(t,vM):`https://${t.authDomain}/${yM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="webStorageSupport";class bM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YA,this._completeRedirectFn=$P,this._overrideRedirectResult=BP}async _openPopup(e,n,r,a){var o;ca((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await Jb(e,n,r,Ry(),a);return gM(e,u,Bv())}async _openRedirect(e,n,r,a){await this._originValidation(e);const o=await Jb(e,n,r,Ry(),a);return wP(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:o}=this.eventManagers[n];return a?Promise.resolve(a):(ca(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await uM(e),r=new KP(e);return n.register("authEvent",a=>(je(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($p,{type:$p},a=>{var o;const u=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[$p];u!==void 0&&n(!!u),qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ZP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return LA()||OA()||jv()}}const SM=bM;var eS="@firebase/auth",tS="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AM(t){Ml(new co("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=r.options;je(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VA(t)},g=new BN(r,a,o,d);return ZN(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ml(new co("auth-internal",e=>{const n=bo(e.getProvider("auth").getImmediate());return(r=>new TM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ss(eS,tS,wM(t)),ss(eS,tS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=5*60,CM=hA("authIdTokenMaxAge")||RM;let nS=null;const xM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>CM)return;const a=n==null?void 0:n.token;nS!==a&&(nS=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function IM(t=vA()){const e=Mv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=WN(t,{popupRedirectResolver:SM,persistence:[PP,bP,YA]}),r=hA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=xM(o.toString());pP(n,u,()=>u(n.currentUser)),gP(n,f=>u(f))}}const a=cA("auth");return a&&JN(n,`http://${a}`),n}function OM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}HN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const o=Ei("internal-error");o.customData=a,n(o)},r.type="text/javascript",r.charset="UTF-8",OM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AM("Browser");var nc={},rS;function DM(){if(rS)return nc;rS=1,Object.defineProperty(nc,"__esModule",{value:!0}),nc.parse=u,nc.serialize=g;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function u(E,T){const w=new o,D=E.length;if(D<2)return w;const k=(T==null?void 0:T.decode)||y;let j=0;do{const W=E.indexOf("=",j);if(W===-1)break;const G=E.indexOf(";",j),ne=G===-1?D:G;if(W>ne){j=E.lastIndexOf(";",W-1)+1;continue}const ee=f(E,j,W),B=d(E,W,ee),N=E.slice(ee,B);if(w[N]===void 0){let x=f(E,W+1,ne),C=d(E,ne,x);const M=k(E.slice(x,C));w[N]=M}j=ne+1}while(j<D);return w}function f(E,T,w){do{const D=E.charCodeAt(T);if(D!==32&&D!==9)return T}while(++T<w);return w}function d(E,T,w){for(;T>w;){const D=E.charCodeAt(--T);if(D!==32&&D!==9)return T+1}return w}function g(E,T,w){const D=(w==null?void 0:w.encode)||encodeURIComponent;if(!t.test(E))throw new TypeError(`argument name is invalid: ${E}`);const k=D(T);if(!e.test(k))throw new TypeError(`argument val is invalid: ${T}`);let j=E+"="+k;if(!w)return j;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);j+="; Max-Age="+w.maxAge}if(w.domain){if(!n.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);j+="; Domain="+w.domain}if(w.path){if(!r.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);j+="; Path="+w.path}if(w.expires){if(!_(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);j+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(j+="; HttpOnly"),w.secure&&(j+="; Secure"),w.partitioned&&(j+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return j}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function _(E){return a.call(E)==="[object Date]"}return nc}DM();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var tR=t=>{throw TypeError(t)},NM=(t,e,n)=>e.has(t)||tR("Cannot "+n),Gp=(t,e,n)=>(NM(t,e,"read from private field"),n?n.call(t):e.get(t)),PM=(t,e,n)=>e.has(t)?tR("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),iS="popstate";function MM(t={}){function e(a,o){let{pathname:u="/",search:f="",hash:d=""}=ya(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Oc("",{pathname:u,search:f,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){let u=a.document.querySelector("base"),f="";if(u&&u.getAttribute("href")){let d=a.location.href,g=d.indexOf("#");f=g===-1?d:d.slice(0,g)}return f+"#"+(typeof o=="string"?o:fs(o))}function r(a,o){kt(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return LM(e,n,r,t)}function et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kM(){return Math.random().toString(36).substring(2,10)}function aS(t,e){return{usr:t.state,key:t.key,idx:e}}function Oc(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ya(e):e,state:n,key:e&&e.key||r||kM()}}function fs({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ya(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function LM(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,u=a.history,f="POP",d=null,g=y();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function y(){return(u.state||{idx:null}).idx}function _(){f="POP";let k=y(),j=k==null?null:k-g;g=k,d&&d({action:f,location:D.location,delta:j})}function E(k,j){f="PUSH";let W=Oc(D.location,k,j);n&&n(W,k),g=y()+1;let G=aS(W,g),ne=D.createHref(W);try{u.pushState(G,"",ne)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;a.location.assign(ne)}o&&d&&d({action:f,location:D.location,delta:1})}function T(k,j){f="REPLACE";let W=Oc(D.location,k,j);n&&n(W,k),g=y();let G=aS(W,g),ne=D.createHref(W);u.replaceState(G,"",ne),o&&d&&d({action:f,location:D.location,delta:0})}function w(k){return nR(k)}let D={get action(){return f},get location(){return t(a,u)},listen(k){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(iS,_),d=k,()=>{a.removeEventListener(iS,_),d=null}},createHref(k){return e(a,k)},createURL:w,encodeLocation(k){let j=w(k);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:E,replace:T,go(k){return u.go(k)}};return D}function nR(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),et(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:fs(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var uc,sS=class{constructor(t){if(PM(this,uc,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(Gp(this,uc).has(t))return Gp(this,uc).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){Gp(this,uc).set(t,e)}};uc=new WeakMap;var VM=new Set(["lazy","caseSensitive","path","id","index","children"]);function UM(t){return VM.has(t)}var jM=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function zM(t){return jM.has(t)}function FM(t){return t.index===!0}function Sd(t,e,n=[],r={}){return t.map((a,o)=>{let u=[...n,String(o)],f=typeof a.id=="string"?a.id:u.join("-");if(et(a.index!==!0||!a.children,"Cannot specify children on an index route"),et(!r[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),FM(a)){let d={...a,...e(a),id:f};return r[f]=d,d}else{let d={...a,...e(a),id:f,children:void 0};return r[f]=d,a.children&&(d.children=Sd(a.children,e,u,r)),d}})}function ns(t,e,n="/"){return Qh(t,e,n,!1)}function Qh(t,e,n,r){let a=typeof e=="string"?ya(e):e,o=Xn(a.pathname||"/",n);if(o==null)return null;let u=rR(t);HM(u);let f=null;for(let d=0;f==null&&d<u.length;++d){let g=ek(o);f=ZM(u[d],g,r)}return f}function BM(t,e){let{route:n,pathname:r,params:a}=t;return{id:n.id,pathname:r,params:a,data:e[n.id],handle:n.handle}}function rR(t,e=[],n=[],r=""){let a=(o,u,f)=>{let d={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};d.relativePath.startsWith("/")&&(et(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let g=Si([r,d.relativePath]),y=n.concat(d);o.children&&o.children.length>0&&(et(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),rR(o.children,e,y,g)),!(o.path==null&&!o.index)&&e.push({path:g,score:XM(g,o.index),routesMeta:y})};return t.forEach((o,u)=>{var f;if(o.path===""||!((f=o.path)!=null&&f.includes("?")))a(o,u);else for(let d of iR(o.path))a(o,u,d)}),e}function iR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let u=iR(r.join("/")),f=[];return f.push(...u.map(d=>d===""?o:[o,d].join("/"))),a&&f.push(...u),f.map(d=>t.startsWith("/")&&d===""?"/":d)}function HM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:WM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var qM=/^:[\w-]+$/,$M=3,GM=2,KM=1,YM=10,QM=-2,oS=t=>t==="*";function XM(t,e){let n=t.split("/"),r=n.length;return n.some(oS)&&(r+=QM),e&&(r+=GM),n.filter(a=>!oS(a)).reduce((a,o)=>a+(qM.test(o)?$M:o===""?KM:YM),r)}function WM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function ZM(t,e,n=!1){let{routesMeta:r}=t,a={},o="/",u=[];for(let f=0;f<r.length;++f){let d=r[f],g=f===r.length-1,y=o==="/"?e:e.slice(o.length)||"/",_=Td({path:d.relativePath,caseSensitive:d.caseSensitive,end:g},y),E=d.route;if(!_&&g&&n&&!r[r.length-1].route.index&&(_=Td({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),u.push({params:a,pathname:Si([o,_.pathname]),pathnameBase:rk(Si([o,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(o=Si([o,_.pathnameBase]))}return u}function Td(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=JM(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:r.reduce((g,{paramName:y,isOptional:_},E)=>{if(y==="*"){let w=f[E]||"";u=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const T=f[E];return _&&!T?g[y]=void 0:g[y]=(T||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:u,pattern:t}}function JM(t,e=!1,n=!0){kt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,d)=>(r.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function ek(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Xn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function tk(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?ya(t):t;return{pathname:n?n.startsWith("/")?n:nk(n,e):e,search:ik(r),hash:ak(a)}}function nk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Kp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function tm(t){let e=aR(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function nm(t,e,n,r=!1){let a;typeof t=="string"?a=ya(t):(a={...t},et(!a.pathname||!a.pathname.includes("?"),Kp("?","pathname","search",a)),et(!a.pathname||!a.pathname.includes("#"),Kp("#","pathname","hash",a)),et(!a.search||!a.search.includes("#"),Kp("#","search","hash",a)));let o=t===""||a.pathname==="",u=o?"/":a.pathname,f;if(u==null)f=n;else{let _=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),_-=1;a.pathname=E.join("/")}f=_>=0?e[_]:"/"}let d=tk(a,f),g=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(g||y)&&(d.pathname+="/"),d}var Si=t=>t.join("/").replace(/\/\/+/g,"/"),rk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ik=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ak=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,wd=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Dc(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var sR=["POST","PUT","PATCH","DELETE"],sk=new Set(sR),ok=["GET",...sR],lk=new Set(ok),uk=new Set([301,302,303,307,308]),ck=new Set([307,308]),Yp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},fk={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},_l={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},qv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hk=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),oR="remix-router-transitions",lR=Symbol("ResetLoaderData");function dk(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";et(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],a=t.mapRouteProperties||hk,o={},u=Sd(t.routes,a,void 0,o),f,d=t.basename||"/",g=t.dataStrategy||vk,y={unstable_middleware:!1,...t.future},_=null,E=new Set,T=null,w=null,D=null,k=t.hydrationData!=null,j=ns(u,t.history.location,d),W=!1,G=null,ne;if(j==null&&!t.patchRoutesOnNavigation){let z=Dr(404,{pathname:t.history.location.pathname}),{matches:$,route:X}=_S(u);ne=!0,j=$,G={[X.id]:z}}else if(j&&!t.hydrationData&&Ln(j,u,t.history.location.pathname).active&&(j=null),j)if(j.some(z=>z.route.lazy))ne=!1;else if(!j.some(z=>z.route.loader))ne=!0;else{let z=t.hydrationData?t.hydrationData.loaderData:null,$=t.hydrationData?t.hydrationData.errors:null;if($){let X=j.findIndex(le=>$[le.route.id]!==void 0);ne=j.slice(0,X+1).every(le=>!Dy(le.route,z,$))}else ne=j.every(X=>!Dy(X.route,z,$))}else{ne=!1,j=[];let z=Ln(null,u,t.history.location.pathname);z.active&&z.matches&&(W=!0,j=z.matches)}let ee,B={historyAction:t.history.action,location:t.history.location,matches:j,initialized:ne,navigation:Yp,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||G,fetchers:new Map,blockers:new Map},N="POP",x=!1,C,M=!1,F=new Map,U=null,P=!1,Se=!1,Ue=new Set,Y=new Map,he=0,ye=-1,Oe=new Map,V=new Set,ie=new Map,de=new Map,oe=new Set,Te=new Map,Be,De=null;function qt(){if(_=t.history.listen(({action:z,location:$,delta:X})=>{if(Be){Be(),Be=void 0;return}kt(Te.size===0||X!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let le=Sa({currentLocation:B.location,nextLocation:$,historyAction:z});if(le&&X!=null){let me=new Promise(ve=>{Be=ve});t.history.go(X*-1),pr(le,{state:"blocked",location:$,proceed(){pr(le,{state:"proceeding",proceed:void 0,reset:void 0,location:$}),me.then(()=>t.history.go(X))},reset(){let ve=new Map(B.blockers);ve.set(le,_l),Nt({blockers:ve})}});return}return Mn(z,$)}),n){Ik(e,F);let z=()=>Ok(e,F);e.addEventListener("pagehide",z),U=()=>e.removeEventListener("pagehide",z)}return B.initialized||Mn("POP",B.location,{initialHydration:!0}),ee}function bt(){_&&_(),U&&U(),E.clear(),C&&C.abort(),B.fetchers.forEach((z,$)=>$t($)),B.blockers.forEach((z,$)=>Ni($))}function dr(z){return E.add(z),()=>E.delete(z)}function Nt(z,$={}){B={...B,...z};let X=[],le=[];B.fetchers.forEach((me,ve)=>{me.state==="idle"&&(oe.has(ve)?X.push(ve):le.push(ve))}),oe.forEach(me=>{!B.fetchers.has(me)&&!Y.has(me)&&X.push(me)}),[...E].forEach(me=>me(B,{deletedFetchers:X,viewTransitionOpts:$.viewTransitionOpts,flushSync:$.flushSync===!0})),X.forEach(me=>$t(me)),le.forEach(me=>B.fetchers.delete(me))}function wn(z,$,{flushSync:X}={}){var xe,Me;let le=B.actionData!=null&&B.navigation.formMethod!=null&&ur(B.navigation.formMethod)&&B.navigation.state==="loading"&&((xe=z.state)==null?void 0:xe._isRedirect)!==!0,me;$.actionData?Object.keys($.actionData).length>0?me=$.actionData:me=null:le?me=B.actionData:me=null;let ve=$.loaderData?yS(B.loaderData,$.loaderData,$.matches||[],$.errors):B.loaderData,Pe=B.blockers;Pe.size>0&&(Pe=new Map(Pe),Pe.forEach((Re,Le)=>Pe.set(Le,_l)));let Ee=x===!0||B.navigation.formMethod!=null&&ur(B.navigation.formMethod)&&((Me=z.state)==null?void 0:Me._isRedirect)!==!0;f&&(u=f,f=void 0),P||N==="POP"||(N==="PUSH"?t.history.push(z,z.state):N==="REPLACE"&&t.history.replace(z,z.state));let Ae;if(N==="POP"){let Re=F.get(B.location.pathname);Re&&Re.has(z.pathname)?Ae={currentLocation:B.location,nextLocation:z}:F.has(z.pathname)&&(Ae={currentLocation:z,nextLocation:B.location})}else if(M){let Re=F.get(B.location.pathname);Re?Re.add(z.pathname):(Re=new Set([z.pathname]),F.set(B.location.pathname,Re)),Ae={currentLocation:B.location,nextLocation:z}}Nt({...$,actionData:me,loaderData:ve,historyAction:N,location:z,initialized:!0,navigation:Yp,revalidation:"idle",restoreScrollPosition:Ta(z,$.matches||B.matches),preventScrollReset:Ee,blockers:Pe},{viewTransitionOpts:Ae,flushSync:X===!0}),N="POP",x=!1,M=!1,P=!1,Se=!1,De==null||De.resolve(),De=null}async function Qr(z,$){if(typeof z=="number"){t.history.go(z);return}let X=Oy(B.location,B.matches,d,z,$==null?void 0:$.fromRouteId,$==null?void 0:$.relative),{path:le,submission:me,error:ve}=lS(!1,X,$),Pe=B.location,Ee=Oc(B.location,le,$&&$.state);Ee={...Ee,...t.history.encodeLocation(Ee)};let Ae=$&&$.replace!=null?$.replace:void 0,xe="PUSH";Ae===!0?xe="REPLACE":Ae===!1||me!=null&&ur(me.formMethod)&&me.formAction===B.location.pathname+B.location.search&&(xe="REPLACE");let Me=$&&"preventScrollReset"in $?$.preventScrollReset===!0:void 0,Re=($&&$.flushSync)===!0,Le=Sa({currentLocation:Pe,nextLocation:Ee,historyAction:xe});if(Le){pr(Le,{state:"blocked",location:Ee,proceed(){pr(Le,{state:"proceeding",proceed:void 0,reset:void 0,location:Ee}),Qr(z,$)},reset(){let tt=new Map(B.blockers);tt.set(Le,_l),Nt({blockers:tt})}});return}await Mn(xe,Ee,{submission:me,pendingError:ve,preventScrollReset:Me,replace:$&&$.replace,enableViewTransition:$&&$.viewTransition,flushSync:Re})}function Oi(){De||(De=Dk()),ba(),Nt({revalidation:"loading"});let z=De.promise;return B.navigation.state==="submitting"?z:B.navigation.state==="idle"?(Mn(B.historyAction,B.location,{startUninterruptedRevalidation:!0}),z):(Mn(N||B.historyAction,B.navigation.location,{overrideNavigation:B.navigation,enableViewTransition:M===!0}),z)}async function Mn(z,$,X){C&&C.abort(),C=null,N=z,P=(X&&X.startUninterruptedRevalidation)===!0,Lr(B.location,B.matches),x=(X&&X.preventScrollReset)===!0,M=(X&&X.enableViewTransition)===!0;let le=f||u,me=X&&X.overrideNavigation,ve=X!=null&&X.initialHydration&&B.matches&&B.matches.length>0&&!W?B.matches:ns(le,$,d),Pe=(X&&X.flushSync)===!0;if(ve&&B.initialized&&!Se&&wk(B.location,$)&&!(X&&X.submission&&ur(X.submission.formMethod))){wn($,{matches:ve},{flushSync:Pe});return}let Ee=Ln(ve,le,$.pathname);if(Ee.active&&Ee.matches&&(ve=Ee.matches),!ve){let{error:ht,notFoundMatches:ot,route:Ze}=Pi($.pathname);wn($,{matches:ot,loaderData:{},errors:{[Ze.id]:ht}},{flushSync:Pe});return}C=new AbortController;let Ae=El(t.history,$,C.signal,X&&X.submission),xe=new sS(t.unstable_getContext?await t.unstable_getContext():void 0),Me;if(X&&X.pendingError)Me=[io(ve).route.id,{type:"error",error:X.pendingError}];else if(X&&X.submission&&ur(X.submission.formMethod)){let ht=await Rs(Ae,$,X.submission,ve,xe,Ee.active,X&&X.initialHydration===!0,{replace:X.replace,flushSync:Pe});if(ht.shortCircuited)return;if(ht.pendingActionResult){let[ot,Ze]=ht.pendingActionResult;if(lr(Ze)&&Dc(Ze.error)&&Ze.error.status===404){C=null,wn($,{matches:ht.matches,loaderData:{},errors:{[ot]:Ze.error}});return}}ve=ht.matches||ve,Me=ht.pendingActionResult,me=Qp($,X.submission),Pe=!1,Ee.active=!1,Ae=El(t.history,Ae.url,Ae.signal)}let{shortCircuited:Re,matches:Le,loaderData:tt,errors:pt}=await Io(Ae,$,ve,xe,Ee.active,me,X&&X.submission,X&&X.fetcherSubmission,X&&X.replace,X&&X.initialHydration===!0,Pe,Me);Re||(C=null,wn($,{matches:Le||ve,...vS(Me),loaderData:tt,errors:pt}))}async function Rs(z,$,X,le,me,ve,Pe,Ee={}){ba();let Ae=Ck($,X);if(Nt({navigation:Ae},{flushSync:Ee.flushSync===!0}),ve){let Re=await Jr(le,$.pathname,z.signal);if(Re.type==="aborted")return{shortCircuited:!0};if(Re.type==="error"){let Le=io(Re.partialMatches).route.id;return{matches:Re.partialMatches,pendingActionResult:[Le,{type:"error",error:Re.error}]}}else if(Re.matches)le=Re.matches;else{let{notFoundMatches:Le,error:tt,route:pt}=Pi($.pathname);return{matches:Le,pendingActionResult:[pt.id,{type:"error",error:tt}]}}}let xe,Me=cc(le,$);if(!Me.route.action&&!Me.route.lazy)xe={type:"error",error:Dr(405,{method:z.method,pathname:$.pathname,routeId:Me.route.id})};else{let Re=Dl(a,o,z,le,Me,Pe?[]:r,me),Le=await mr(z,Re,me,null);if(xe=Le[Me.route.id],!xe){for(let tt of le)if(Le[tt.route.id]){xe=Le[tt.route.id];break}}if(z.signal.aborted)return{shortCircuited:!0}}if(ao(xe)){let Re;return Ee&&Ee.replace!=null?Re=Ee.replace:Re=mS(xe.response.headers.get("Location"),new URL(z.url),d)===B.location.pathname+B.location.search,await kr(z,xe,!0,{submission:X,replace:Re}),{shortCircuited:!0}}if(lr(xe)){let Re=io(le,Me.route.id);return(Ee&&Ee.replace)!==!0&&(N="PUSH"),{matches:le,pendingActionResult:[Re.route.id,xe,Me.route.id]}}return{matches:le,pendingActionResult:[Me.route.id,xe]}}async function Io(z,$,X,le,me,ve,Pe,Ee,Ae,xe,Me,Re){let Le=ve||Qp($,Pe),tt=Pe||Ee||bS(Le),pt=!P&&!xe;if(me){if(pt){let Gt=kn(Re);Nt({navigation:Le,...Gt!==void 0?{actionData:Gt}:{}},{flushSync:Me})}let He=await Jr(X,$.pathname,z.signal);if(He.type==="aborted")return{shortCircuited:!0};if(He.type==="error"){let Gt=io(He.partialMatches).route.id;return{matches:He.partialMatches,loaderData:{},errors:{[Gt]:He.error}}}else if(He.matches)X=He.matches;else{let{error:Gt,notFoundMatches:Jn,route:Bn}=Pi($.pathname);return{matches:Jn,loaderData:{},errors:{[Bn.id]:Gt}}}}let ht=f||u,{dsMatches:ot,revalidatingFetchers:Ze}=uS(z,le,a,o,t.history,B,X,tt,$,xe?[]:r,xe===!0,Se,Ue,oe,ie,V,ht,d,t.patchRoutesOnNavigation!=null,Re);if(ye=++he,!t.dataStrategy&&!ot.some(He=>He.shouldLoad)&&Ze.length===0){let He=Wr();return wn($,{matches:X,loaderData:{},errors:Re&&lr(Re[1])?{[Re[0]]:Re[1].error}:null,...vS(Re),...He?{fetchers:new Map(B.fetchers)}:{}},{flushSync:Me}),{shortCircuited:!0}}if(pt){let He={};if(!me){He.navigation=Le;let Gt=kn(Re);Gt!==void 0&&(He.actionData=Gt)}Ze.length>0&&(He.fetchers=nu(Ze)),Nt(He,{flushSync:Me})}Ze.forEach(He=>{gr(He.key),He.controller&&Y.set(He.key,He.controller)});let vr=()=>Ze.forEach(He=>gr(He.key));C&&C.signal.addEventListener("abort",vr);let{loaderResults:Jt,fetcherResults:Vn}=await Ea(ot,Ze,z,le);if(z.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",vr),Ze.forEach(He=>Y.delete(He.key));let dn=Oh(Jt);if(dn)return await kr(z,dn.result,!0,{replace:Ae}),{shortCircuited:!0};if(dn=Oh(Vn),dn)return V.add(dn.key),await kr(z,dn.result,!0,{replace:Ae}),{shortCircuited:!0};let{loaderData:ti,errors:Zn}=pS(B,X,Jt,Re,Ze,Vn);xe&&B.errors&&(Zn={...B.errors,...Zn});let Aa=Wr(),Rn=Zr(ye),Un=Aa||Rn||Ze.length>0;return{matches:X,loaderData:ti,errors:Zn,...Un?{fetchers:new Map(B.fetchers)}:{}}}function kn(z){if(z&&!lr(z[1]))return{[z[0]]:z[1].data};if(B.actionData)return Object.keys(B.actionData).length===0?null:B.actionData}function nu(z){return z.forEach($=>{let X=B.fetchers.get($.key),le=rc(void 0,X?X.data:void 0);B.fetchers.set($.key,le)}),new Map(B.fetchers)}async function Cs(z,$,X,le){gr(z);let me=(le&&le.flushSync)===!0,ve=f||u,Pe=Oy(B.location,B.matches,d,X,$,le==null?void 0:le.relative),Ee=ns(ve,Pe,d),Ae=Ln(Ee,ve,Pe);if(Ae.active&&Ae.matches&&(Ee=Ae.matches),!Ee){Qe(z,$,Dr(404,{pathname:Pe}),{flushSync:me});return}let{path:xe,submission:Me,error:Re}=lS(!0,Pe,le);if(Re){Qe(z,$,Re,{flushSync:me});return}let Le=cc(Ee,xe),tt=new sS(t.unstable_getContext?await t.unstable_getContext():void 0),pt=(le&&le.preventScrollReset)===!0;if(Me&&ur(Me.formMethod)){await _a(z,$,xe,Le,Ee,tt,Ae.active,me,pt,Me);return}ie.set(z,{routeId:$,path:xe}),await Di(z,$,xe,Le,Ee,tt,Ae.active,me,pt,Me)}async function _a(z,$,X,le,me,ve,Pe,Ee,Ae,xe){ba(),ie.delete(z);function Me(Rt){if(!Rt.route.action&&!Rt.route.lazy){let _r=Dr(405,{method:xe.formMethod,pathname:X,routeId:$});return Qe(z,$,_r,{flushSync:Ee}),!0}return!1}if(!Pe&&Me(le))return;let Re=B.fetchers.get(z);mt(z,xk(xe,Re),{flushSync:Ee});let Le=new AbortController,tt=El(t.history,X,Le.signal,xe);if(Pe){let Rt=await Jr(me,X,tt.signal,z);if(Rt.type==="aborted")return;if(Rt.type==="error"){Qe(z,$,Rt.error,{flushSync:Ee});return}else if(Rt.matches){if(me=Rt.matches,le=cc(me,X),Me(le))return}else{Qe(z,$,Dr(404,{pathname:X}),{flushSync:Ee});return}}Y.set(z,Le);let pt=he,ht=Dl(a,o,tt,me,le,r,ve),Ze=(await mr(tt,ht,ve,z))[le.route.id];if(tt.signal.aborted){Y.get(z)===Le&&Y.delete(z);return}if(oe.has(z)){if(ao(Ze)||lr(Ze)){mt(z,Wa(void 0));return}}else{if(ao(Ze))if(Y.delete(z),ye>pt){mt(z,Wa(void 0));return}else return V.add(z),mt(z,rc(xe)),kr(tt,Ze,!1,{fetcherSubmission:xe,preventScrollReset:Ae});if(lr(Ze)){Qe(z,$,Ze.error);return}}let vr=B.navigation.location||B.location,Jt=El(t.history,vr,Le.signal),Vn=f||u,dn=B.navigation.state!=="idle"?ns(Vn,B.navigation.location,d):B.matches;et(dn,"Didn't find any matches after fetcher action");let ti=++he;Oe.set(z,ti);let Zn=rc(xe,Ze.data);B.fetchers.set(z,Zn);let{dsMatches:Aa,revalidatingFetchers:Rn}=uS(Jt,ve,a,o,t.history,B,dn,xe,vr,r,!1,Se,Ue,oe,ie,V,Vn,d,t.patchRoutesOnNavigation!=null,[le.route.id,Ze]);Rn.filter(Rt=>Rt.key!==z).forEach(Rt=>{let _r=Rt.key,Mi=B.fetchers.get(_r),mn=rc(void 0,Mi?Mi.data:void 0);B.fetchers.set(_r,mn),gr(_r),Rt.controller&&Y.set(_r,Rt.controller)}),Nt({fetchers:new Map(B.fetchers)});let Un=()=>Rn.forEach(Rt=>gr(Rt.key));Le.signal.addEventListener("abort",Un);let{loaderResults:He,fetcherResults:Gt}=await Ea(Aa,Rn,Jt,ve);if(Le.signal.aborted)return;if(Le.signal.removeEventListener("abort",Un),Oe.delete(z),Y.delete(z),Rn.forEach(Rt=>Y.delete(Rt.key)),B.fetchers.has(z)){let Rt=Wa(Ze.data);B.fetchers.set(z,Rt)}let Jn=Oh(He);if(Jn)return kr(Jt,Jn.result,!1,{preventScrollReset:Ae});if(Jn=Oh(Gt),Jn)return V.add(Jn.key),kr(Jt,Jn.result,!1,{preventScrollReset:Ae});let{loaderData:Bn,errors:ni}=pS(B,dn,He,void 0,Rn,Gt);Zr(ti),B.navigation.state==="loading"&&ti>ye?(et(N,"Expected pending action"),C&&C.abort(),wn(B.navigation.location,{matches:dn,loaderData:Bn,errors:ni,fetchers:new Map(B.fetchers)})):(Nt({errors:ni,loaderData:yS(B.loaderData,Bn,dn,ni),fetchers:new Map(B.fetchers)}),Se=!1)}async function Di(z,$,X,le,me,ve,Pe,Ee,Ae,xe){let Me=B.fetchers.get(z);mt(z,rc(xe,Me?Me.data:void 0),{flushSync:Ee});let Re=new AbortController,Le=El(t.history,X,Re.signal);if(Pe){let Ze=await Jr(me,X,Le.signal,z);if(Ze.type==="aborted")return;if(Ze.type==="error"){Qe(z,$,Ze.error,{flushSync:Ee});return}else if(Ze.matches)me=Ze.matches,le=cc(me,X);else{Qe(z,$,Dr(404,{pathname:X}),{flushSync:Ee});return}}Y.set(z,Re);let tt=he,pt=Dl(a,o,Le,me,le,r,ve),ot=(await mr(Le,pt,ve,z))[le.route.id];if(Y.get(z)===Re&&Y.delete(z),!Le.signal.aborted){if(oe.has(z)){mt(z,Wa(void 0));return}if(ao(ot))if(ye>tt){mt(z,Wa(void 0));return}else{V.add(z),await kr(Le,ot,!1,{preventScrollReset:Ae});return}if(lr(ot)){Qe(z,$,ot.error);return}mt(z,Wa(ot.data))}}async function kr(z,$,X,{submission:le,fetcherSubmission:me,preventScrollReset:ve,replace:Pe}={}){$.response.headers.has("X-Remix-Revalidate")&&(Se=!0);let Ee=$.response.headers.get("Location");et(Ee,"Expected a Location header on the redirect Response"),Ee=mS(Ee,new URL(z.url),d);let Ae=Oc(B.location,Ee,{_isRedirect:!0});if(n){let pt=!1;if($.response.headers.has("X-Remix-Reload-Document"))pt=!0;else if(qv.test(Ee)){const ht=nR(Ee,!0);pt=ht.origin!==e.location.origin||Xn(ht.pathname,d)==null}if(pt){Pe?e.location.replace(Ee):e.location.assign(Ee);return}}C=null;let xe=Pe===!0||$.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Me,formAction:Re,formEncType:Le}=B.navigation;!le&&!me&&Me&&Re&&Le&&(le=bS(B.navigation));let tt=le||me;if(ck.has($.response.status)&&tt&&ur(tt.formMethod))await Mn(xe,Ae,{submission:{...tt,formAction:Ee},preventScrollReset:ve||x,enableViewTransition:X?M:void 0});else{let pt=Qp(Ae,le);await Mn(xe,Ae,{overrideNavigation:pt,fetcherSubmission:me,preventScrollReset:ve||x,enableViewTransition:X?M:void 0})}}async function mr(z,$,X,le){let me,ve={};try{me=await _k(g,z,$,le,X,!1)}catch(Pe){return $.filter(Ee=>Ee.shouldLoad).forEach(Ee=>{ve[Ee.route.id]={type:"error",error:Pe}}),ve}if(z.signal.aborted)return ve;for(let[Pe,Ee]of Object.entries(me))if(Ak(Ee)){let Ae=Ee.result;ve[Pe]={type:"redirect",response:Sk(Ae,z,Pe,$,d)}}else ve[Pe]=await bk(Ee);return ve}async function Ea(z,$,X,le){let me=mr(X,z,le,null),ve=Promise.all($.map(async Ae=>{if(Ae.matches&&Ae.match&&Ae.request&&Ae.controller){let Me=(await mr(Ae.request,Ae.matches,le,Ae.key))[Ae.match.route.id];return{[Ae.key]:Me}}else return Promise.resolve({[Ae.key]:{type:"error",error:Dr(404,{pathname:Ae.path})}})})),Pe=await me,Ee=(await ve).reduce((Ae,xe)=>Object.assign(Ae,xe),{});return{loaderResults:Pe,fetcherResults:Ee}}function ba(){Se=!0,ie.forEach((z,$)=>{Y.has($)&&Ue.add($),gr($)})}function mt(z,$,X={}){B.fetchers.set(z,$),Nt({fetchers:new Map(B.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function Qe(z,$,X,le={}){let me=io(B.matches,$);$t(z),Nt({errors:{[me.route.id]:X},fetchers:new Map(B.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function An(z){return de.set(z,(de.get(z)||0)+1),oe.has(z)&&oe.delete(z),B.fetchers.get(z)||fk}function $t(z){let $=B.fetchers.get(z);Y.has(z)&&!($&&$.state==="loading"&&Oe.has(z))&&gr(z),ie.delete(z),Oe.delete(z),V.delete(z),oe.delete(z),Ue.delete(z),B.fetchers.delete(z)}function Oo(z){let $=(de.get(z)||0)-1;$<=0?(de.delete(z),oe.add(z)):de.set(z,$),Nt({fetchers:new Map(B.fetchers)})}function gr(z){let $=Y.get(z);$&&($.abort(),Y.delete(z))}function Xr(z){for(let $ of z){let X=An($),le=Wa(X.data);B.fetchers.set($,le)}}function Wr(){let z=[],$=!1;for(let X of V){let le=B.fetchers.get(X);et(le,`Expected fetcher: ${X}`),le.state==="loading"&&(V.delete(X),z.push(X),$=!0)}return Xr(z),$}function Zr(z){let $=[];for(let[X,le]of Oe)if(le<z){let me=B.fetchers.get(X);et(me,`Expected fetcher: ${X}`),me.state==="loading"&&(gr(X),Oe.delete(X),$.push(X))}return Xr($),$.length>0}function Wn(z,$){let X=B.blockers.get(z)||_l;return Te.get(z)!==$&&Te.set(z,$),X}function Ni(z){B.blockers.delete(z),Te.delete(z)}function pr(z,$){let X=B.blockers.get(z)||_l;et(X.state==="unblocked"&&$.state==="blocked"||X.state==="blocked"&&$.state==="blocked"||X.state==="blocked"&&$.state==="proceeding"||X.state==="blocked"&&$.state==="unblocked"||X.state==="proceeding"&&$.state==="unblocked",`Invalid blocker state transition: ${X.state} -> ${$.state}`);let le=new Map(B.blockers);le.set(z,$),Nt({blockers:le})}function Sa({currentLocation:z,nextLocation:$,historyAction:X}){if(Te.size===0)return;Te.size>1&&kt(!1,"A router only supports one blocker at a time");let le=Array.from(Te.entries()),[me,ve]=le[le.length-1],Pe=B.blockers.get(me);if(!(Pe&&Pe.state==="proceeding")&&ve({currentLocation:z,nextLocation:$,historyAction:X}))return me}function Pi(z){let $=Dr(404,{pathname:z}),X=f||u,{matches:le,route:me}=_S(X);return{notFoundMatches:le,route:me,error:$}}function xs(z,$,X){if(T=z,D=$,w=X||null,!k&&B.navigation===Yp){k=!0;let le=Ta(B.location,B.matches);le!=null&&Nt({restoreScrollPosition:le})}return()=>{T=null,D=null,w=null}}function yr(z,$){return w&&w(z,$.map(le=>BM(le,B.loaderData)))||z.key}function Lr(z,$){if(T&&D){let X=yr(z,$);T[X]=D()}}function Ta(z,$){if(T){let X=yr(z,$),le=T[X];if(typeof le=="number")return le}return null}function Ln(z,$,X){if(t.patchRoutesOnNavigation)if(z){if(Object.keys(z[0].params).length>0)return{active:!0,matches:Qh($,X,d,!0)}}else return{active:!0,matches:Qh($,X,d,!0)||[]};return{active:!1,matches:null}}async function Jr(z,$,X,le){if(!t.patchRoutesOnNavigation)return{type:"success",matches:z};let me=z;for(;;){let ve=f==null,Pe=f||u,Ee=o;try{await t.patchRoutesOnNavigation({signal:X,path:$,matches:me,fetcherKey:le,patch:(Me,Re)=>{X.aborted||cS(Me,Re,Pe,Ee,a)}})}catch(Me){return{type:"error",error:Me,partialMatches:me}}finally{ve&&!X.aborted&&(u=[...u])}if(X.aborted)return{type:"aborted"};let Ae=ns(Pe,$,d);if(Ae)return{type:"success",matches:Ae};let xe=Qh(Pe,$,d,!0);if(!xe||me.length===xe.length&&me.every((Me,Re)=>Me.route.id===xe[Re].route.id))return{type:"success",matches:null};me=xe}}function ei(z){o={},f=Sd(z,a,void 0,o)}function wa(z,$){let X=f==null;cS(z,$,f||u,o,a),X&&(u=[...u],Nt({}))}return ee={get basename(){return d},get future(){return y},get state(){return B},get routes(){return u},get window(){return e},initialize:qt,subscribe:dr,enableScrollRestoration:xs,navigate:Qr,fetch:Cs,revalidate:Oi,createHref:z=>t.history.createHref(z),encodeLocation:z=>t.history.encodeLocation(z),getFetcher:An,deleteFetcher:Oo,dispose:bt,getBlocker:Wn,deleteBlocker:Ni,patchRoutes:wa,_internalFetchControllers:Y,_internalSetRoutes:ei},ee}function mk(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Oy(t,e,n,r,a,o){let u,f;if(a){u=[];for(let g of e)if(u.push(g),g.route.id===a){f=g;break}}else u=e,f=e[e.length-1];let d=nm(r||".",tm(u),Xn(t.pathname,n)||t.pathname,o==="path");if(r==null&&(d.search=t.search,d.hash=t.hash),(r==null||r===""||r===".")&&f){let g=$v(d.search);if(f.route.index&&!g)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&g){let y=new URLSearchParams(d.search),_=y.getAll("index");y.delete("index"),_.filter(T=>T).forEach(T=>y.append("index",T));let E=y.toString();d.search=E?`?${E}`:""}}return n!=="/"&&(d.pathname=d.pathname==="/"?n:Si([n,d.pathname])),fs(d)}function lS(t,e,n){if(!n||!mk(n))return{path:e};if(n.formMethod&&!Rk(n.formMethod))return{path:e,error:Dr(405,{method:n.formMethod})};let r=()=>({path:e,error:Dr(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),u=mR(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!ur(o))return r();let _=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((E,[T,w])=>`${E}${T}=${w}
`,""):String(n.body);return{path:e,submission:{formMethod:o,formAction:u,formEncType:n.formEncType,formData:void 0,json:void 0,text:_}}}else if(n.formEncType==="application/json"){if(!ur(o))return r();try{let _=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:o,formAction:u,formEncType:n.formEncType,formData:void 0,json:_,text:void 0}}}catch{return r()}}}et(typeof FormData=="function","FormData is not available in this environment");let f,d;if(n.formData)f=Py(n.formData),d=n.formData;else if(n.body instanceof FormData)f=Py(n.body),d=n.body;else if(n.body instanceof URLSearchParams)f=n.body,d=gS(f);else if(n.body==null)f=new URLSearchParams,d=new FormData;else try{f=new URLSearchParams(n.body),d=gS(f)}catch{return r()}let g={formMethod:o,formAction:u,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(ur(g.formMethod))return{path:e,submission:g};let y=ya(e);return t&&y.search&&$v(y.search)&&f.append("index",""),y.search=`?${f}`,{path:fs(y),submission:g}}function uS(t,e,n,r,a,o,u,f,d,g,y,_,E,T,w,D,k,j,W,G){var P;let ne=G?lr(G[1])?G[1].error:G[1].data:void 0,ee=a.createURL(o.location),B=a.createURL(d),N;if(y&&o.errors){let Se=Object.keys(o.errors)[0];N=u.findIndex(Ue=>Ue.route.id===Se)}else if(G&&lr(G[1])){let Se=G[0];N=u.findIndex(Ue=>Ue.route.id===Se)-1}let x=G?G[1].statusCode:void 0,C=x&&x>=400,M={currentUrl:ee,currentParams:((P=o.matches[0])==null?void 0:P.params)||{},nextUrl:B,nextParams:u[0].params,...f,actionResult:ne,actionStatus:x},F=u.map((Se,Ue)=>{let{route:Y}=Se,he=null;if(N!=null&&Ue>N?he=!1:Y.lazy?he=!0:Y.loader==null?he=!1:y?he=Dy(Y,o.loaderData,o.errors):gk(o.loaderData,o.matches[Ue],Se)&&(he=!0),he!==null)return Ny(n,r,t,Se,g,e,he);let ye=C?!1:_||ee.pathname+ee.search===B.pathname+B.search||ee.search!==B.search||pk(o.matches[Ue],Se),Oe={...M,defaultShouldRevalidate:ye},V=Ad(Se,Oe);return Ny(n,r,t,Se,g,e,V,Oe)}),U=[];return w.forEach((Se,Ue)=>{if(y||!u.some(oe=>oe.route.id===Se.routeId)||T.has(Ue))return;let Y=o.fetchers.get(Ue),he=Y&&Y.state!=="idle"&&Y.data===void 0,ye=ns(k,Se.path,j);if(!ye){if(W&&he)return;U.push({key:Ue,routeId:Se.routeId,path:Se.path,matches:null,match:null,request:null,controller:null});return}if(D.has(Ue))return;let Oe=cc(ye,Se.path),V=new AbortController,ie=El(a,Se.path,V.signal),de=null;if(E.has(Ue))E.delete(Ue),de=Dl(n,r,ie,ye,Oe,g,e);else if(he)_&&(de=Dl(n,r,ie,ye,Oe,g,e));else{let oe={...M,defaultShouldRevalidate:C?!1:_};Ad(Oe,oe)&&(de=Dl(n,r,ie,ye,Oe,g,e,oe))}de&&U.push({key:Ue,routeId:Se.routeId,path:Se.path,matches:de,match:Oe,request:ie,controller:V})}),{dsMatches:F,revalidatingFetchers:U}}function Dy(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&t.id in e,a=n!=null&&n[t.id]!==void 0;return!r&&a?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!a}function gk(t,e,n){let r=!e||n.route.id!==e.route.id,a=!t.hasOwnProperty(n.route.id);return r||a}function pk(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Ad(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function cS(t,e,n,r,a){let o;if(t){let d=r[t];et(d,`No route found to patch children into: routeId = ${t}`),d.children||(d.children=[]),o=d.children}else o=n;let u=e.filter(d=>!o.some(g=>uR(d,g))),f=Sd(u,a,[t||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...f)}function uR(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var a;return(a=e.children)==null?void 0:a.some(o=>uR(n,o))}):!1}var fS=new WeakMap,cR=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let a=n[e.id];if(et(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let o=a.lazy[t];if(!o)return;let u=fS.get(a);u||(u={},fS.set(a,u));let f=u[t];if(f)return f;let d=(async()=>{let g=UM(t),_=a[t]!==void 0&&t!=="hasErrorBoundary";if(g)kt(!g,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),u[t]=Promise.resolve();else if(_)kt(!1,`Route "${a.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let E=await o();E!=null&&(Object.assign(a,{[t]:E}),Object.assign(a,r(a)))}typeof a.lazy=="object"&&(a.lazy[t]=void 0,Object.values(a.lazy).every(E=>E===void 0)&&(a.lazy=void 0))})();return u[t]=d,d},hS=new WeakMap;function yk(t,e,n,r,a){let o=n[t.id];if(et(o,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let y=hS.get(o);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let _=(async()=>{et(typeof t.lazy=="function","No lazy route function found");let E=await t.lazy(),T={};for(let w in E){let D=E[w];if(D===void 0)continue;let k=zM(w),W=o[w]!==void 0&&w!=="hasErrorBoundary";k?kt(!k,"Route property "+w+" is not a supported property to be returned from a lazy route function. This property will be ignored."):W?kt(!W,`Route "${o.id}" has a static property "${w}" defined but its lazy function is also returning a value for this property. The lazy route property "${w}" will be ignored.`):T[w]=D}Object.assign(o,T),Object.assign(o,{...r(o),lazy:void 0})})();return hS.set(o,_),_.catch(()=>{}),{lazyRoutePromise:_,lazyHandlerPromise:_}}let u=Object.keys(t.lazy),f=[],d;for(let y of u){if(a&&a.includes(y))continue;let _=cR({key:y,route:t,manifest:n,mapRouteProperties:r});_&&(f.push(_),y===e&&(d=_))}let g=f.length>0?Promise.all(f).then(()=>{}):void 0;return g==null||g.catch(()=>{}),d==null||d.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:d}}async function dS(t){let e=t.matches.filter(a=>a.shouldLoad),n={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,o)=>{n[e[o].route.id]=a}),n}async function vk(t){return t.matches.some(e=>e.route.unstable_middleware)?fR(t,!1,()=>dS(t),(e,n)=>({[n]:{type:"error",result:e}})):dS(t)}async function fR(t,e,n,r){let{matches:a,request:o,params:u,context:f}=t,d={handlerResult:void 0};try{let g=a.flatMap(_=>_.route.unstable_middleware?_.route.unstable_middleware.map(E=>[_.route.id,E]):[]),y=await hR({request:o,params:u,context:f},g,e,d,n);return e?y:d.handlerResult}catch(g){if(!d.middlewareError)throw g;let y=await r(d.middlewareError.error,d.middlewareError.routeId);return d.handlerResult?Object.assign(d.handlerResult,y):y}}async function hR(t,e,n,r,a,o=0){let{request:u}=t;if(u.signal.aborted)throw u.signal.reason?u.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${u.method} ${u.url}`);let f=e[o];if(!f)return r.handlerResult=await a(),r.handlerResult;let[d,g]=f,y=!1,_,E=async()=>{if(y)throw new Error("You may only call `next()` once per middleware");y=!0,await hR(t,e,n,r,a,o+1)};try{let T=await g({request:t.request,params:t.params,context:t.context},E);return y?T===void 0?_:T:E()}catch(T){throw r.middlewareError?r.middlewareError.error!==T&&(r.middlewareError={routeId:d,error:T}):r.middlewareError={routeId:d,error:T},T}}function dR(t,e,n,r,a){let o=cR({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),u=yk(r.route,ur(n.method)?"action":"loader",e,t,a);return{middleware:o,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function Ny(t,e,n,r,a,o,u,f=null){let d=!1,g=dR(t,e,n,r,a);return{...r,_lazyPromises:g,shouldLoad:u,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler(y){return d=!0,f?typeof y=="boolean"?Ad(r,{...f,defaultShouldRevalidate:y}):Ad(r,f):u},resolve(y){return d||u||y&&n.method==="GET"&&(r.route.lazy||r.route.loader)?Ek({request:n,match:r,lazyHandlerPromise:g==null?void 0:g.handler,lazyRoutePromise:g==null?void 0:g.route,handlerOverride:y,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Dl(t,e,n,r,a,o,u,f=null){return r.map(d=>d.route.id!==a.route.id?{...d,shouldLoad:!1,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler:()=>!1,_lazyPromises:dR(t,e,n,d,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Ny(t,e,n,d,o,u,!0,f))}async function _k(t,e,n,r,a,o){n.some(g=>{var y;return(y=g._lazyPromises)==null?void 0:y.middleware})&&await Promise.all(n.map(g=>{var y;return(y=g._lazyPromises)==null?void 0:y.middleware}));let u={request:e,params:n[0].params,context:a,matches:n},d=await t({...u,fetcherKey:r,unstable_runClientMiddleware:g=>{let y=u;return fR(y,!1,()=>g({...y,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(_,E)=>({[E]:{type:"error",result:_}}))}});try{await Promise.all(n.flatMap(g=>{var y,_;return[(y=g._lazyPromises)==null?void 0:y.handler,(_=g._lazyPromises)==null?void 0:_.route]}))}catch{}return d}async function Ek({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:a,scopedContext:o}){let u,f,d=ur(t.method),g=d?"action":"loader",y=_=>{let E,T=new Promise((k,j)=>E=j);f=()=>E(),t.signal.addEventListener("abort",f);let w=k=>typeof _!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${e.route.id}]`)):_({request:t,params:e.params,context:o},...k!==void 0?[k]:[]),D=(async()=>{try{return{type:"data",result:await(a?a(j=>w(j)):w())}}catch(k){return{type:"error",result:k}}})();return Promise.race([D,T])};try{let _=d?e.route.action:e.route.loader;if(n||r)if(_){let E,[T]=await Promise.all([y(_).catch(w=>{E=w}),n,r]);if(E!==void 0)throw E;u=T}else{await n;let E=d?e.route.action:e.route.loader;if(E)[u]=await Promise.all([y(E),r]);else if(g==="action"){let T=new URL(t.url),w=T.pathname+T.search;throw Dr(405,{method:t.method,pathname:w,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(_)u=await y(_);else{let E=new URL(t.url),T=E.pathname+E.search;throw Dr(404,{pathname:T})}}catch(_){return{type:"error",result:_}}finally{f&&t.signal.removeEventListener("abort",f)}return u}async function bk(t){var r,a,o,u,f,d;let{result:e,type:n}=t;if(gR(e)){let g;try{let y=e.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?e.body==null?g=null:g=await e.json():g=await e.text()}catch(y){return{type:"error",error:y}}return n==="error"?{type:"error",error:new wd(e.status,e.statusText,g),statusCode:e.status,headers:e.headers}:{type:"data",data:g,statusCode:e.status,headers:e.headers}}return n==="error"?ES(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new wd(((o=e.init)==null?void 0:o.status)||500,void 0,e.data),statusCode:Dc(e)?e.status:void 0,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Dc(e)?e.status:void 0}:ES(e)?{type:"data",data:e.data,statusCode:(f=e.init)==null?void 0:f.status,headers:(d=e.init)!=null&&d.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function Sk(t,e,n,r,a){let o=t.headers.get("Location");if(et(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!qv.test(o)){let u=r.slice(0,r.findIndex(f=>f.route.id===n)+1);o=Oy(new URL(e.url),u,a,o),t.headers.set("Location",o)}return t}function mS(t,e,n){if(qv.test(t)){let r=t,a=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=Xn(a.pathname,n)!=null;if(a.origin===e.origin&&o)return a.pathname+a.search+a.hash}return t}function El(t,e,n,r){let a=t.createURL(mR(e)).toString(),o={signal:n};if(r&&ur(r.formMethod)){let{formMethod:u,formEncType:f}=r;o.method=u.toUpperCase(),f==="application/json"?(o.headers=new Headers({"Content-Type":f}),o.body=JSON.stringify(r.json)):f==="text/plain"?o.body=r.text:f==="application/x-www-form-urlencoded"&&r.formData?o.body=Py(r.formData):o.body=r.formData}return new Request(a,o)}function Py(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function gS(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function Tk(t,e,n,r=!1,a=!1){let o={},u=null,f,d=!1,g={},y=n&&lr(n[1])?n[1].error:void 0;return t.forEach(_=>{if(!(_.route.id in e))return;let E=_.route.id,T=e[E];if(et(!ao(T),"Cannot handle redirect results in processLoaderData"),lr(T)){let w=T.error;if(y!==void 0&&(w=y,y=void 0),u=u||{},a)u[E]=w;else{let D=io(t,E);u[D.route.id]==null&&(u[D.route.id]=w)}r||(o[E]=lR),d||(d=!0,f=Dc(T.error)?T.error.status:500),T.headers&&(g[E]=T.headers)}else o[E]=T.data,T.statusCode&&T.statusCode!==200&&!d&&(f=T.statusCode),T.headers&&(g[E]=T.headers)}),y!==void 0&&n&&(u={[n[0]]:y},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:u,statusCode:f||200,loaderHeaders:g}}function pS(t,e,n,r,a,o){let{loaderData:u,errors:f}=Tk(e,n,r);return a.filter(d=>!d.matches||d.matches.some(g=>g.shouldLoad)).forEach(d=>{let{key:g,match:y,controller:_}=d,E=o[g];if(et(E,"Did not find corresponding fetcher result"),!(_&&_.signal.aborted))if(lr(E)){let T=io(t.matches,y==null?void 0:y.route.id);f&&f[T.route.id]||(f={...f,[T.route.id]:E.error}),t.fetchers.delete(g)}else if(ao(E))et(!1,"Unhandled fetcher revalidation redirect");else{let T=Wa(E.data);t.fetchers.set(g,T)}}),{loaderData:u,errors:f}}function yS(t,e,n,r){let a=Object.entries(e).filter(([,o])=>o!==lR).reduce((o,[u,f])=>(o[u]=f,o),{});for(let o of n){let u=o.route.id;if(!e.hasOwnProperty(u)&&t.hasOwnProperty(u)&&o.route.loader&&(a[u]=t[u]),r&&r.hasOwnProperty(u))break}return a}function vS(t){return t?lr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function io(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function _S(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Dr(t,{pathname:e,routeId:n,method:r,type:a,message:o}={}){let u="Unknown Server Error",f="Unknown @remix-run/router error";return t===400?(u="Bad Request",r&&e&&n?f=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(f="Unable to encode submission body")):t===403?(u="Forbidden",f=`Route "${n}" does not match URL "${e}"`):t===404?(u="Not Found",f=`No route matches URL "${e}"`):t===405&&(u="Method Not Allowed",r&&e&&n?f=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(f=`Invalid request method "${r.toUpperCase()}"`)),new wd(t||500,u,new Error(f),!0)}function Oh(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,a]=e[n];if(ao(a))return{key:r,result:a}}}function mR(t){let e=typeof t=="string"?ya(t):t;return fs({...e,hash:""})}function wk(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Ak(t){return gR(t.result)&&uk.has(t.result.status)}function lr(t){return t.type==="error"}function ao(t){return(t&&t.type)==="redirect"}function ES(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function gR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Rk(t){return lk.has(t.toUpperCase())}function ur(t){return sk.has(t.toUpperCase())}function $v(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function cc(t,e){let n=typeof e=="string"?ya(e).search:e.search;if(t[t.length-1].route.index&&$v(n||""))return t[t.length-1];let r=aR(t);return r[r.length-1]}function bS(t){let{formMethod:e,formAction:n,formEncType:r,text:a,formData:o,json:u}=t;if(!(!e||!n||!r)){if(a!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:u,text:void 0}}}function Qp(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Ck(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function rc(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function xk(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Wa(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Ik(t,e){try{let n=t.sessionStorage.getItem(oR);if(n){let r=JSON.parse(n);for(let[a,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(a,new Set(o||[]))}}catch{}}function Ok(t,e){if(e.size>0){let n={};for(let[r,a]of e)n[r]=[...a];try{t.sessionStorage.setItem(oR,JSON.stringify(n))}catch(r){kt(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function Dk(){let t,e,n=new Promise((r,a)=>{t=async o=>{r(o);try{await n}catch{}},e=async o=>{a(o);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var So=O.createContext(null);So.displayName="DataRouter";var Jc=O.createContext(null);Jc.displayName="DataRouterState";var Gv=O.createContext({isTransitioning:!1});Gv.displayName="ViewTransition";var pR=O.createContext(new Map);pR.displayName="Fetchers";var Nk=O.createContext(null);Nk.displayName="Await";var Gr=O.createContext(null);Gr.displayName="Navigation";var rm=O.createContext(null);rm.displayName="Location";var Kr=O.createContext({outlet:null,matches:[],isDataRoute:!1});Kr.displayName="Route";var Kv=O.createContext(null);Kv.displayName="RouteError";function Pk(t,{relative:e}={}){et(Yl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=O.useContext(Gr),{hash:a,pathname:o,search:u}=ef(t,{relative:e}),f=o;return n!=="/"&&(f=o==="/"?n:Si([n,o])),r.createHref({pathname:f,search:u,hash:a})}function Yl(){return O.useContext(rm)!=null}function xi(){return et(Yl(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(rm).location}var yR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vR(t){O.useContext(Gr).static||O.useLayoutEffect(t)}function Ql(){let{isDataRoute:t}=O.useContext(Kr);return t?Yk():Mk()}function Mk(){et(Yl(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(So),{basename:e,navigator:n}=O.useContext(Gr),{matches:r}=O.useContext(Kr),{pathname:a}=xi(),o=JSON.stringify(tm(r)),u=O.useRef(!1);return vR(()=>{u.current=!0}),O.useCallback((d,g={})=>{if(kt(u.current,yR),!u.current)return;if(typeof d=="number"){n.go(d);return}let y=nm(d,JSON.parse(o),a,g.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Si([e,y.pathname])),(g.replace?n.replace:n.push)(y,g.state,g)},[e,n,o,a,t])}var kk=O.createContext(null);function Lk(t){let e=O.useContext(Kr).outlet;return e&&O.createElement(kk.Provider,{value:t},e)}function ef(t,{relative:e}={}){let{matches:n}=O.useContext(Kr),{pathname:r}=xi(),a=JSON.stringify(tm(n));return O.useMemo(()=>nm(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function Vk(t,e,n,r){et(Yl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=O.useContext(Gr),{matches:o}=O.useContext(Kr),u=o[o.length-1],f=u?u.params:{},d=u?u.pathname:"/",g=u?u.pathnameBase:"/",y=u&&u.route;{let j=y&&y.path||"";bR(d,!y||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let _=xi(),E;E=_;let T=E.pathname||"/",w=T;if(g!=="/"){let j=g.replace(/^\//,"").split("/");w="/"+T.replace(/^\//,"").split("/").slice(j.length).join("/")}let D=ns(t,{pathname:w});return kt(y||D!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),kt(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Bk(D&&D.map(j=>Object.assign({},j,{params:Object.assign({},f,j.params),pathname:Si([g,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?g:Si([g,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,n,r)}function Uk(){let t=$k(),e=Dc(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=O.createElement(O.Fragment,null,O.createElement("p",null,"💿 Hey developer 👋"),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:o},"ErrorBoundary")," or"," ",O.createElement("code",{style:o},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:a},n):null,u)}var jk=O.createElement(Uk,null),zk=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?O.createElement(Kr.Provider,{value:this.props.routeContext},O.createElement(Kv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Fk({routeContext:t,match:e,children:n}){let r=O.useContext(So);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(Kr.Provider,{value:t},n)}function Bk(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=n==null?void 0:n.errors;if(o!=null){let d=a.findIndex(g=>g.route.id&&(o==null?void 0:o[g.route.id])!==void 0);et(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,f=-1;if(n)for(let d=0;d<a.length;d++){let g=a[d];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=d),g.route.id){let{loaderData:y,errors:_}=n,E=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!_||_[g.route.id]===void 0);if(g.route.lazy||E){u=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((d,g,y)=>{let _,E=!1,T=null,w=null;n&&(_=o&&g.route.id?o[g.route.id]:void 0,T=g.route.errorElement||jk,u&&(f<0&&y===0?(bR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,w=null):f===y&&(E=!0,w=g.route.hydrateFallbackElement||null)));let D=e.concat(a.slice(0,y+1)),k=()=>{let j;return _?j=T:E?j=w:g.route.Component?j=O.createElement(g.route.Component,null):g.route.element?j=g.route.element:j=d,O.createElement(Fk,{match:g,routeContext:{outlet:d,matches:D,isDataRoute:n!=null},children:j})};return n&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?O.createElement(zk,{location:n.location,revalidation:n.revalidation,component:T,error:_,children:k(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):k()},null)}function Yv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _R(t){let e=O.useContext(So);return et(e,Yv(t)),e}function ER(t){let e=O.useContext(Jc);return et(e,Yv(t)),e}function Hk(t){let e=O.useContext(Kr);return et(e,Yv(t)),e}function Qv(t){let e=Hk(t),n=e.matches[e.matches.length-1];return et(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function qk(){return Qv("useRouteId")}function $k(){var r;let t=O.useContext(Kv),e=ER("useRouteError"),n=Qv("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}var Gk=0;function Kk(t){let{router:e,basename:n}=_R("useBlocker"),r=ER("useBlocker"),[a,o]=O.useState(""),u=O.useCallback(f=>{if(typeof t!="function")return!!t;if(n==="/")return t(f);let{currentLocation:d,nextLocation:g,historyAction:y}=f;return t({currentLocation:{...d,pathname:Xn(d.pathname,n)||d.pathname},nextLocation:{...g,pathname:Xn(g.pathname,n)||g.pathname},historyAction:y})},[n,t]);return O.useEffect(()=>{let f=String(++Gk);return o(f),()=>e.deleteBlocker(f)},[e]),O.useEffect(()=>{a!==""&&e.getBlocker(a,u)},[e,a,u]),a&&r.blockers.has(a)?r.blockers.get(a):_l}function Yk(){let{router:t}=_R("useNavigate"),e=Qv("useNavigate"),n=O.useRef(!1);return vR(()=>{n.current=!0}),O.useCallback(async(a,o={})=>{kt(n.current,yR),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...o}))},[t,e])}var SS={};function bR(t,e,n){!e&&!SS[t]&&(SS[t]=!0,kt(!1,n))}var TS={};function wS(t,e){!t&&!TS[e]&&(TS[e]=!0,console.warn(e))}function Qk(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&kt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:O.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&kt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:O.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&kt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:O.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var Xk=["HydrateFallback","hydrateFallbackElement"],Wk=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function Zk({router:t,flushSync:e}){let[n,r]=O.useState(t.state),[a,o]=O.useState(),[u,f]=O.useState({isTransitioning:!1}),[d,g]=O.useState(),[y,_]=O.useState(),[E,T]=O.useState(),w=O.useRef(new Map),D=O.useCallback((G,{deletedFetchers:ne,flushSync:ee,viewTransitionOpts:B})=>{G.fetchers.forEach((x,C)=>{x.data!==void 0&&w.current.set(C,x.data)}),ne.forEach(x=>w.current.delete(x)),wS(ee===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let N=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(wS(B==null||N,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!B||!N){e&&ee?e(()=>r(G)):O.startTransition(()=>r(G));return}if(e&&ee){e(()=>{y&&(d&&d.resolve(),y.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:B.currentLocation,nextLocation:B.nextLocation})});let x=t.window.document.startViewTransition(()=>{e(()=>r(G))});x.finished.finally(()=>{e(()=>{g(void 0),_(void 0),o(void 0),f({isTransitioning:!1})})}),e(()=>_(x));return}y?(d&&d.resolve(),y.skipTransition(),T({state:G,currentLocation:B.currentLocation,nextLocation:B.nextLocation})):(o(G),f({isTransitioning:!0,flushSync:!1,currentLocation:B.currentLocation,nextLocation:B.nextLocation}))},[t.window,e,y,d]);O.useLayoutEffect(()=>t.subscribe(D),[t,D]),O.useEffect(()=>{u.isTransitioning&&!u.flushSync&&g(new Wk)},[u]),O.useEffect(()=>{if(d&&a&&t.window){let G=a,ne=d.promise,ee=t.window.document.startViewTransition(async()=>{O.startTransition(()=>r(G)),await ne});ee.finished.finally(()=>{g(void 0),_(void 0),o(void 0),f({isTransitioning:!1})}),_(ee)}},[a,d,t.window]),O.useEffect(()=>{d&&a&&n.location.key===a.location.key&&d.resolve()},[d,y,n.location,a]),O.useEffect(()=>{!u.isTransitioning&&E&&(o(E.state),f({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),T(void 0))},[u.isTransitioning,E]);let k=O.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:G=>t.navigate(G),push:(G,ne,ee)=>t.navigate(G,{state:ne,preventScrollReset:ee==null?void 0:ee.preventScrollReset}),replace:(G,ne,ee)=>t.navigate(G,{replace:!0,state:ne,preventScrollReset:ee==null?void 0:ee.preventScrollReset})}),[t]),j=t.basename||"/",W=O.useMemo(()=>({router:t,navigator:k,static:!1,basename:j}),[t,k,j]);return O.createElement(O.Fragment,null,O.createElement(So.Provider,{value:W},O.createElement(Jc.Provider,{value:n},O.createElement(pR.Provider,{value:w.current},O.createElement(Gv.Provider,{value:u},O.createElement(n4,{basename:j,location:n.location,navigationType:n.historyAction,navigator:k},O.createElement(Jk,{routes:t.routes,future:t.future,state:n})))))),null)}var Jk=O.memo(e4);function e4({routes:t,future:e,state:n}){return Vk(t,void 0,n,e)}function SR({to:t,replace:e,state:n,relative:r}){et(Yl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=O.useContext(Gr);kt(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=O.useContext(Kr),{pathname:u}=xi(),f=Ql(),d=nm(t,tm(o),u,r==="path"),g=JSON.stringify(d);return O.useEffect(()=>{f(JSON.parse(g),{replace:e,state:n,relative:r})},[f,g,r,e,n]),null}function t4(t){return Lk(t.context)}function n4({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:o=!1}){et(!Yl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=O.useMemo(()=>({basename:u,navigator:a,static:o,future:{}}),[u,a,o]);typeof n=="string"&&(n=ya(n));let{pathname:d="/",search:g="",hash:y="",state:_=null,key:E="default"}=n,T=O.useMemo(()=>{let w=Xn(d,u);return w==null?null:{location:{pathname:w,search:g,hash:y,state:_,key:E},navigationType:r}},[u,d,g,y,_,E,r]);return kt(T!=null,`<Router basename="${u}"> is not able to match the URL "${d}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:O.createElement(Gr.Provider,{value:f},O.createElement(rm.Provider,{children:e,value:T}))}var Xh="get",Wh="application/x-www-form-urlencoded";function im(t){return t!=null&&typeof t.tagName=="string"}function r4(t){return im(t)&&t.tagName.toLowerCase()==="button"}function i4(t){return im(t)&&t.tagName.toLowerCase()==="form"}function a4(t){return im(t)&&t.tagName.toLowerCase()==="input"}function s4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function o4(t,e){return t.button===0&&(!e||e==="_self")&&!s4(t)}function My(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function l4(t,e){let n=My(t);return e&&e.forEach((r,a)=>{n.has(a)||e.getAll(a).forEach(o=>{n.append(a,o)})}),n}var Dh=null;function u4(){if(Dh===null)try{new FormData(document.createElement("form"),0),Dh=!1}catch{Dh=!0}return Dh}var c4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xp(t){return t!=null&&!c4.has(t)?(kt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wh}"`),null):t}function f4(t,e){let n,r,a,o,u;if(i4(t)){let f=t.getAttribute("action");r=f?Xn(f,e):null,n=t.getAttribute("method")||Xh,a=Xp(t.getAttribute("enctype"))||Wh,o=new FormData(t)}else if(r4(t)||a4(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||f.getAttribute("action");if(r=d?Xn(d,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Xh,a=Xp(t.getAttribute("formenctype"))||Xp(f.getAttribute("enctype"))||Wh,o=new FormData(f,t),!u4()){let{name:g,type:y,value:_}=t;if(y==="image"){let E=g?`${g}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else g&&o.append(g,_)}}else{if(im(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xh,r=null,a=Wh,u=t}return o&&a==="text/plain"&&(u=o,o=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:o,body:u}}function Xv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function h4(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function d4(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function m4(t,e,n){let r=await Promise.all(t.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await h4(o,n);return u.links?u.links():[]}return[]}));return v4(r.flat(1).filter(d4).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function AS(t,e,n,r,a,o){let u=(d,g)=>n[g]?d.route.id!==n[g].route.id:!0,f=(d,g)=>{var y;return n[g].pathname!==d.pathname||((y=n[g].route.path)==null?void 0:y.endsWith("*"))&&n[g].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,g)=>u(d,g)||f(d,g)):o==="data"?e.filter((d,g)=>{var _;let y=r.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(u(d,g)||f(d,g))return!0;if(d.route.shouldRevalidate){let E=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function g4(t,e,{includeHydrateFallback:n}={}){return p4(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function p4(t){return[...new Set(t)]}function y4(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function v4(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let o=JSON.stringify(y4(a));return n.has(o)||(n.add(o),r.push({key:o,link:a})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var _4=new Set([100,101,204,205]);function E4(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Xn(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function TR(){let t=O.useContext(So);return Xv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function b4(){let t=O.useContext(Jc);return Xv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Wv=O.createContext(void 0);Wv.displayName="FrameworkContext";function wR(){let t=O.useContext(Wv);return Xv(t,"You must render this element inside a <HydratedRouter> element"),t}function S4(t,e){let n=O.useContext(Wv),[r,a]=O.useState(!1),[o,u]=O.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:g,onMouseLeave:y,onTouchStart:_}=e,E=O.useRef(null);O.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let D=j=>{j.forEach(W=>{u(W.isIntersecting)})},k=new IntersectionObserver(D,{threshold:.5});return E.current&&k.observe(E.current),()=>{k.disconnect()}}},[t]),O.useEffect(()=>{if(r){let D=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(D)}}},[r]);let T=()=>{a(!0)},w=()=>{a(!1),u(!1)};return n?t!=="intent"?[o,E,{}]:[o,E,{onFocus:ic(f,T),onBlur:ic(d,w),onMouseEnter:ic(g,T),onMouseLeave:ic(y,w),onTouchStart:ic(_,T)}]:[!1,E,{}]}function ic(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function T4({page:t,...e}){let{router:n}=TR(),r=O.useMemo(()=>ns(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?O.createElement(A4,{page:t,matches:r,...e}):null}function w4(t){let{manifest:e,routeModules:n}=wR(),[r,a]=O.useState([]);return O.useEffect(()=>{let o=!1;return m4(t,e,n).then(u=>{o||a(u)}),()=>{o=!0}},[t,e,n]),r}function A4({page:t,matches:e,...n}){let r=xi(),{manifest:a,routeModules:o}=wR(),{basename:u}=TR(),{loaderData:f,matches:d}=b4(),g=O.useMemo(()=>AS(t,e,d,a,r,"data"),[t,e,d,a,r]),y=O.useMemo(()=>AS(t,e,d,a,r,"assets"),[t,e,d,a,r]),_=O.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,D=!1;if(e.forEach(j=>{var G;let W=a.routes[j.route.id];!W||!W.hasLoader||(!g.some(ne=>ne.route.id===j.route.id)&&j.route.id in f&&((G=o[j.route.id])!=null&&G.shouldRevalidate)||W.hasClientLoader?D=!0:w.add(j.route.id))}),w.size===0)return[];let k=E4(t,u);return D&&w.size>0&&k.searchParams.set("_routes",e.filter(j=>w.has(j.route.id)).map(j=>j.route.id).join(",")),[k.pathname+k.search]},[u,f,r,a,g,e,t,o]),E=O.useMemo(()=>g4(y,a),[y,a]),T=w4(y);return O.createElement(O.Fragment,null,_.map(w=>O.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),E.map(w=>O.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),T.map(({key:w,link:D})=>O.createElement("link",{key:w,...D})))}function R4(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var AR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{AR&&(window.__reactRouterVersion="7.6.2")}catch{}function C4(t,e){return dk({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:MM({window:e==null?void 0:e.window}),hydrationData:x4(),routes:t,mapRouteProperties:Qk,hydrationRouteProperties:Xk,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function x4(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:I4(t.errors)}),t}function I4(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,a]of e)if(a&&a.__type==="RouteErrorResponse")n[r]=new wd(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let u=new o(a.message);u.stack="",n[r]=u}catch{}}if(n[r]==null){let o=new Error(a.message);o.stack="",n[r]=o}}else n[r]=a;return n}var RR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zv=O.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:o,replace:u,state:f,target:d,to:g,preventScrollReset:y,viewTransition:_,...E},T){let{basename:w}=O.useContext(Gr),D=typeof g=="string"&&RR.test(g),k,j=!1;if(typeof g=="string"&&D&&(k=g,AR))try{let C=new URL(window.location.href),M=g.startsWith("//")?new URL(C.protocol+g):new URL(g),F=Xn(M.pathname,w);M.origin===C.origin&&F!=null?g=F+M.search+M.hash:j=!0}catch{kt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=Pk(g,{relative:a}),[G,ne,ee]=S4(r,E),B=P4(g,{replace:u,state:f,target:d,preventScrollReset:y,relative:a,viewTransition:_});function N(C){e&&e(C),C.defaultPrevented||B(C)}let x=O.createElement("a",{...E,...ee,href:k||W,onClick:j||o?e:N,ref:R4(T,ne),target:d,"data-discover":!D&&n==="render"?"true":void 0});return G&&!D?O.createElement(O.Fragment,null,x,O.createElement(T4,{page:W})):x});Zv.displayName="Link";var O4=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:o,to:u,viewTransition:f,children:d,...g},y){let _=ef(u,{relative:g.relative}),E=xi(),T=O.useContext(Jc),{navigator:w,basename:D}=O.useContext(Gr),k=T!=null&&U4(_)&&f===!0,j=w.encodeLocation?w.encodeLocation(_).pathname:_.pathname,W=E.pathname,G=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(W=W.toLowerCase(),G=G?G.toLowerCase():null,j=j.toLowerCase()),G&&D&&(G=Xn(G,D)||G);const ne=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let ee=W===j||!a&&W.startsWith(j)&&W.charAt(ne)==="/",B=G!=null&&(G===j||!a&&G.startsWith(j)&&G.charAt(j.length)==="/"),N={isActive:ee,isPending:B,isTransitioning:k},x=ee?e:void 0,C;typeof r=="function"?C=r(N):C=[r,ee?"active":null,B?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let M=typeof o=="function"?o(N):o;return O.createElement(Zv,{...g,"aria-current":x,className:C,ref:y,style:M,to:u,viewTransition:f},typeof d=="function"?d(N):d)});O4.displayName="NavLink";var D4=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:o,method:u=Xh,action:f,onSubmit:d,relative:g,preventScrollReset:y,viewTransition:_,...E},T)=>{let w=L4(),D=V4(f,{relative:g}),k=u.toLowerCase()==="get"?"get":"post",j=typeof f=="string"&&RR.test(f),W=G=>{if(d&&d(G),G.defaultPrevented)return;G.preventDefault();let ne=G.nativeEvent.submitter,ee=(ne==null?void 0:ne.getAttribute("formmethod"))||u;w(ne||G.currentTarget,{fetcherKey:e,method:ee,navigate:n,replace:a,state:o,relative:g,preventScrollReset:y,viewTransition:_})};return O.createElement("form",{ref:T,method:k,action:D,onSubmit:r?d:W,...E,"data-discover":!j&&t==="render"?"true":void 0})});D4.displayName="Form";function N4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CR(t){let e=O.useContext(So);return et(e,N4(t)),e}function P4(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:u}={}){let f=Ql(),d=xi(),g=ef(t,{relative:o});return O.useCallback(y=>{if(o4(y,e)){y.preventDefault();let _=n!==void 0?n:fs(d)===fs(g);f(t,{replace:_,state:r,preventScrollReset:a,relative:o,viewTransition:u})}},[d,f,g,n,r,e,t,a,o,u])}function Jv(t){kt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=O.useRef(My(t)),n=O.useRef(!1),r=xi(),a=O.useMemo(()=>l4(r.search,n.current?null:e.current),[r.search]),o=Ql(),u=O.useCallback((f,d)=>{const g=My(typeof f=="function"?f(a):f);n.current=!0,o("?"+g,d)},[o,a]);return[a,u]}var M4=0,k4=()=>`__${String(++M4)}__`;function L4(){let{router:t}=CR("useSubmit"),{basename:e}=O.useContext(Gr),n=qk();return O.useCallback(async(r,a={})=>{let{action:o,method:u,encType:f,formData:d,body:g}=f4(r,e);if(a.navigate===!1){let y=a.fetcherKey||k4();await t.fetch(y,n,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:g,formMethod:a.method||u,formEncType:a.encType||f,flushSync:a.flushSync})}else await t.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:g,formMethod:a.method||u,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function V4(t,{relative:e}={}){let{basename:n}=O.useContext(Gr),r=O.useContext(Kr);et(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...ef(t||".",{relative:e})},u=xi();if(t==null){o.search=u.search;let f=new URLSearchParams(o.search),d=f.getAll("index");if(d.some(y=>y==="")){f.delete("index"),d.filter(_=>_).forEach(_=>f.append("index",_));let y=f.toString();o.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Si([n,o.pathname])),fs(o)}function U4(t,e={}){let n=O.useContext(Gv);et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=CR("useViewTransitionState"),a=ef(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Xn(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Xn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Td(a.pathname,u)!=null||Td(a.pathname,o)!=null}[..._4];const j4=(t,e,n,r)=>{var o,u,f,d;const a=[n,{code:e,...r||{}}];if((u=(o=t==null?void 0:t.services)==null?void 0:o.logger)!=null&&u.forward)return t.services.logger.forward(a,"warn","react-i18next::",!0);lo(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),(d=(f=t==null?void 0:t.services)==null?void 0:f.logger)!=null&&d.warn?t.services.logger.warn(...a):console!=null&&console.warn&&console.warn(...a)},RS={},ky=(t,e,n,r)=>{lo(n)&&RS[n]||(lo(n)&&(RS[n]=new Date),j4(t,e,n,r))},xR=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},Ly=(t,e,n)=>{t.loadNamespaces(e,xR(t,n))},CS=(t,e,n,r)=>{if(lo(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return Ly(t,n,r);n.forEach(a=>{t.options.ns.indexOf(a)<0&&t.options.ns.push(a)}),t.loadLanguages(e,xR(t,r))},z4=(t,e,n={})=>!e.languages||!e.languages.length?(ky(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,a)=>{var o;if(((o=n.bindI18n)==null?void 0:o.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!a(r.isLanguageChangingTo,t))return!1}}),lo=t=>typeof t=="string",F4=t=>typeof t=="object"&&t!==null,B4=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,H4={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},q4=t=>H4[t],$4=t=>t.replace(B4,q4);let Vy={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:$4};const G4=(t={})=>{Vy={...Vy,...t}},K4=()=>Vy;let IR;const Y4=t=>{IR=t},Q4=()=>IR,X4={type:"3rdParty",init(t){G4(t.options.react),Y4(t)}},W4=O.createContext();class Z4{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const J4=(t,e)=>{const n=O.useRef();return O.useEffect(()=>{n.current=t},[t,e]),n.current},OR=(t,e,n,r)=>t.getFixedT(e,n,r),eL=(t,e,n,r)=>O.useCallback(OR(t,e,n,r),[t,e,n,r]),Ht=(t,e={})=>{var ne,ee,B,N;const{i18n:n}=e,{i18n:r,defaultNS:a}=O.useContext(W4)||{},o=n||r||Q4();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new Z4),!o){ky(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const x=(M,F)=>lo(F)?F:F4(F)&&lo(F.defaultValue)?F.defaultValue:Array.isArray(M)?M[M.length-1]:M,C=[x,{},!1];return C.t=x,C.i18n={},C.ready=!1,C}(ne=o.options.react)!=null&&ne.wait&&ky(o,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const u={...K4(),...o.options.react,...e},{useSuspense:f,keyPrefix:d}=u;let g=a||((ee=o.options)==null?void 0:ee.defaultNS);g=lo(g)?[g]:g||["translation"],(N=(B=o.reportNamespaces).addUsedNamespaces)==null||N.call(B,g);const y=(o.isInitialized||o.initializedStoreOnce)&&g.every(x=>z4(x,o,u)),_=eL(o,e.lng||null,u.nsMode==="fallback"?g:g[0],d),E=()=>_,T=()=>OR(o,e.lng||null,u.nsMode==="fallback"?g:g[0],d),[w,D]=O.useState(E);let k=g.join();e.lng&&(k=`${e.lng}${k}`);const j=J4(k),W=O.useRef(!0);O.useEffect(()=>{const{bindI18n:x,bindI18nStore:C}=u;W.current=!0,!y&&!f&&(e.lng?CS(o,e.lng,g,()=>{W.current&&D(T)}):Ly(o,g,()=>{W.current&&D(T)})),y&&j&&j!==k&&W.current&&D(T);const M=()=>{W.current&&D(T)};return x&&(o==null||o.on(x,M)),C&&(o==null||o.store.on(C,M)),()=>{W.current=!1,o&&(x==null||x.split(" ").forEach(F=>o.off(F,M))),C&&o&&C.split(" ").forEach(F=>o.store.off(F,M))}},[o,k]),O.useEffect(()=>{W.current&&y&&D(E)},[o,d,y]);const G=[w,o,y];if(G.t=w,G.i18n=o,G.ready=y,y||!y&&!f)return G;throw new Promise(x=>{e.lng?CS(o,e.lng,g,()=>x()):Ly(o,g,()=>x())})},tL="_BlockUI_1m4vb_1",nL={BlockUI:tL},rL=()=>I.jsx("div",{className:nL.BlockUI,children:I.jsx(CI,{size:"3x"})});O.memo(rL);const jt=Object.freeze({DEFAULT:"DEFAULT",DANGER:"DANGER",PRIMARY:"PRIMARY",SUCCESS:"SUCCESS"}),iL="_Button_1o78h_1",aL={Button:iL},sL=t=>{const{category:e=jt.DEFAULT,children:n,className:r="",icon:a=null,textOnly:o=!1,...u}=t;return I.jsxs("button",{className:`${aL.Button} ${r}`,"data-category":e,"data-text-only":o,"data-has-icon":a!=null,...u,children:[a,n]})},Dt=O.memo(sL),oL=t=>{const{deleteSongDialogFnsRef:e}=t,{t:n}=Ht();return I.jsx(I.Fragment,{children:I.jsx(Dt,{category:jt.DANGER,onClick:()=>{var r;return(r=e.current)==null?void 0:r.show()},children:n("Delete Song")})})},lL=O.memo(oL),uL="_NewNotesOption_1ax45_1",cL={NewNotesOption:uL},fL=t=>{const{notesFnsRef:e}=t,{t:n}=Ht(),r=O.useCallback(o=>{var u;(u=e.current)==null||u.addMultipleNotes(o)},[e]),a=O.useCallback(o=>{o.preventDefault(),r(+o.target.qty.value)},[r]);return I.jsxs("form",{className:cL.NewNotesOption,onSubmit:a,children:[I.jsx(oa,{label:n("New Notes"),field:I.jsx(la,{type:"number",name:"qty"})}),I.jsx(Dt,{category:jt.PRIMARY,children:n("Add")})]})},hL=O.memo(fL),dL="_NewPitchesOption_1vsl8_1",mL={NewPitchesOption:dL},gL=t=>{const{notesFnsRef:e}=t,{t:n}=Ht(),r=O.useCallback(o=>{var u;(u=e.current)==null||u.addMultiplePitches(o)},[e]),a=O.useCallback(o=>{o.preventDefault(),r(+o.target.qty.value)},[r]);return I.jsxs("form",{className:mL.NewPitchesOption,onSubmit:a,children:[I.jsx(oa,{label:n("New Pitches"),field:I.jsx(la,{type:"number",name:"qty"})}),I.jsx(Dt,{category:jt.PRIMARY,children:n("Add")})]})},pL=O.memo(gL),yL="_TrimOptions_ti9xd_1",vL={TrimOptions:yL},_L=t=>{const{notesFnsRef:e}=t,{t:n}=Ht(),r=O.useCallback(()=>{var u;(u=e.current)==null||u.trimPitches()},[e]),a=O.useCallback(()=>{var u;(u=e.current)==null||u.removeEmptyNotesAtTheEnd()},[e]),o=O.useCallback(()=>{a(),r()},[a,r]);return I.jsx("div",{className:vL.TrimOptions,children:I.jsx(Dt,{category:jt.DANGER,onClick:o,textOnly:!0,children:n("Trim Chart")})})},EL=O.memo(_L),bL="_ChartControllers_rba5f_1",SL="_Section_rba5f_7",Wp={ChartControllers:bL,Section:SL},TL=t=>{const{notesFnsRef:e,generateChartDialogFnsRef:n,deleteSongDialogFnsRef:r}=t,{t:a}=Ht();return I.jsxs("div",{className:Wp.ChartControllers,children:[I.jsxs("div",{className:Wp.Section,children:[I.jsx(hL,{notesFnsRef:e}),I.jsx(pL,{notesFnsRef:e}),I.jsx(EL,{notesFnsRef:e})]}),I.jsxs("div",{className:Wp.Section,children:[I.jsx(Dt,{category:jt.DANGER,onClick:()=>{var o;return(o=n.current)==null?void 0:o.show()},children:a("Generate mapping with lyrics")}),I.jsx(lL,{deleteSongDialogFnsRef:r})]})]})},wL=O.memo(TL),AL="_Checkbox_5pzbe_1",RL={Checkbox:AL},CL=t=>{const{label:e,initialValue:n,className:r="",onChange:a}=t,[o,u]=O.useState(n);return O.useEffect(()=>{a(o)},[o,a]),I.jsxs("label",{className:`${RL.Checkbox} ${r}`,children:[I.jsx("input",{type:"checkbox",checked:o,onChange:()=>{u(f=>!f)}}),I.jsx("span",{children:e})]})},xL=O.memo(CL),IL=t=>{const{bodyContent:e,footerContent:n}=t,{t:r}=Ht();return I.jsx(tf,{title:r("Confirmation"),bodyContent:e,footerContent:n})},DR=O.memo(IL),OL="_ContextMenu_ip4lh_1",DL="_ContextMenuItem_ip4lh_10",xS={ContextMenu:OL,ContextMenuItem:DL},NL=t=>{const{items:e,contextMenuFnsRef:n}=t,[r,a]=O.useState(null),o=O.useRef(null);return O.useImperativeHandle(n,()=>({setContextMenuData(u){a(u)}}),[]),O.useEffect(()=>{function u(f){o.current&&!o.current.contains(f.target)&&a(null)}return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[a,o]),r?I.jsx("div",{ref:o,className:xS.ContextMenu,style:{top:r==null?void 0:r.top,left:r==null?void 0:r.left},children:e.map(u=>I.jsx("span",{className:xS.ContextMenuItem,onClick:()=>{a(null),u.onClick(r)},"data-type":u.type,children:u.label},`item-${u.label}`))}):I.jsx(I.Fragment,{})},PL=O.memo(NL);var ML=iA();const kL="_DialogUIBlocker_ntqep_1",LL="_Dialog_ntqep_1",VL="_DialogHeader_ntqep_32",UL="_DialogBody_ntqep_37",jL="_DialogFooter_ntqep_46",ac={DialogUIBlocker:kL,Dialog:LL,DialogHeader:VL,DialogBody:UL,DialogFooter:jL},zL=t=>{const{bodyContent:e,footerContent:n,title:r,size:a=""}=t;return O.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}),[]),ML.createPortal(I.jsx("div",{className:ac.DialogUIBlocker,children:I.jsxs("div",{className:ac.Dialog,"data-size":a,children:[I.jsx("div",{className:ac.DialogHeader,children:I.jsx("h2",{children:r})}),I.jsx("div",{className:ac.DialogBody,children:e}),I.jsx("div",{className:ac.DialogFooter,children:n})]})}),document.body)},tf=O.memo(zL),FL=Object.freeze({LARGE:"LARGE"}),BL=(t,e)=>Object.keys(e).forEach(n=>{const{extraReducers:r=()=>null}=e[n];r(t)}),Nh=(t,e)=>Object.keys(t).map(n=>t[n][e]).reduce((n,r)=>({...n,...r}),{});function En(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var HL=typeof Symbol=="function"&&Symbol.observable||"@@observable",IS=HL,Zp=()=>Math.random().toString(36).substring(7).split("").join("."),qL={INIT:`@@redux/INIT${Zp()}`,REPLACE:`@@redux/REPLACE${Zp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Zp()}`},Rd=qL;function e_(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function NR(t,e,n){if(typeof t!="function")throw new Error(En(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(En(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(En(1));return n(NR)(t,e)}let r=t,a=e,o=new Map,u=o,f=0,d=!1;function g(){u===o&&(u=new Map,o.forEach((k,j)=>{u.set(j,k)}))}function y(){if(d)throw new Error(En(3));return a}function _(k){if(typeof k!="function")throw new Error(En(4));if(d)throw new Error(En(5));let j=!0;g();const W=f++;return u.set(W,k),function(){if(j){if(d)throw new Error(En(6));j=!1,g(),u.delete(W),o=null}}}function E(k){if(!e_(k))throw new Error(En(7));if(typeof k.type>"u")throw new Error(En(8));if(typeof k.type!="string")throw new Error(En(17));if(d)throw new Error(En(9));try{d=!0,a=r(a,k)}finally{d=!1}return(o=u).forEach(W=>{W()}),k}function T(k){if(typeof k!="function")throw new Error(En(10));r=k,E({type:Rd.REPLACE})}function w(){const k=_;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(En(11));function W(){const ne=j;ne.next&&ne.next(y())}return W(),{unsubscribe:k(W)}},[IS](){return this}}}return E({type:Rd.INIT}),{dispatch:E,subscribe:_,getState:y,replaceReducer:T,[IS]:w}}function $L(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Rd.INIT})>"u")throw new Error(En(12));if(typeof n(void 0,{type:Rd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(En(13))})}function GL(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const u=e[o];typeof t[u]=="function"&&(n[u]=t[u])}const r=Object.keys(n);let a;try{$L(n)}catch(o){a=o}return function(u={},f){if(a)throw a;let d=!1;const g={};for(let y=0;y<r.length;y++){const _=r[y],E=n[_],T=u[_],w=E(T,f);if(typeof w>"u")throw f&&f.type,new Error(En(14));g[_]=w,d=d||w!==T}return d=d||r.length!==Object.keys(u).length,d?g:u}}function Cd(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function KL(...t){return e=>(n,r)=>{const a=e(n,r);let o=()=>{throw new Error(En(15))};const u={getState:a.getState,dispatch:(d,...g)=>o(d,...g)},f=t.map(d=>d(u));return o=Cd(...f)(a.dispatch),{...a,dispatch:o}}}function YL(t){return e_(t)&&"type"in t&&typeof t.type=="string"}var PR=Symbol.for("immer-nothing"),OS=Symbol.for("immer-draftable"),cr=Symbol.for("immer-state");function Fr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var kl=Object.getPrototypeOf;function mo(t){return!!t&&!!t[cr]}function fa(t){var e;return t?MR(t)||Array.isArray(t)||!!t[OS]||!!((e=t.constructor)!=null&&e[OS])||sm(t)||om(t):!1}var QL=Object.prototype.constructor.toString();function MR(t){if(!t||typeof t!="object")return!1;const e=kl(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===QL}function xd(t,e){am(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function am(t){const e=t[cr];return e?e.type_:Array.isArray(t)?1:sm(t)?2:om(t)?3:0}function Uy(t,e){return am(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function kR(t,e,n){const r=am(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function XL(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function sm(t){return t instanceof Map}function om(t){return t instanceof Set}function no(t){return t.copy_||t.base_}function jy(t,e){if(sm(t))return new Map(t);if(om(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=MR(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[cr];let a=Reflect.ownKeys(r);for(let o=0;o<a.length;o++){const u=a[o],f=r[u];f.writable===!1&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(r[u]={configurable:!0,writable:!0,enumerable:f.enumerable,value:t[u]})}return Object.create(kl(t),r)}else{const r=kl(t);if(r!==null&&n)return{...t};const a=Object.create(r);return Object.assign(a,t)}}function t_(t,e=!1){return lm(t)||mo(t)||!fa(t)||(am(t)>1&&(t.set=t.add=t.clear=t.delete=WL),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>t_(r,!0))),t}function WL(){Fr(2)}function lm(t){return Object.isFrozen(t)}var ZL={};function go(t){const e=ZL[t];return e||Fr(0,t),e}var Nc;function LR(){return Nc}function JL(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function DS(t,e){e&&(go("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function zy(t){Fy(t),t.drafts_.forEach(e3),t.drafts_=null}function Fy(t){t===Nc&&(Nc=t.parent_)}function NS(t){return Nc=JL(Nc,t)}function e3(t){const e=t[cr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function PS(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[cr].modified_&&(zy(e),Fr(4)),fa(t)&&(t=Id(e,t),e.parent_||Od(e,t)),e.patches_&&go("Patches").generateReplacementPatches_(n[cr].base_,t,e.patches_,e.inversePatches_)):t=Id(e,n,[]),zy(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==PR?t:void 0}function Id(t,e,n){if(lm(e))return e;const r=e[cr];if(!r)return xd(e,(a,o)=>MS(t,r,e,a,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Od(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const a=r.copy_;let o=a,u=!1;r.type_===3&&(o=new Set(a),a.clear(),u=!0),xd(o,(f,d)=>MS(t,r,a,f,d,n,u)),Od(t,a,!1),n&&t.patches_&&go("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function MS(t,e,n,r,a,o,u){if(mo(a)){const f=o&&e&&e.type_!==3&&!Uy(e.assigned_,r)?o.concat(r):void 0,d=Id(t,a,f);if(kR(n,r,d),mo(d))t.canAutoFreeze_=!1;else return}else u&&n.add(a);if(fa(a)&&!lm(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Id(t,a),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Od(t,a)}}function Od(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&t_(e,n)}function t3(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:LR(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,o=n_;n&&(a=[r],o=Pc);const{revoke:u,proxy:f}=Proxy.revocable(a,o);return r.draft_=f,r.revoke_=u,f}var n_={get(t,e){if(e===cr)return t;const n=no(t);if(!Uy(n,e))return n3(t,n,e);const r=n[e];return t.finalized_||!fa(r)?r:r===Jp(t.base_,e)?(ey(t),t.copy_[e]=Hy(r,t)):r},has(t,e){return e in no(t)},ownKeys(t){return Reflect.ownKeys(no(t))},set(t,e,n){const r=VR(no(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=Jp(no(t),e),o=a==null?void 0:a[cr];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(XL(n,a)&&(n!==void 0||Uy(t.base_,e)))return!0;ey(t),By(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Jp(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,ey(t),By(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=no(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Fr(11)},getPrototypeOf(t){return kl(t.base_)},setPrototypeOf(){Fr(12)}},Pc={};xd(n_,(t,e)=>{Pc[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Pc.deleteProperty=function(t,e){return Pc.set.call(this,t,e,void 0)};Pc.set=function(t,e,n){return n_.set.call(this,t[0],e,n,t[0])};function Jp(t,e){const n=t[cr];return(n?no(n):t)[e]}function n3(t,e,n){var a;const r=VR(e,n);return r?"value"in r?r.value:(a=r.get)==null?void 0:a.call(t.draft_):void 0}function VR(t,e){if(!(e in t))return;let n=kl(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=kl(n)}}function By(t){t.modified_||(t.modified_=!0,t.parent_&&By(t.parent_))}function ey(t){t.copy_||(t.copy_=jy(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var r3=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const u=this;return function(d=o,...g){return u.produce(d,y=>n.call(this,y,...g))}}typeof n!="function"&&Fr(6),r!==void 0&&typeof r!="function"&&Fr(7);let a;if(fa(e)){const o=NS(this),u=Hy(e,void 0);let f=!0;try{a=n(u),f=!1}finally{f?zy(o):Fy(o)}return DS(o,r),PS(a,o)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===PR&&(a=void 0),this.autoFreeze_&&t_(a,!0),r){const o=[],u=[];go("Patches").generateReplacementPatches_(e,a,o,u),r(o,u)}return a}else Fr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(u,...f)=>this.produceWithPatches(u,d=>e(d,...f));let r,a;return[this.produce(e,n,(u,f)=>{r=u,a=f}),r,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){fa(t)||Fr(8),mo(t)&&(t=i3(t));const e=NS(this),n=Hy(t,void 0);return n[cr].isManual_=!0,Fy(e),n}finishDraft(t,e){const n=t&&t[cr];(!n||!n.isManual_)&&Fr(9);const{scope_:r}=n;return DS(r,e),PS(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const r=go("Patches").applyPatches_;return mo(t)?r(t,e):this.produce(t,a=>r(a,e))}};function Hy(t,e){const n=sm(t)?go("MapSet").proxyMap_(t,e):om(t)?go("MapSet").proxySet_(t,e):t3(t,e);return(e?e.scope_:LR()).drafts_.push(n),n}function i3(t){return mo(t)||Fr(10,t),UR(t)}function UR(t){if(!fa(t)||lm(t))return t;const e=t[cr];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=jy(t,e.scope_.immer_.useStrictShallowCopy_)}else n=jy(t,!0);return xd(n,(r,a)=>{kR(n,r,UR(a))}),e&&(e.finalized_=!1),n}var fr=new r3,jR=fr.produce;fr.produceWithPatches.bind(fr);fr.setAutoFreeze.bind(fr);fr.setUseStrictShallowCopy.bind(fr);fr.applyPatches.bind(fr);fr.createDraft.bind(fr);fr.finishDraft.bind(fr);function zR(t){return({dispatch:n,getState:r})=>a=>o=>typeof o=="function"?o(n,r,t):a(o)}var a3=zR(),s3=zR,o3=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Cd:Cd.apply(null,arguments)},l3=t=>t&&typeof t.match=="function";function _c(t,e){function n(...r){if(e){let a=e(...r);if(!a)throw new Error(aa(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>YL(r)&&r.type===t,n}var FR=class fc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,fc.prototype)}static get[Symbol.species](){return fc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new fc(...e[0].concat(this)):new fc(...e.concat(this))}};function kS(t){return fa(t)?jR(t,()=>{}):t}function Ph(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function u3(t){return typeof t=="boolean"}var c3=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:o=!0}=e??{};let u=new FR;return n&&(u3(n)?u.push(a3):u.push(s3(n.extraArgument))),u},f3="RTK_autoBatch",LS=t=>e=>{setTimeout(e,t)},h3=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let a=!0,o=!1,u=!1;const f=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:LS(10):t.type==="callback"?t.queueNotification:LS(t.timeout),g=()=>{u=!1,o&&(o=!1,f.forEach(y=>y()))};return Object.assign({},r,{subscribe(y){const _=()=>a&&y(),E=r.subscribe(_);return f.add(y),()=>{E(),f.delete(y)}},dispatch(y){var _;try{return a=!((_=y==null?void 0:y.meta)!=null&&_[f3]),o=!a,o&&(u||(u=!0,d(g))),r.dispatch(y)}finally{a=!0}}})},d3=t=>function(n){const{autoBatch:r=!0}=n??{};let a=new FR(t);return r&&a.push(h3(typeof r=="object"?r:void 0)),a};function m3(t){const e=c3(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:o=void 0,enhancers:u=void 0}=t||{};let f;if(typeof n=="function")f=n;else if(e_(n))f=GL(n);else throw new Error(aa(1));let d;typeof r=="function"?d=r(e):d=e();let g=Cd;a&&(g=o3({trace:!1,...typeof a=="object"&&a}));const y=KL(...d),_=d3(y);let E=typeof u=="function"?u(_):_();const T=g(...E);return NR(f,o,T)}function BR(t){const e={},n=[];let r;const a={addCase(o,u){const f=typeof o=="string"?o:o.type;if(!f)throw new Error(aa(28));if(f in e)throw new Error(aa(29));return e[f]=u,a},addMatcher(o,u){return n.push({matcher:o,reducer:u}),a},addDefaultCase(o){return r=o,a}};return t(a),[e,n,r]}function g3(t){return typeof t=="function"}function p3(t,e){let[n,r,a]=BR(e),o;if(g3(t))o=()=>kS(t());else{const f=kS(t);o=()=>f}function u(f=o(),d){let g=[n[d.type],...r.filter(({matcher:y})=>y(d)).map(({reducer:y})=>y)];return g.filter(y=>!!y).length===0&&(g=[a]),g.reduce((y,_)=>{if(_)if(mo(y)){const T=_(y,d);return T===void 0?y:T}else{if(fa(y))return jR(y,E=>_(E,d));{const E=_(y,d);if(E===void 0){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return E}}return y},f)}return u.getInitialState=o,u}var y3=(t,e)=>l3(t)?t.match(e):t(e);function r_(...t){return e=>t.some(n=>y3(n,e))}function HR(t,e){if(!t||!t.meta)return!1;const n=typeof t.meta.requestId=="string",r=e.indexOf(t.meta.requestStatus)>-1;return n&&r}function qR(t){return typeof t[0]=="function"&&"pending"in t[0]&&"fulfilled"in t[0]&&"rejected"in t[0]}function $R(...t){return t.length===0?e=>HR(e,["rejected"]):qR(t)?r_(...t.map(e=>e.rejected)):$R()(t[0])}function GR(...t){return t.length===0?e=>HR(e,["fulfilled"]):qR(t)?r_(...t.map(e=>e.fulfilled)):GR()(t[0])}var v3="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",_3=(t=21)=>{let e="",n=t;for(;n--;)e+=v3[Math.random()*64|0];return e},E3=["name","message","stack","code"],ty=class{constructor(t,e){xp(this,"_type");this.payload=t,this.meta=e}},VS=class{constructor(t,e){xp(this,"_type");this.payload=t,this.meta=e}},b3=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of E3)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},US="External signal was aborted",As=(()=>{function t(e,n,r){const a=_c(e+"/fulfilled",(d,g,y,_)=>({payload:d,meta:{..._||{},arg:y,requestId:g,requestStatus:"fulfilled"}})),o=_c(e+"/pending",(d,g,y)=>({payload:void 0,meta:{...y||{},arg:g,requestId:d,requestStatus:"pending"}})),u=_c(e+"/rejected",(d,g,y,_,E)=>({payload:_,error:(r&&r.serializeError||b3)(d||"Rejected"),meta:{...E||{},arg:y,requestId:g,rejectedWithValue:!!_,requestStatus:"rejected",aborted:(d==null?void 0:d.name)==="AbortError",condition:(d==null?void 0:d.name)==="ConditionError"}}));function f(d,{signal:g}={}){return(y,_,E)=>{const T=r!=null&&r.idGenerator?r.idGenerator(d):_3(),w=new AbortController;let D,k;function j(G){k=G,w.abort()}g&&(g.aborted?j(US):g.addEventListener("abort",()=>j(US),{once:!0}));const W=async function(){var ee,B;let G;try{let N=(ee=r==null?void 0:r.condition)==null?void 0:ee.call(r,d,{getState:_,extra:E});if(T3(N)&&(N=await N),N===!1||w.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const x=new Promise((C,M)=>{D=()=>{M({name:"AbortError",message:k||"Aborted"})},w.signal.addEventListener("abort",D)});y(o(T,d,(B=r==null?void 0:r.getPendingMeta)==null?void 0:B.call(r,{requestId:T,arg:d},{getState:_,extra:E}))),G=await Promise.race([x,Promise.resolve(n(d,{dispatch:y,getState:_,extra:E,requestId:T,signal:w.signal,abort:j,rejectWithValue:(C,M)=>new ty(C,M),fulfillWithValue:(C,M)=>new VS(C,M)})).then(C=>{if(C instanceof ty)throw C;return C instanceof VS?a(C.payload,T,d,C.meta):a(C,T,d)})])}catch(N){G=N instanceof ty?u(null,T,d,N.payload,N.meta):u(N,T,d)}finally{D&&w.signal.removeEventListener("abort",D)}return r&&!r.dispatchConditionRejection&&u.match(G)&&G.meta.condition||y(G),G}();return Object.assign(W,{abort:j,requestId:T,arg:d,unwrap(){return W.then(S3)}})}}return Object.assign(f,{pending:o,rejected:u,fulfilled:a,settled:r_(u,a),typePrefix:e})}return t.withTypes=()=>t,t})();function S3(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function T3(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var w3=Symbol.for("rtk-slice-createasyncthunk");function A3(t,e){return`${t}/${e}`}function R3({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[w3];return function(a){const{name:o,reducerPath:u=o}=a;if(!o)throw new Error(aa(11));const f=(typeof a.reducers=="function"?a.reducers(I3()):a.reducers)||{},d=Object.keys(f),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},y={addCase(ne,ee){const B=typeof ne=="string"?ne:ne.type;if(!B)throw new Error(aa(12));if(B in g.sliceCaseReducersByType)throw new Error(aa(13));return g.sliceCaseReducersByType[B]=ee,y},addMatcher(ne,ee){return g.sliceMatchers.push({matcher:ne,reducer:ee}),y},exposeAction(ne,ee){return g.actionCreators[ne]=ee,y},exposeCaseReducer(ne,ee){return g.sliceCaseReducersByName[ne]=ee,y}};d.forEach(ne=>{const ee=f[ne],B={reducerName:ne,type:A3(o,ne),createNotation:typeof a.reducers=="function"};D3(ee)?P3(B,ee,y,e):O3(B,ee,y)});function _(){const[ne={},ee=[],B=void 0]=typeof a.extraReducers=="function"?BR(a.extraReducers):[a.extraReducers],N={...ne,...g.sliceCaseReducersByType};return p3(a.initialState,x=>{for(let C in N)x.addCase(C,N[C]);for(let C of g.sliceMatchers)x.addMatcher(C.matcher,C.reducer);for(let C of ee)x.addMatcher(C.matcher,C.reducer);B&&x.addDefaultCase(B)})}const E=ne=>ne,T=new Map,w=new WeakMap;let D;function k(ne,ee){return D||(D=_()),D(ne,ee)}function j(){return D||(D=_()),D.getInitialState()}function W(ne,ee=!1){function B(x){let C=x[ne];return typeof C>"u"&&ee&&(C=Ph(w,B,j)),C}function N(x=E){const C=Ph(T,ee,()=>new WeakMap);return Ph(C,x,()=>{const M={};for(const[F,U]of Object.entries(a.selectors??{}))M[F]=C3(U,x,()=>Ph(w,x,j),ee);return M})}return{reducerPath:ne,getSelectors:N,get selectors(){return N(B)},selectSlice:B}}const G={name:o,reducer:k,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:j,...W(u),injectInto(ne,{reducerPath:ee,...B}={}){const N=ee??u;return ne.inject({reducerPath:N,reducer:k},B),{...G,...W(N,!0)}}};return G}}function C3(t,e,n,r){function a(o,...u){let f=e(o);return typeof f>"u"&&r&&(f=n()),t(f,...u)}return a.unwrapped=t,a}var x3=R3();function I3(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function O3({type:t,reducerName:e,createNotation:n},r,a){let o,u;if("reducer"in r){if(n&&!N3(r))throw new Error(aa(17));o=r.reducer,u=r.prepare}else o=r;a.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,u?_c(t,u):_c(t))}function D3(t){return t._reducerDefinitionType==="asyncThunk"}function N3(t){return t._reducerDefinitionType==="reducerWithPrepare"}function P3({type:t,reducerName:e},n,r,a){if(!a)throw new Error(aa(18));const{payloadCreator:o,fulfilled:u,pending:f,rejected:d,settled:g,options:y}=n,_=a(t,o,y);r.exposeAction(e,_),u&&r.addCase(_.fulfilled,u),f&&r.addCase(_.pending,f),d&&r.addCase(_.rejected,d),g&&r.addMatcher(_.settled,g),r.exposeCaseReducer(e,{fulfilled:u||Mh,pending:f||Mh,rejected:d||Mh,settled:g||Mh})}function Mh(){}function aa(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const kh=Object.freeze({INITIAL_STATE:"initialState",ASYNC_THUNK:"asyncThunk",REDUCERS:"reducers",EXTRA_REDUCERS:"extraReducers",SELECTORS:"selectors"}),i_=t=>{const{sliceName:e,sliceParts:n}=t,r=Nh(n,kh.INITIAL_STATE),a=x3({name:e,initialState:r,reducers:Nh(n,kh.REDUCERS),extraReducers(f){BL(f,n)}}),o={...a.actions,...Nh(n,kh.ASYNC_THUNK)},u={...Nh(n,kh.SELECTORS)};return{reducer:a.reducer,actions:o,selectors:u}},M3="growl",k3={growls:[]},L3={addGrowl:(t,e)=>{t.growls.push(e.payload)},removeGrowl:(t,e)=>{t.growls=t.growls.filter(n=>n.id!==e.payload)},clearAllGrowls:t=>{t.growls=[]}},V3={selectAllGrowls:t=>t.growls.growls},U3={initialState:k3,reducers:L3,selectors:V3},j3=Object.freeze(Object.defineProperty({__proto__:null,Growl:U3},Symbol.toStringTag,{value:"Module"})),Mc=i_({sliceName:M3,sliceParts:j3}),nf="songs",Ye=Object.freeze({IDLE:"idle",LOADING:"loading",SUCCEEDED:"succeeded",FAILED:"failed"});var z3="firebase",F3="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ss(z3,F3,"app");const B3={apiKey:"AIzaSyCrUUG-1lrbf5iZXLtswHQTa9H-7wb8bho",authDomain:"melo-chart.firebaseapp.com",projectId:"melo-chart",storageBucket:"melo-chart.firebasestorage.app",messagingSenderId:"218674893122",appId:"1:218674893122:web:5669423f50d704d8ad38db"},a_=yA(B3),um=IM(a_),H3=async(t,e)=>{const{user:n}=await mP(um,t,e);return n},q3=async()=>{await vP(um)},$3=async(t,e)=>{const{user:n}=await dP(um,t,e);return n},G3=Object.freeze(Object.defineProperty({__proto__:null,auth:um,signIn:H3,signOut:q3,signUp:$3},Symbol.toStringTag,{value:"Module"}));var jS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var os,KR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,x){function C(){}C.prototype=x.prototype,N.D=x.prototype,N.prototype=new C,N.prototype.constructor=N,N.C=function(M,F,U){for(var P=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)P[Se-2]=arguments[Se];return x.prototype[F].apply(M,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,x,C){C||(C=0);var M=Array(16);if(typeof x=="string")for(var F=0;16>F;++F)M[F]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(F=0;16>F;++F)M[F]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=N.g[0],C=N.g[1],F=N.g[2];var U=N.g[3],P=x+(U^C&(F^U))+M[0]+3614090360&4294967295;x=C+(P<<7&4294967295|P>>>25),P=U+(F^x&(C^F))+M[1]+3905402710&4294967295,U=x+(P<<12&4294967295|P>>>20),P=F+(C^U&(x^C))+M[2]+606105819&4294967295,F=U+(P<<17&4294967295|P>>>15),P=C+(x^F&(U^x))+M[3]+3250441966&4294967295,C=F+(P<<22&4294967295|P>>>10),P=x+(U^C&(F^U))+M[4]+4118548399&4294967295,x=C+(P<<7&4294967295|P>>>25),P=U+(F^x&(C^F))+M[5]+1200080426&4294967295,U=x+(P<<12&4294967295|P>>>20),P=F+(C^U&(x^C))+M[6]+2821735955&4294967295,F=U+(P<<17&4294967295|P>>>15),P=C+(x^F&(U^x))+M[7]+4249261313&4294967295,C=F+(P<<22&4294967295|P>>>10),P=x+(U^C&(F^U))+M[8]+1770035416&4294967295,x=C+(P<<7&4294967295|P>>>25),P=U+(F^x&(C^F))+M[9]+2336552879&4294967295,U=x+(P<<12&4294967295|P>>>20),P=F+(C^U&(x^C))+M[10]+4294925233&4294967295,F=U+(P<<17&4294967295|P>>>15),P=C+(x^F&(U^x))+M[11]+2304563134&4294967295,C=F+(P<<22&4294967295|P>>>10),P=x+(U^C&(F^U))+M[12]+1804603682&4294967295,x=C+(P<<7&4294967295|P>>>25),P=U+(F^x&(C^F))+M[13]+4254626195&4294967295,U=x+(P<<12&4294967295|P>>>20),P=F+(C^U&(x^C))+M[14]+2792965006&4294967295,F=U+(P<<17&4294967295|P>>>15),P=C+(x^F&(U^x))+M[15]+1236535329&4294967295,C=F+(P<<22&4294967295|P>>>10),P=x+(F^U&(C^F))+M[1]+4129170786&4294967295,x=C+(P<<5&4294967295|P>>>27),P=U+(C^F&(x^C))+M[6]+3225465664&4294967295,U=x+(P<<9&4294967295|P>>>23),P=F+(x^C&(U^x))+M[11]+643717713&4294967295,F=U+(P<<14&4294967295|P>>>18),P=C+(U^x&(F^U))+M[0]+3921069994&4294967295,C=F+(P<<20&4294967295|P>>>12),P=x+(F^U&(C^F))+M[5]+3593408605&4294967295,x=C+(P<<5&4294967295|P>>>27),P=U+(C^F&(x^C))+M[10]+38016083&4294967295,U=x+(P<<9&4294967295|P>>>23),P=F+(x^C&(U^x))+M[15]+3634488961&4294967295,F=U+(P<<14&4294967295|P>>>18),P=C+(U^x&(F^U))+M[4]+3889429448&4294967295,C=F+(P<<20&4294967295|P>>>12),P=x+(F^U&(C^F))+M[9]+568446438&4294967295,x=C+(P<<5&4294967295|P>>>27),P=U+(C^F&(x^C))+M[14]+3275163606&4294967295,U=x+(P<<9&4294967295|P>>>23),P=F+(x^C&(U^x))+M[3]+4107603335&4294967295,F=U+(P<<14&4294967295|P>>>18),P=C+(U^x&(F^U))+M[8]+1163531501&4294967295,C=F+(P<<20&4294967295|P>>>12),P=x+(F^U&(C^F))+M[13]+2850285829&4294967295,x=C+(P<<5&4294967295|P>>>27),P=U+(C^F&(x^C))+M[2]+4243563512&4294967295,U=x+(P<<9&4294967295|P>>>23),P=F+(x^C&(U^x))+M[7]+1735328473&4294967295,F=U+(P<<14&4294967295|P>>>18),P=C+(U^x&(F^U))+M[12]+2368359562&4294967295,C=F+(P<<20&4294967295|P>>>12),P=x+(C^F^U)+M[5]+4294588738&4294967295,x=C+(P<<4&4294967295|P>>>28),P=U+(x^C^F)+M[8]+2272392833&4294967295,U=x+(P<<11&4294967295|P>>>21),P=F+(U^x^C)+M[11]+1839030562&4294967295,F=U+(P<<16&4294967295|P>>>16),P=C+(F^U^x)+M[14]+4259657740&4294967295,C=F+(P<<23&4294967295|P>>>9),P=x+(C^F^U)+M[1]+2763975236&4294967295,x=C+(P<<4&4294967295|P>>>28),P=U+(x^C^F)+M[4]+1272893353&4294967295,U=x+(P<<11&4294967295|P>>>21),P=F+(U^x^C)+M[7]+4139469664&4294967295,F=U+(P<<16&4294967295|P>>>16),P=C+(F^U^x)+M[10]+3200236656&4294967295,C=F+(P<<23&4294967295|P>>>9),P=x+(C^F^U)+M[13]+681279174&4294967295,x=C+(P<<4&4294967295|P>>>28),P=U+(x^C^F)+M[0]+3936430074&4294967295,U=x+(P<<11&4294967295|P>>>21),P=F+(U^x^C)+M[3]+3572445317&4294967295,F=U+(P<<16&4294967295|P>>>16),P=C+(F^U^x)+M[6]+76029189&4294967295,C=F+(P<<23&4294967295|P>>>9),P=x+(C^F^U)+M[9]+3654602809&4294967295,x=C+(P<<4&4294967295|P>>>28),P=U+(x^C^F)+M[12]+3873151461&4294967295,U=x+(P<<11&4294967295|P>>>21),P=F+(U^x^C)+M[15]+530742520&4294967295,F=U+(P<<16&4294967295|P>>>16),P=C+(F^U^x)+M[2]+3299628645&4294967295,C=F+(P<<23&4294967295|P>>>9),P=x+(F^(C|~U))+M[0]+4096336452&4294967295,x=C+(P<<6&4294967295|P>>>26),P=U+(C^(x|~F))+M[7]+1126891415&4294967295,U=x+(P<<10&4294967295|P>>>22),P=F+(x^(U|~C))+M[14]+2878612391&4294967295,F=U+(P<<15&4294967295|P>>>17),P=C+(U^(F|~x))+M[5]+4237533241&4294967295,C=F+(P<<21&4294967295|P>>>11),P=x+(F^(C|~U))+M[12]+1700485571&4294967295,x=C+(P<<6&4294967295|P>>>26),P=U+(C^(x|~F))+M[3]+2399980690&4294967295,U=x+(P<<10&4294967295|P>>>22),P=F+(x^(U|~C))+M[10]+4293915773&4294967295,F=U+(P<<15&4294967295|P>>>17),P=C+(U^(F|~x))+M[1]+2240044497&4294967295,C=F+(P<<21&4294967295|P>>>11),P=x+(F^(C|~U))+M[8]+1873313359&4294967295,x=C+(P<<6&4294967295|P>>>26),P=U+(C^(x|~F))+M[15]+4264355552&4294967295,U=x+(P<<10&4294967295|P>>>22),P=F+(x^(U|~C))+M[6]+2734768916&4294967295,F=U+(P<<15&4294967295|P>>>17),P=C+(U^(F|~x))+M[13]+1309151649&4294967295,C=F+(P<<21&4294967295|P>>>11),P=x+(F^(C|~U))+M[4]+4149444226&4294967295,x=C+(P<<6&4294967295|P>>>26),P=U+(C^(x|~F))+M[11]+3174756917&4294967295,U=x+(P<<10&4294967295|P>>>22),P=F+(x^(U|~C))+M[2]+718787259&4294967295,F=U+(P<<15&4294967295|P>>>17),P=C+(U^(F|~x))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+x&4294967295,N.g[1]=N.g[1]+(F+(P<<21&4294967295|P>>>11))&4294967295,N.g[2]=N.g[2]+F&4294967295,N.g[3]=N.g[3]+U&4294967295}r.prototype.u=function(N,x){x===void 0&&(x=N.length);for(var C=x-this.blockSize,M=this.B,F=this.h,U=0;U<x;){if(F==0)for(;U<=C;)a(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<x;)if(M[F++]=N.charCodeAt(U++),F==this.blockSize){a(this,M),F=0;break}}else for(;U<x;)if(M[F++]=N[U++],F==this.blockSize){a(this,M),F=0;break}}this.h=F,this.o+=x},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var x=1;x<N.length-8;++x)N[x]=0;var C=8*this.o;for(x=N.length-8;x<N.length;++x)N[x]=C&255,C/=256;for(this.u(N),N=Array(16),x=C=0;4>x;++x)for(var M=0;32>M;M+=8)N[C++]=this.g[x]>>>M&255;return N};function o(N,x){var C=f;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=x(N)}function u(N,x){this.h=x;for(var C=[],M=!0,F=N.length-1;0<=F;F--){var U=N[F]|0;M&&U==x||(C[F]=U,M=!1)}this.g=C}var f={};function d(N){return-128<=N&&128>N?o(N,function(x){return new u([x|0],0>x?-1:0)}):new u([N|0],0>N?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return _;if(0>N)return k(g(-N));for(var x=[],C=1,M=0;N>=C;M++)x[M]=N/C|0,C*=4294967296;return new u(x,0)}function y(N,x){if(N.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(N.charAt(0)=="-")return k(y(N.substring(1),x));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(x,8)),M=_,F=0;F<N.length;F+=8){var U=Math.min(8,N.length-F),P=parseInt(N.substring(F,F+U),x);8>U?(U=g(Math.pow(x,U)),M=M.j(U).add(g(P))):(M=M.j(C),M=M.add(g(P)))}return M}var _=d(0),E=d(1),T=d(16777216);t=u.prototype,t.m=function(){if(D(this))return-k(this).m();for(var N=0,x=1,C=0;C<this.g.length;C++){var M=this.i(C);N+=(0<=M?M:4294967296+M)*x,x*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(w(this))return"0";if(D(this))return"-"+k(this).toString(N);for(var x=g(Math.pow(N,6)),C=this,M="";;){var F=ne(C,x).g;C=j(C,F.j(x));var U=((0<C.g.length?C.g[0]:C.h)>>>0).toString(N);if(C=F,w(C))return U+M;for(;6>U.length;)U="0"+U;M=U+M}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function w(N){if(N.h!=0)return!1;for(var x=0;x<N.g.length;x++)if(N.g[x]!=0)return!1;return!0}function D(N){return N.h==-1}t.l=function(N){return N=j(this,N),D(N)?-1:w(N)?0:1};function k(N){for(var x=N.g.length,C=[],M=0;M<x;M++)C[M]=~N.g[M];return new u(C,~N.h).add(E)}t.abs=function(){return D(this)?k(this):this},t.add=function(N){for(var x=Math.max(this.g.length,N.g.length),C=[],M=0,F=0;F<=x;F++){var U=M+(this.i(F)&65535)+(N.i(F)&65535),P=(U>>>16)+(this.i(F)>>>16)+(N.i(F)>>>16);M=P>>>16,U&=65535,P&=65535,C[F]=P<<16|U}return new u(C,C[C.length-1]&-2147483648?-1:0)};function j(N,x){return N.add(k(x))}t.j=function(N){if(w(this)||w(N))return _;if(D(this))return D(N)?k(this).j(k(N)):k(k(this).j(N));if(D(N))return k(this.j(k(N)));if(0>this.l(T)&&0>N.l(T))return g(this.m()*N.m());for(var x=this.g.length+N.g.length,C=[],M=0;M<2*x;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(var F=0;F<N.g.length;F++){var U=this.i(M)>>>16,P=this.i(M)&65535,Se=N.i(F)>>>16,Ue=N.i(F)&65535;C[2*M+2*F]+=P*Ue,W(C,2*M+2*F),C[2*M+2*F+1]+=U*Ue,W(C,2*M+2*F+1),C[2*M+2*F+1]+=P*Se,W(C,2*M+2*F+1),C[2*M+2*F+2]+=U*Se,W(C,2*M+2*F+2)}for(M=0;M<x;M++)C[M]=C[2*M+1]<<16|C[2*M];for(M=x;M<2*x;M++)C[M]=0;return new u(C,0)};function W(N,x){for(;(N[x]&65535)!=N[x];)N[x+1]+=N[x]>>>16,N[x]&=65535,x++}function G(N,x){this.g=N,this.h=x}function ne(N,x){if(w(x))throw Error("division by zero");if(w(N))return new G(_,_);if(D(N))return x=ne(k(N),x),new G(k(x.g),k(x.h));if(D(x))return x=ne(N,k(x)),new G(k(x.g),x.h);if(30<N.g.length){if(D(N)||D(x))throw Error("slowDivide_ only works with positive integers.");for(var C=E,M=x;0>=M.l(N);)C=ee(C),M=ee(M);var F=B(C,1),U=B(M,1);for(M=B(M,2),C=B(C,2);!w(M);){var P=U.add(M);0>=P.l(N)&&(F=F.add(C),U=P),M=B(M,1),C=B(C,1)}return x=j(N,F.j(x)),new G(F,x)}for(F=_;0<=N.l(x);){for(C=Math.max(1,Math.floor(N.m()/x.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),U=g(C),P=U.j(x);D(P)||0<P.l(N);)C-=M,U=g(C),P=U.j(x);w(U)&&(U=E),F=F.add(U),N=j(N,P)}return new G(F,N)}t.A=function(N){return ne(this,N).h},t.and=function(N){for(var x=Math.max(this.g.length,N.g.length),C=[],M=0;M<x;M++)C[M]=this.i(M)&N.i(M);return new u(C,this.h&N.h)},t.or=function(N){for(var x=Math.max(this.g.length,N.g.length),C=[],M=0;M<x;M++)C[M]=this.i(M)|N.i(M);return new u(C,this.h|N.h)},t.xor=function(N){for(var x=Math.max(this.g.length,N.g.length),C=[],M=0;M<x;M++)C[M]=this.i(M)^N.i(M);return new u(C,this.h^N.h)};function ee(N){for(var x=N.g.length+1,C=[],M=0;M<x;M++)C[M]=N.i(M)<<1|N.i(M-1)>>>31;return new u(C,N.h)}function B(N,x){var C=x>>5;x%=32;for(var M=N.g.length-C,F=[],U=0;U<M;U++)F[U]=0<x?N.i(U+C)>>>x|N.i(U+C+1)<<32-x:N.i(U+C);return new u(F,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,KR=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=y,os=u}).apply(typeof jS<"u"?jS:typeof self<"u"?self:typeof window<"u"?window:{});var Lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YR,hc,QR,Zh,qy,XR,WR,ZR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,b){return h==Array.prototype||h==Object.prototype||(h[v]=b.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lh=="object"&&Lh];for(var v=0;v<h.length;++v){var b=h[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function a(h,v){if(v)e:{var b=r;h=h.split(".");for(var R=0;R<h.length-1;R++){var K=h[R];if(!(K in b))break e;b=b[K]}h=h[h.length-1],R=b[h],v=v(R),v!=R&&v!=null&&e(b,h,{configurable:!0,writable:!0,value:v})}}function o(h,v){h instanceof String&&(h+="");var b=0,R=!1,K={next:function(){if(!R&&b<h.length){var re=b++;return{value:v(re,h[re]),done:!1}}return R=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}a("Array.prototype.values",function(h){return h||function(){return o(this,function(v,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function d(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function g(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,b){return h.call.apply(h.bind,arguments)}function _(h,v,b){if(!h)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,R),h.apply(v,K)}}return function(){return h.apply(v,arguments)}}function E(h,v,b){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,E.apply(null,arguments)}function T(h,v){var b=Array.prototype.slice.call(arguments,1);return function(){var R=b.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function w(h,v){function b(){}b.prototype=v.prototype,h.aa=v.prototype,h.prototype=new b,h.prototype.constructor=h,h.Qb=function(R,K,re){for(var pe=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)pe[lt-2]=arguments[lt];return v.prototype[K].apply(R,pe)}}function D(h){const v=h.length;if(0<v){const b=Array(v);for(let R=0;R<v;R++)b[R]=h[R];return b}return[]}function k(h,v){for(let b=1;b<arguments.length;b++){const R=arguments[b];if(d(R)){const K=h.length||0,re=R.length||0;h.length=K+re;for(let pe=0;pe<re;pe++)h[K+pe]=R[pe]}else h.push(R)}}class j{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function W(h){return/^[\s\xa0]*$/.test(h)}function G(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function ne(h){return ne[" "](h),h}ne[" "]=function(){};var ee=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function B(h,v,b){for(const R in h)v.call(b,h[R],R,h)}function N(h,v){for(const b in h)v.call(void 0,h[b],b,h)}function x(h){const v={};for(const b in h)v[b]=h[b];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(h,v){let b,R;for(let K=1;K<arguments.length;K++){R=arguments[K];for(b in R)h[b]=R[b];for(let re=0;re<C.length;re++)b=C[re],Object.prototype.hasOwnProperty.call(R,b)&&(h[b]=R[b])}}function F(h){var v=1;h=h.split(":");const b=[];for(;0<v&&h.length;)b.push(h.shift()),v--;return h.length&&b.push(h.join(":")),b}function U(h){f.setTimeout(()=>{throw h},0)}function P(){var h=Oe;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Se{constructor(){this.h=this.g=null}add(v,b){const R=Ue.get();R.set(v,b),this.h?this.h.next=R:this.g=R,this.h=R}}var Ue=new j(()=>new Y,h=>h.reset());class Y{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let he,ye=!1,Oe=new Se,V=()=>{const h=f.Promise.resolve(void 0);he=()=>{h.then(ie)}};var ie=()=>{for(var h;h=P();){try{h.h.call(h.g)}catch(b){U(b)}var v=Ue;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ye=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};f.addEventListener("test",b,v),f.removeEventListener("test",b,v)}catch{}return h}();function Be(h,v){if(oe.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var b=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(ee){e:{try{ne(v.nodeName);var K=!0;break e}catch{}K=!1}K||(v=null)}}else b=="mouseover"?v=h.fromElement:b=="mouseout"&&(v=h.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:De[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Be.aa.h.call(this)}}w(Be,oe);var De={2:"touch",3:"pen",4:"mouse"};Be.prototype.h=function(){Be.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var qt="closure_listenable_"+(1e6*Math.random()|0),bt=0;function dr(h,v,b,R,K){this.listener=h,this.proxy=null,this.src=v,this.type=b,this.capture=!!R,this.ha=K,this.key=++bt,this.da=this.fa=!1}function Nt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function wn(h){this.src=h,this.g={},this.h=0}wn.prototype.add=function(h,v,b,R,K){var re=h.toString();h=this.g[re],h||(h=this.g[re]=[],this.h++);var pe=Oi(h,v,R,K);return-1<pe?(v=h[pe],b||(v.fa=!1)):(v=new dr(v,this.src,re,!!R,K),v.fa=b,h.push(v)),v};function Qr(h,v){var b=v.type;if(b in h.g){var R=h.g[b],K=Array.prototype.indexOf.call(R,v,void 0),re;(re=0<=K)&&Array.prototype.splice.call(R,K,1),re&&(Nt(v),h.g[b].length==0&&(delete h.g[b],h.h--))}}function Oi(h,v,b,R){for(var K=0;K<h.length;++K){var re=h[K];if(!re.da&&re.listener==v&&re.capture==!!b&&re.ha==R)return K}return-1}var Mn="closure_lm_"+(1e6*Math.random()|0),Rs={};function Io(h,v,b,R,K){if(Array.isArray(v)){for(var re=0;re<v.length;re++)Io(h,v[re],b,R,K);return null}return b=ba(b),h&&h[qt]?h.K(v,b,g(R)?!!R.capture:!1,K):kn(h,v,b,!1,R,K)}function kn(h,v,b,R,K,re){if(!v)throw Error("Invalid event type");var pe=g(K)?!!K.capture:!!K,lt=mr(h);if(lt||(h[Mn]=lt=new wn(h)),b=lt.add(v,b,R,pe,re),b.proxy)return b;if(R=nu(),b.proxy=R,R.src=h,R.listener=b,h.addEventListener)Te||(K=pe),K===void 0&&(K=!1),h.addEventListener(v.toString(),R,K);else if(h.attachEvent)h.attachEvent(Di(v.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return b}function nu(){function h(b){return v.call(h.src,h.listener,b)}const v=kr;return h}function Cs(h,v,b,R,K){if(Array.isArray(v))for(var re=0;re<v.length;re++)Cs(h,v[re],b,R,K);else R=g(R)?!!R.capture:!!R,b=ba(b),h&&h[qt]?(h=h.i,v=String(v).toString(),v in h.g&&(re=h.g[v],b=Oi(re,b,R,K),-1<b&&(Nt(re[b]),Array.prototype.splice.call(re,b,1),re.length==0&&(delete h.g[v],h.h--)))):h&&(h=mr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Oi(v,b,R,K)),(b=-1<h?v[h]:null)&&_a(b))}function _a(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[qt])Qr(v.i,h);else{var b=h.type,R=h.proxy;v.removeEventListener?v.removeEventListener(b,R,h.capture):v.detachEvent?v.detachEvent(Di(b),R):v.addListener&&v.removeListener&&v.removeListener(R),(b=mr(v))?(Qr(b,h),b.h==0&&(b.src=null,v[Mn]=null)):Nt(h)}}}function Di(h){return h in Rs?Rs[h]:Rs[h]="on"+h}function kr(h,v){if(h.da)h=!0;else{v=new Be(v,this);var b=h.listener,R=h.ha||h.src;h.fa&&_a(h),h=b.call(R,v)}return h}function mr(h){return h=h[Mn],h instanceof wn?h:null}var Ea="__closure_events_fn_"+(1e9*Math.random()>>>0);function ba(h){return typeof h=="function"?h:(h[Ea]||(h[Ea]=function(v){return h.handleEvent(v)}),h[Ea])}function mt(){de.call(this),this.i=new wn(this),this.M=this,this.F=null}w(mt,de),mt.prototype[qt]=!0,mt.prototype.removeEventListener=function(h,v,b,R){Cs(this,h,v,b,R)};function Qe(h,v){var b,R=h.F;if(R)for(b=[];R;R=R.F)b.push(R);if(h=h.M,R=v.type||v,typeof v=="string")v=new oe(v,h);else if(v instanceof oe)v.target=v.target||h;else{var K=v;v=new oe(R,h),M(v,K)}if(K=!0,b)for(var re=b.length-1;0<=re;re--){var pe=v.g=b[re];K=An(pe,R,!0,v)&&K}if(pe=v.g=h,K=An(pe,R,!0,v)&&K,K=An(pe,R,!1,v)&&K,b)for(re=0;re<b.length;re++)pe=v.g=b[re],K=An(pe,R,!1,v)&&K}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var b=h.g[v],R=0;R<b.length;R++)Nt(b[R]);delete h.g[v],h.h--}}this.F=null},mt.prototype.K=function(h,v,b,R){return this.i.add(String(h),v,!1,b,R)},mt.prototype.L=function(h,v,b,R){return this.i.add(String(h),v,!0,b,R)};function An(h,v,b,R){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var K=!0,re=0;re<v.length;++re){var pe=v[re];if(pe&&!pe.da&&pe.capture==b){var lt=pe.listener,en=pe.ha||pe.src;pe.fa&&Qr(h.i,pe),K=lt.call(en,R)!==!1&&K}}return K&&!R.defaultPrevented}function $t(h,v,b){if(typeof h=="function")b&&(h=E(h,b));else if(h&&typeof h.handleEvent=="function")h=E(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function Oo(h){h.g=$t(()=>{h.g=null,h.i&&(h.i=!1,Oo(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class gr extends de{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Oo(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(h){de.call(this),this.h=h,this.g={}}w(Xr,de);var Wr=[];function Zr(h){B(h.g,function(v,b){this.g.hasOwnProperty(b)&&_a(v)},h),h.g={}}Xr.prototype.N=function(){Xr.aa.N.call(this),Zr(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wn=f.JSON.stringify,Ni=f.JSON.parse,pr=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function Sa(){}Sa.prototype.h=null;function Pi(h){return h.h||(h.h=h.i())}function xs(){}var yr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Lr(){oe.call(this,"d")}w(Lr,oe);function Ta(){oe.call(this,"c")}w(Ta,oe);var Ln={},Jr=null;function ei(){return Jr=Jr||new mt}Ln.La="serverreachability";function wa(h){oe.call(this,Ln.La,h)}w(wa,oe);function z(h){const v=ei();Qe(v,new wa(v))}Ln.STAT_EVENT="statevent";function $(h,v){oe.call(this,Ln.STAT_EVENT,h),this.stat=v}w($,oe);function X(h){const v=ei();Qe(v,new $(v,h))}Ln.Ma="timingevent";function le(h,v){oe.call(this,Ln.Ma,h),this.size=v}w(le,oe);function me(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function ve(){this.g=!0}ve.prototype.xa=function(){this.g=!1};function Pe(h,v,b,R,K,re){h.info(function(){if(h.g)if(re)for(var pe="",lt=re.split("&"),en=0;en<lt.length;en++){var ut=lt[en].split("=");if(1<ut.length){var ln=ut[0];ut=ut[1];var tn=ln.split("_");pe=2<=tn.length&&tn[1]=="type"?pe+(ln+"="+ut+"&"):pe+(ln+"=redacted&")}}else pe=null;else pe=re;return"XMLHTTP REQ ("+R+") [attempt "+K+"]: "+v+`
`+b+`
`+pe})}function Ee(h,v,b,R,K,re,pe){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+K+"]: "+v+`
`+b+`
`+re+" "+pe})}function Ae(h,v,b,R){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Me(h,b)+(R?" "+R:"")})}function xe(h,v){h.info(function(){return"TIMEOUT: "+v})}ve.prototype.info=function(){};function Me(h,v){if(!h.g)return v;if(!v)return null;try{var b=JSON.parse(v);if(b){for(h=0;h<b.length;h++)if(Array.isArray(b[h])){var R=b[h];if(!(2>R.length)){var K=R[1];if(Array.isArray(K)&&!(1>K.length)){var re=K[0];if(re!="noop"&&re!="stop"&&re!="close")for(var pe=1;pe<K.length;pe++)K[pe]=""}}}}return Wn(b)}catch{return v}}var Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Le={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},tt;function pt(){}w(pt,Sa),pt.prototype.g=function(){return new XMLHttpRequest},pt.prototype.i=function(){return{}},tt=new pt;function ht(h,v,b,R){this.j=h,this.i=v,this.l=b,this.R=R||1,this.U=new Xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ot}function ot(){this.i=null,this.g="",this.h=!1}var Ze={},vr={};function Jt(h,v,b){h.L=1,h.v=Ds(er(v)),h.m=b,h.P=!0,Vn(h,null)}function Vn(h,v){h.F=Date.now(),Zn(h),h.A=er(h.v);var b=h.A,R=h.R;Array.isArray(R)||(R=[String(R)]),ou(b.i,"t",R),h.C=0,b=h.j.J,h.h=new ot,h.g=Af(h.j,b?v:null,!h.m),0<h.O&&(h.M=new gr(E(h.Y,h,h.g),h.O)),v=h.U,b=h.g,R=h.ca;var K="readystatechange";Array.isArray(K)||(K&&(Wr[0]=K.toString()),K=Wr);for(var re=0;re<K.length;re++){var pe=Io(b,K[re],R||v.handleEvent,!1,v.h||v);if(!pe)break;v.g[pe.key]=pe}v=h.H?x(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),z(),Pe(h.i,h.u,h.A,h.l,h.R,h.m)}ht.prototype.ca=function(h){h=h.target;const v=this.M;v&&Tr(h)==3?v.j():this.Y(h)},ht.prototype.Y=function(h){try{if(h==this.g)e:{const tn=Tr(this.g);var v=this.g.Ba();const Fi=this.g.Z();if(!(3>tn)&&(tn!=3||this.g&&(this.h.h||this.g.oa()||yf(this.g)))){this.J||tn!=4||v==7||(v==8||0>=Fi?z(3):z(2)),Rn(this);var b=this.g.Z();this.X=b;t:if(dn(this)){var R=yf(this.g);h="";var K=R.length,re=Tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){He(this),Un(this);var pe="";break t}this.h.i=new f.TextDecoder}for(v=0;v<K;v++)this.h.h=!0,h+=this.h.i.decode(R[v],{stream:!(re&&v==K-1)});R.length=0,this.h.g+=h,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=b==200,Ee(this.i,this.u,this.A,this.l,this.R,tn,b),this.o){if(this.T&&!this.K){t:{if(this.g){var lt,en=this.g;if((lt=en.g?en.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(lt)){var ut=lt;break t}}ut=null}if(b=ut)Ae(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gt(this,b);else{this.o=!1,this.s=3,X(12),He(this),Un(this);break e}}if(this.P){b=!0;let gn;for(;!this.J&&this.C<pe.length;)if(gn=ti(this,pe),gn==vr){tn==4&&(this.s=4,X(14),b=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==Ze){this.s=4,X(15),Ae(this.i,this.l,pe,"[Invalid Chunk]"),b=!1;break}else Ae(this.i,this.l,gn,null),Gt(this,gn);if(dn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tn!=4||pe.length!=0||this.h.h||(this.s=1,X(16),b=!1),this.o=this.o&&b,!b)Ae(this.i,this.l,pe,"[Invalid Chunked Response]"),He(this),Un(this);else if(0<pe.length&&!this.W){this.W=!0;var ln=this.j;ln.g==this&&ln.ba&&!ln.M&&(ln.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),js(ln),ln.M=!0,X(11))}}else Ae(this.i,this.l,pe,null),Gt(this,pe);tn==4&&He(this),this.o&&!this.J&&(tn==4?Sf(this.j,this):(this.o=!1,Zn(this)))}else Lm(this.g),b==400&&0<pe.indexOf("Unknown SID")?(this.s=3,X(12)):(this.s=0,X(13)),He(this),Un(this)}}}catch{}finally{}};function dn(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function ti(h,v){var b=h.C,R=v.indexOf(`
`,b);return R==-1?vr:(b=Number(v.substring(b,R)),isNaN(b)?Ze:(R+=1,R+b>v.length?vr:(v=v.slice(R,R+b),h.C=R+b,v)))}ht.prototype.cancel=function(){this.J=!0,He(this)};function Zn(h){h.S=Date.now()+h.I,Aa(h,h.I)}function Aa(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=me(E(h.ba,h),v)}function Rn(h){h.B&&(f.clearTimeout(h.B),h.B=null)}ht.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(xe(this.i,this.A),this.L!=2&&(z(),X(17)),He(this),this.s=2,Un(this)):Aa(this,this.S-h)};function Un(h){h.j.G==0||h.J||Sf(h.j,h)}function He(h){Rn(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Zr(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Gt(h,v){try{var b=h.j;if(b.G!=0&&(b.g==h||_r(b.h,h))){if(!h.K&&_r(b.h,h)&&b.G==3){try{var R=b.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var K=R;if(K[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<h.F)jo(b),Vo(b);else break e;hu(b),X(18)}}else b.za=K[1],0<b.za-b.T&&37500>K[2]&&b.F&&b.v==0&&!b.C&&(b.C=me(E(b.Za,b),6e3));if(1>=Rt(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else zi(b,11)}else if((h.K||b.g==h)&&jo(b),!W(v))for(K=b.Da.g.parse(v),v=0;v<K.length;v++){let ut=K[v];if(b.T=ut[0],ut=ut[1],b.G==2)if(ut[0]=="c"){b.K=ut[1],b.ia=ut[2];const ln=ut[3];ln!=null&&(b.la=ln,b.j.info("VER="+b.la));const tn=ut[4];tn!=null&&(b.Aa=tn,b.j.info("SVER="+b.Aa));const Fi=ut[5];Fi!=null&&typeof Fi=="number"&&0<Fi&&(R=1.5*Fi,b.L=R,b.j.info("backChannelRequestTimeoutMs_="+R)),R=b;const gn=h.g;if(gn){const ui=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ui){var re=R.h;re.g||ui.indexOf("spdy")==-1&&ui.indexOf("quic")==-1&&ui.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Mi(re,re.h),re.h=null))}if(R.D){const mu=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;mu&&(R.ya=mu,St(R.I,R.D,mu))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-h.F,b.j.info("Handshake RTT: "+b.R+"ms")),R=b;var pe=h;if(R.qa=wf(R,R.J?R.ia:null,R.W),pe.K){mn(R.h,pe);var lt=pe,en=R.L;en&&(lt.I=en),lt.B&&(Rn(lt),Zn(lt)),R.g=pe}else Ef(R);0<b.i.length&&Uo(b)}else ut[0]!="stop"&&ut[0]!="close"||zi(b,7);else b.G==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?zi(b,7):cu(b):ut[0]!="noop"&&b.l&&b.l.ta(ut),b.v=0)}}z(4)}catch{}}var Jn=class{constructor(h,v){this.g=h,this.map=v}};function Bn(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ni(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Rt(h){return h.h?1:h.g?h.g.size:0}function _r(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Mi(h,v){h.g?h.g.add(v):h.h=v}function mn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Bn.prototype.cancel=function(){if(this.i=ru(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ru(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const b of h.g.values())v=v.concat(b.D);return v}return D(h.i)}function Nm(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var v=[],b=h.length,R=0;R<b;R++)v.push(h[R]);return v}v=[],b=0;for(R in h)v[b++]=h[R];return v}function Do(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var v=[];h=h.length;for(var b=0;b<h;b++)v.push(b);return v}v=[],b=0;for(const R in h)v[b++]=R;return v}}}function iu(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var b=Do(h),R=Nm(h),K=R.length,re=0;re<K;re++)v.call(void 0,R[re],b&&b[re],h)}var Is=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pm(h,v){if(h){h=h.split("&");for(var b=0;b<h.length;b++){var R=h[b].indexOf("="),K=null;if(0<=R){var re=h[b].substring(0,R);K=h[b].substring(R+1)}else re=h[b];v(re,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Kt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Kt){this.h=h.h,Os(this,h.j),this.o=h.o,this.g=h.g,Ra(this,h.s),this.l=h.l;var v=h.i,b=new Li;b.i=v.i,v.g&&(b.g=new Map(v.g),b.h=v.h),ki(this,b),this.m=h.m}else h&&(v=String(h).match(Is))?(this.h=!1,Os(this,v[1]||"",!0),this.o=Er(v[2]||""),this.g=Er(v[3]||"",!0),Ra(this,v[4]),this.l=Er(v[5]||"",!0),ki(this,v[6]||"",!0),this.m=Er(v[7]||"")):(this.h=!1,this.i=new Li(null,this.h))}Kt.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Ns(v,au,!0),":");var b=this.g;return(b||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Ns(v,au,!0),"@"),h.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&h.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(Ns(b,b.charAt(0)=="/"?Mm:su,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",Ns(b,No)),h.join("")};function er(h){return new Kt(h)}function Os(h,v,b){h.j=b?Er(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Ra(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function ki(h,v,b){v instanceof Li?(h.i=v,gf(h.i,h.h)):(b||(v=Ns(v,km)),h.i=new Li(v,h.h))}function St(h,v,b){h.i.set(v,b)}function Ds(h){return St(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Er(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ns(h,v,b){return typeof h=="string"?(h=encodeURI(h).replace(v,mf),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function mf(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var au=/[#\/\?@]/g,su=/[#\?:]/g,Mm=/[#\?]/g,km=/[#\?@]/g,No=/#/g;function Li(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function br(h){h.g||(h.g=new Map,h.h=0,h.i&&Pm(h.i,function(v,b){h.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}t=Li.prototype,t.add=function(h,v){br(this),this.i=null,h=ri(this,h);var b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(v),this.h+=1,this};function Vi(h,v){br(h),v=ri(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Ui(h,v){return br(h),v=ri(h,v),h.g.has(v)}t.forEach=function(h,v){br(this),this.g.forEach(function(b,R){b.forEach(function(K){h.call(v,K,R,this)},this)},this)},t.na=function(){br(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),b=[];for(let R=0;R<v.length;R++){const K=h[R];for(let re=0;re<K.length;re++)b.push(v[R])}return b},t.V=function(h){br(this);let v=[];if(typeof h=="string")Ui(this,h)&&(v=v.concat(this.g.get(ri(this,h))));else{h=Array.from(this.g.values());for(let b=0;b<h.length;b++)v=v.concat(h[b])}return v},t.set=function(h,v){return br(this),this.i=null,h=ri(this,h),Ui(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function ou(h,v,b){Vi(h,v),0<b.length&&(h.i=null,h.g.set(ri(h,v),D(b)),h.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var b=0;b<v.length;b++){var R=v[b];const re=encodeURIComponent(String(R)),pe=this.V(R);for(R=0;R<pe.length;R++){var K=re;pe[R]!==""&&(K+="="+encodeURIComponent(String(pe[R]))),h.push(K)}}return this.i=h.join("&")};function ri(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function gf(h,v){v&&!h.j&&(br(h),h.i=null,h.g.forEach(function(b,R){var K=R.toLowerCase();R!=K&&(Vi(this,R),ou(this,K,b))},h)),h.j=v}function Ps(h,v){const b=new ve;if(f.Image){const R=new Image;R.onload=T(Sr,b,"TestLoadImage: loaded",!0,v,R),R.onerror=T(Sr,b,"TestLoadImage: error",!1,v,R),R.onabort=T(Sr,b,"TestLoadImage: abort",!1,v,R),R.ontimeout=T(Sr,b,"TestLoadImage: timeout",!1,v,R),f.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else v(!1)}function Vr(h,v){const b=new ve,R=new AbortController,K=setTimeout(()=>{R.abort(),Sr(b,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:R.signal}).then(re=>{clearTimeout(K),re.ok?Sr(b,"TestPingServer: ok",!0,v):Sr(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(K),Sr(b,"TestPingServer: error",!1,v)})}function Sr(h,v,b,R,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),R(b)}catch{}}function Ms(){this.g=new pr}function ii(h,v,b){const R=b||"";try{iu(h,function(K,re){let pe=K;g(K)&&(pe=Wn(K)),v.push(R+re+"="+encodeURIComponent(pe))})}catch(K){throw v.push(R+"type="+encodeURIComponent("_badmap")),K}}function Ca(h){this.l=h.Ub||null,this.j=h.eb||!1}w(Ca,Sa),Ca.prototype.g=function(){return new ji(this.l,this.j)},Ca.prototype.i=function(h){return function(){return h}}({});function ji(h,v){mt.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(ji,mt),t=ji.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,si(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ai(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lu(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function lu(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?ai(this):si(this),this.readyState==3&&lu(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,ai(this))},t.Qa=function(h){this.g&&(this.response=h,ai(this))},t.ga=function(){this.g&&ai(this)};function ai(h){h.readyState=4,h.l=null,h.j=null,h.v=null,si(h)}t.setRequestHeader=function(h,v){this.u.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=v.next();return h.join(`\r
`)};function si(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ji.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function uu(h){let v="";return B(h,function(b,R){v+=R,v+=":",v+=b,v+=`\r
`}),v}function on(h,v,b){e:{for(R in b){var R=!1;break e}R=!0}R||(b=uu(b),typeof h=="string"?b!=null&&encodeURIComponent(String(b)):St(h,v,b))}function yt(h){mt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(yt,mt);var Po=/^https?$/i,ks=["POST","PUT"];t=yt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,v,b,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tt.g(),this.v=this.o?Pi(this.o):Pi(tt),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(re){pf(this,re);return}if(h=b||"",b=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var K in R)b.set(K,R[K]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const re of R.keys())b.set(re,R.get(re));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(b.keys()).find(re=>re.toLowerCase()=="content-type"),K=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ks,v,void 0))||R||K||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,pe]of b)this.g.setRequestHeader(re,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ls(this),this.u=!0,this.g.send(h),this.u=!1}catch(re){pf(this,re)}};function pf(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Mo(h),oi(h)}function Mo(h){h.A||(h.A=!0,Qe(h,"complete"),Qe(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Qe(this,"complete"),Qe(this,"abort"),oi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oi(this,!0)),yt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ko(this):this.bb())},t.bb=function(){ko(this)};function ko(h){if(h.h&&typeof u<"u"&&(!h.v[1]||Tr(h)!=4||h.Z()!=2)){if(h.u&&Tr(h)==4)$t(h.Ea,0,h);else if(Qe(h,"readystatechange"),Tr(h)==4){h.h=!1;try{const pe=h.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var R;if(R=pe===0){var K=String(h.D).match(Is)[1]||null;!K&&f.self&&f.self.location&&(K=f.self.location.protocol.slice(0,-1)),R=!Po.test(K?K.toLowerCase():"")}b=R}if(b)Qe(h,"complete"),Qe(h,"success");else{h.m=6;try{var re=2<Tr(h)?h.g.statusText:""}catch{re=""}h.l=re+" ["+h.Z()+"]",Mo(h)}}finally{oi(h)}}}}function oi(h,v){if(h.g){Ls(h);const b=h.g,R=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Qe(h,"ready");try{b.onreadystatechange=R}catch{}}}function Ls(h){h.I&&(f.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Tr(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Tr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Ni(v)}};function yf(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Lm(h){const v={};h=(h.g&&2<=Tr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(W(h[R]))continue;var b=F(h[R]);const K=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const re=v[K]||[];v[K]=re,re.push(b)}N(v,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vs(h,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||v}function Lo(h){this.Aa=0,this.i=[],this.j=new ve,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vs("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vs("baseRetryDelayMs",5e3,h),this.cb=Vs("retryDelaySeedMs",1e4,h),this.Wa=Vs("forwardChannelMaxRetries",2,h),this.wa=Vs("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Bn(h&&h.concurrentRequestLimit),this.Da=new Ms,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Lo.prototype,t.la=8,t.G=1,t.connect=function(h,v,b,R){X(0),this.W=h,this.H=v||{},b&&R!==void 0&&(this.H.OSID=b,this.H.OAID=R),this.F=this.X,this.I=wf(this,null,this.W),Uo(this)};function cu(h){if(vf(h),h.G==3){var v=h.U++,b=er(h.I);if(St(b,"SID",h.K),St(b,"RID",v),St(b,"TYPE","terminate"),Us(h,b),v=new ht(h,h.j,v),v.L=2,v.v=Ds(er(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!b&&f.Image&&(new Image().src=v.v,b=!0),b||(v.g=Af(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Zn(v)}Tf(h)}function Vo(h){h.g&&(js(h),h.g.cancel(),h.g=null)}function vf(h){Vo(h),h.u&&(f.clearTimeout(h.u),h.u=null),jo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function Uo(h){if(!ni(h.h)&&!h.s){h.s=!0;var v=h.Ga;he||V(),ye||(he(),ye=!0),Oe.add(v,h),h.B=0}}function Vm(h,v){return Rt(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=me(E(h.Ga,h,v),du(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const K=new ht(this,this.j,h);let re=this.o;if(this.S&&(re?(re=x(re),M(re,this.S)):re=this.S),this.m!==null||this.O||(K.H=re,re=null),this.P)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var R=this.i[b];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=_f(this,K,v),b=er(this.I),St(b,"RID",h),St(b,"CVER",22),this.D&&St(b,"X-HTTP-Session-Id",this.D),Us(this,b),re&&(this.O?v="headers="+encodeURIComponent(String(uu(re)))+"&"+v:this.m&&on(b,this.m,re)),Mi(this.h,K),this.Ua&&St(b,"TYPE","init"),this.P?(St(b,"$req",v),St(b,"SID","null"),K.T=!0,Jt(K,b,null)):Jt(K,b,v),this.G=2}}else this.G==3&&(h?fu(this,h):this.i.length==0||ni(this.h)||fu(this))};function fu(h,v){var b;v?b=v.l:b=h.U++;const R=er(h.I);St(R,"SID",h.K),St(R,"RID",b),St(R,"AID",h.T),Us(h,R),h.m&&h.o&&on(R,h.m,h.o),b=new ht(h,h.j,b,h.B+1),h.m===null&&(b.H=h.o),v&&(h.i=v.D.concat(h.i)),v=_f(h,b,1e3),b.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Mi(h.h,b),Jt(b,R,v)}function Us(h,v){h.H&&B(h.H,function(b,R){St(v,R,b)}),h.l&&iu({},function(b,R){St(v,R,b)})}function _f(h,v,b){b=Math.min(h.i.length,b);var R=h.l?E(h.l.Na,h.l,h):null;e:{var K=h.i;let re=-1;for(;;){const pe=["count="+b];re==-1?0<b?(re=K[0].g,pe.push("ofs="+re)):re=0:pe.push("ofs="+re);let lt=!0;for(let en=0;en<b;en++){let ut=K[en].g;const ln=K[en].map;if(ut-=re,0>ut)re=Math.max(0,K[en].g-100),lt=!1;else try{ii(ln,pe,"req"+ut+"_")}catch{R&&R(ln)}}if(lt){R=pe.join("&");break e}}}return h=h.i.splice(0,b),v.D=h,R}function Ef(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;he||V(),ye||(he(),ye=!0),Oe.add(v,h),h.v=0}}function hu(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=me(E(h.Fa,h),du(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,bf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=me(E(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,X(10),Vo(this),bf(this))};function js(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function bf(h){h.g=new ht(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=er(h.qa);St(v,"RID","rpc"),St(v,"SID",h.K),St(v,"AID",h.T),St(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&St(v,"TO",h.ja),St(v,"TYPE","xmlhttp"),Us(h,v),h.m&&h.o&&on(v,h.m,h.o),h.L&&(h.g.I=h.L);var b=h.g;h=h.ia,b.L=1,b.v=Ds(er(v)),b.m=null,b.P=!0,Vn(b,h)}t.Za=function(){this.C!=null&&(this.C=null,Vo(this),hu(this),X(19))};function jo(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function Sf(h,v){var b=null;if(h.g==v){jo(h),js(h),h.g=null;var R=2}else if(_r(h.h,v))b=v.D,mn(h.h,v),R=1;else return;if(h.G!=0){if(v.o)if(R==1){b=v.m?v.m.length:0,v=Date.now()-v.F;var K=h.B;R=ei(),Qe(R,new le(R,b)),Uo(h)}else Ef(h);else if(K=v.s,K==3||K==0&&0<v.X||!(R==1&&Vm(h,v)||R==2&&hu(h)))switch(b&&0<b.length&&(v=h.h,v.i=v.i.concat(b)),K){case 1:zi(h,5);break;case 4:zi(h,10);break;case 3:zi(h,6);break;default:zi(h,2)}}}function du(h,v){let b=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(b*=2),b*v}function zi(h,v){if(h.j.info("Error code "+v),v==2){var b=E(h.fb,h),R=h.Xa;const K=!R;R=new Kt(R||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Os(R,"https"),Ds(R),K?Ps(R.toString(),b):Vr(R.toString(),b)}else X(2);h.G=0,h.l&&h.l.sa(v),Tf(h),vf(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),X(2)):(this.j.info("Failed to ping google.com"),X(1))};function Tf(h){if(h.G=0,h.ka=[],h.l){const v=ru(h.h);(v.length!=0||h.i.length!=0)&&(k(h.ka,v),k(h.ka,h.i),h.h.i.length=0,D(h.i),h.i.length=0),h.l.ra()}}function wf(h,v,b){var R=b instanceof Kt?er(b):new Kt(b);if(R.g!="")v&&(R.g=v+"."+R.g),Ra(R,R.s);else{var K=f.location;R=K.protocol,v=v?v+"."+K.hostname:K.hostname,K=+K.port;var re=new Kt(null);R&&Os(re,R),v&&(re.g=v),K&&Ra(re,K),b&&(re.l=b),R=re}return b=h.D,v=h.ya,b&&v&&St(R,b,v),St(R,"VER",h.la),Us(h,R),R}function Af(h,v,b){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new yt(new Ca({eb:b})):new yt(h.pa),v.Ha(h.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rf(){}t=Rf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function zo(){}zo.prototype.g=function(h,v){return new jn(h,v)};function jn(h,v){mt.call(this),this.g=new Lo(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!W(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!W(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new li(this)}w(jn,mt),jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){cu(this.g)},jn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.u&&(b={},b.__data__=Wn(h),h=b);v.i.push(new Jn(v.Ya++,h)),v.G==3&&Uo(v)},jn.prototype.N=function(){this.g.l=null,delete this.j,cu(this.g),delete this.g,jn.aa.N.call(this)};function Cf(h){Lr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const b in v){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}w(Cf,Lr);function xf(){Ta.call(this),this.status=1}w(xf,Ta);function li(h){this.g=h}w(li,Rf),li.prototype.ua=function(){Qe(this.g,"a")},li.prototype.ta=function(h){Qe(this.g,new Cf(h))},li.prototype.sa=function(h){Qe(this.g,new xf)},li.prototype.ra=function(){Qe(this.g,"b")},zo.prototype.createWebChannel=zo.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,ZR=function(){return new zo},WR=function(){return ei()},XR=Ln,qy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,Zh=Re,Le.COMPLETE="complete",QR=Le,xs.EventType=yr,yr.OPEN="a",yr.CLOSE="b",yr.ERROR="c",yr.MESSAGE="d",mt.prototype.listen=mt.prototype.K,hc=xs,yt.prototype.listenOnce=yt.prototype.L,yt.prototype.getLastError=yt.prototype.Ka,yt.prototype.getLastErrorCode=yt.prototype.Ba,yt.prototype.getStatus=yt.prototype.Z,yt.prototype.getResponseJson=yt.prototype.Oa,yt.prototype.getResponseText=yt.prototype.oa,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Ha,YR=yt}).apply(typeof Lh<"u"?Lh:typeof self<"u"?self:typeof window<"u"?window:{});const zS="@firebase/firestore",FS="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}On.UNAUTHENTICATED=new On(null),On.GOOGLE_CREDENTIALS=new On("google-credentials-uid"),On.FIRST_PARTY=new On("first-party-uid"),On.MOCK_USER=new On("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=new Nv("@firebase/firestore");function bl(){return po.logLevel}function _e(t,...e){if(po.logLevel<=at.DEBUG){const n=e.map(s_);po.debug(`Firestore (${Xl}): ${t}`,...n)}}function ha(t,...e){if(po.logLevel<=at.ERROR){const n=e.map(s_);po.error(`Firestore (${Xl}): ${t}`,...n)}}function Ll(t,...e){if(po.logLevel<=at.WARN){const n=e.map(s_);po.warn(`Firestore (${Xl}): ${t}`,...n)}}function s_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,JR(t,r,n)}function JR(t,e,n){let r=`FIRESTORE (${Xl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ha(r),new Error(r)}function vt(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||JR(e,a,r)}function Ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends pa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class K3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(On.UNAUTHENTICATED))}shutdown(){}}class Y3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Q3{constructor(e){this.t=e,this.currentUser=On.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){vt(this.o===void 0,42304);let r=this.i;const a=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new sa;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new sa,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await a(this.currentUser)})},f=d=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>f(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?f(d):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new sa)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(vt(typeof r.accessToken=="string",31837,{l:r}),new eC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vt(e===null||typeof e=="string",2055,{h:e}),new On(e)}}class X3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=On.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class W3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new X3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(On.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Z3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){vt(this.o===void 0,3512);const r=o=>{o.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,_e("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const a=o=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new BS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(vt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new BS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=J3(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<n&&(r+=e.charAt(a[o]%62))}return r}}function We(t,e){return t<e?-1:t>e?1:0}function $y(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),a=e.codePointAt(n);if(r!==a){if(r<128&&a<128)return We(r,a);{const o=tC(),u=e6(o.encode(HS(t,n)),o.encode(HS(e,n)));return u!==0?u:We(r,a)}}n+=r>65535?2:1}return We(t.length,e.length)}function HS(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function e6(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return We(t[n],e[n]);return We(t.length,e.length)}function Vl(t,e,n){return t.length===e.length&&t.every((r,a)=>n(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=-62135596800,$S=1e6;class an{static now(){return an.fromMillis(Date.now())}static fromDate(e){return an.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*$S);return new an(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<qS)throw new be(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$S}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-qS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new an(0,0))}static max(){return new $e(new an(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="__name__";class gi{constructor(e,n,r){n===void 0?n=0:n>e.length&&ze(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ze(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return gi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const o=gi.compareSegments(e.get(a),n.get(a));if(o!==0)return o}return We(e.length,n.length)}static compareSegments(e,n){const r=gi.isNumericId(e),a=gi.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?gi.extractNumericId(e).compare(gi.extractNumericId(n)):$y(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return os.fromString(e.substring(4,e.length-2))}}class It extends gi{construct(e,n,r){return new It(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new It(n)}static emptyPath(){return new It([])}}const t6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sn extends gi{construct(e,n,r){return new Sn(e,n,r)}static isValidIdentifier(e){return t6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===GS}static keyField(){return new Sn([GS])}static fromServerFormat(e){const n=[];let r="",a=0;const o=()=>{if(r.length===0)throw new be(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new be(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new be(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(r+=f,a++):(o(),a++)}if(o(),u)throw new be(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sn(n)}static emptyPath(){return new Sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(It.fromString(e))}static fromName(e){return new Ne(It.fromString(e).popFirst(5))}static empty(){return new Ne(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return It.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new It(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=-1;function n6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=$e.fromTimestamp(r===1e9?new an(n+1,0):new an(n,r));return new hs(a,Ne.empty(),e)}function r6(t){return new hs(t.readTime,t.key,kc)}class hs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new hs($e.min(),Ne.empty(),kc)}static max(){return new hs($e.max(),Ne.empty(),kc)}}function i6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wl(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==a6)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.reject(n)}static resolve(e){return new fe((n,r)=>{n(e)})}static reject(e){return new fe((n,r)=>{r(e)})}static waitFor(e){return new fe((n,r)=>{let a=0,o=0,u=!1;e.forEach(f=>{++a,f.next(()=>{++o,u&&o===a&&n()},d=>r(d))}),u=!0,o===a&&n()})}static or(e){let n=fe.resolve(!1);for(const r of e)n=n.next(a=>a?fe.resolve(a):r());return n}static forEach(e,n){const r=[];return e.forEach((a,o)=>{r.push(n.call(this,a,o))}),this.waitFor(r)}static mapArray(e,n){return new fe((r,a)=>{const o=e.length,u=new Array(o);let f=0;for(let d=0;d<o;d++){const g=d;n(e[g]).next(y=>{u[g]=y,++f,f===o&&r(u)},y=>a(y))}})}static doWhile(e,n){return new fe((r,a)=>{const o=()=>{e()===!0?n().next(()=>{o()},a):r()};o()})}}function o6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Zl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}cm.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=-1;function fm(t){return t==null}function Dd(t){return t===0&&1/t==-1/0}function l6(t){return typeof t=="number"&&Number.isInteger(t)&&!Dd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="";function u6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=KS(e)),e=c6(t.get(n),e);return KS(e)}function c6(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const o=t.charAt(a);switch(o){case"\0":n+="";break;case rC:n+="";break;default:n+=o}}return n}function KS(t){return t+rC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function To(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function iC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n){this.comparator=e,this.root=n||bn.EMPTY}insert(e,n){return new Lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bn.BLACK,null,null))}remove(e){return new Lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vh(this.root,e,this.comparator,!0)}}class Vh{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bn{constructor(e,n,r,a,o){this.key=e,this.value=n,this.color=r??bn.RED,this.left=a??bn.EMPTY,this.right=o??bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,o){return new bn(e??this.key,n??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,r),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return bn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ze(27949);return e+(this.isRed()?0:1)}}bn.EMPTY=null,bn.RED=!0,bn.BLACK=!1;bn.EMPTY=new class{constructor(){this.size=0}get key(){throw ze(57766)}get value(){throw ze(16141)}get color(){throw ze(16727)}get left(){throw ze(29726)}get right(){throw ze(36894)}copy(e,n,r,a,o){return this}insert(e,n,r){return new bn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.comparator=e,this.data=new Lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new QS(this.data.getIterator())}getIteratorFrom(e){return new QS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof sn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new sn(this.comparator);return n.data=e,n}}class QS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.fields=e,e.sort(Sn.comparator)}static empty(){return new Hr([])}unionWith(e){let n=new sn(Sn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Hr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new aC("Invalid base64 string: "+o):o}}(e);return new Tn(n)}static fromUint8Array(e){const n=function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o}(e);return new Tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tn.EMPTY_BYTE_STRING=new Tn("");const f6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(t){if(vt(!!t,39018),typeof t=="string"){let e=0;const n=f6.exec(t);if(vt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Bt(t.seconds),nanos:Bt(t.nanos)}}function Bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ms(t){return typeof t=="string"?Tn.fromBase64String(t):Tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="server_timestamp",oC="__type__",lC="__previous_value__",uC="__local_write_time__";function l_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[oC])===null||n===void 0?void 0:n.stringValue)===sC}function hm(t){const e=t.mapValue.fields[lC];return l_(e)?hm(e):e}function Lc(t){const e=ds(t.mapValue.fields[uC].timestampValue);return new an(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,n,r,a,o,u,f,d,g,y){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=d,this.useFetchStreams=g,this.isUsingEmulator=y}}const Nd="(default)";class Vc{constructor(e,n){this.projectId=e,this.database=n||Nd}static empty(){return new Vc("","")}get isDefaultDatabase(){return this.database===Nd}isEqual(e){return e instanceof Vc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="__type__",d6="__max__",Uh={mapValue:{}},fC="__vector__",Pd="value";function gs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?l_(t)?4:g6(t)?9007199254740991:m6(t)?10:11:ze(28295,{value:t})}function Ri(t,e){if(t===e)return!0;const n=gs(t);if(n!==gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Lc(t).isEqual(Lc(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=ds(a.timestampValue),f=ds(o.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,o){return ms(a.bytesValue).isEqual(ms(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,o){return Bt(a.geoPointValue.latitude)===Bt(o.geoPointValue.latitude)&&Bt(a.geoPointValue.longitude)===Bt(o.geoPointValue.longitude)}(t,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return Bt(a.integerValue)===Bt(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=Bt(a.doubleValue),f=Bt(o.doubleValue);return u===f?Dd(u)===Dd(f):isNaN(u)&&isNaN(f)}return!1}(t,e);case 9:return Vl(t.arrayValue.values||[],e.arrayValue.values||[],Ri);case 10:case 11:return function(a,o){const u=a.mapValue.fields||{},f=o.mapValue.fields||{};if(YS(u)!==YS(f))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(f[d]===void 0||!Ri(u[d],f[d])))return!1;return!0}(t,e);default:return ze(52216,{left:t})}}function Uc(t,e){return(t.values||[]).find(n=>Ri(n,e))!==void 0}function Ul(t,e){if(t===e)return 0;const n=gs(t),r=gs(e);if(n!==r)return We(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return function(o,u){const f=Bt(o.integerValue||o.doubleValue),d=Bt(u.integerValue||u.doubleValue);return f<d?-1:f>d?1:f===d?0:isNaN(f)?isNaN(d)?0:-1:1}(t,e);case 3:return XS(t.timestampValue,e.timestampValue);case 4:return XS(Lc(t),Lc(e));case 5:return $y(t.stringValue,e.stringValue);case 6:return function(o,u){const f=ms(o),d=ms(u);return f.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,u){const f=o.split("/"),d=u.split("/");for(let g=0;g<f.length&&g<d.length;g++){const y=We(f[g],d[g]);if(y!==0)return y}return We(f.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,u){const f=We(Bt(o.latitude),Bt(u.latitude));return f!==0?f:We(Bt(o.longitude),Bt(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return WS(t.arrayValue,e.arrayValue);case 10:return function(o,u){var f,d,g,y;const _=o.fields||{},E=u.fields||{},T=(f=_[Pd])===null||f===void 0?void 0:f.arrayValue,w=(d=E[Pd])===null||d===void 0?void 0:d.arrayValue,D=We(((g=T==null?void 0:T.values)===null||g===void 0?void 0:g.length)||0,((y=w==null?void 0:w.values)===null||y===void 0?void 0:y.length)||0);return D!==0?D:WS(T,w)}(t.mapValue,e.mapValue);case 11:return function(o,u){if(o===Uh.mapValue&&u===Uh.mapValue)return 0;if(o===Uh.mapValue)return 1;if(u===Uh.mapValue)return-1;const f=o.fields||{},d=Object.keys(f),g=u.fields||{},y=Object.keys(g);d.sort(),y.sort();for(let _=0;_<d.length&&_<y.length;++_){const E=$y(d[_],y[_]);if(E!==0)return E;const T=Ul(f[d[_]],g[y[_]]);if(T!==0)return T}return We(d.length,y.length)}(t.mapValue,e.mapValue);default:throw ze(23264,{Pe:n})}}function XS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=ds(t),r=ds(e),a=We(n.seconds,r.seconds);return a!==0?a:We(n.nanos,r.nanos)}function WS(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const o=Ul(n[a],r[a]);if(o)return o}return We(n.length,r.length)}function jl(t){return Gy(t)}function Gy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ds(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ms(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",a=!0;for(const o of n.values||[])a?a=!1:r+=",",r+=Gy(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const u of r)o?o=!1:a+=",",a+=`${u}:${Gy(n.fields[u])}`;return a+"}"}(t.mapValue):ze(61005,{value:t})}function Jh(t){switch(gs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hm(t);return e?16+Jh(e):16;case 5:return 2*t.stringValue.length;case 6:return ms(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,o)=>a+Jh(o),0)}(t.arrayValue);case 10:case 11:return function(r){let a=0;return To(r.fields,(o,u)=>{a+=o.length+Jh(u)}),a}(t.mapValue);default:throw ze(13486,{value:t})}}function ZS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ky(t){return!!t&&"integerValue"in t}function u_(t){return!!t&&"arrayValue"in t}function JS(t){return!!t&&"nullValue"in t}function eT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ed(t){return!!t&&"mapValue"in t}function m6(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[cC])===null||n===void 0?void 0:n.stringValue)===fC}function Ec(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return To(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ec(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ec(t.arrayValue.values[n]);return e}return Object.assign({},t)}function g6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===d6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.value=e}static empty(){return new Pr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ed(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ec(n)}setAll(e){let n=Sn.emptyPath(),r={},a=[];e.forEach((u,f)=>{if(!n.isImmediateParentOf(f)){const d=this.getFieldsMap(n);this.applyChanges(d,r,a),r={},a=[],n=f.popLast()}u?r[f.lastSegment()]=Ec(u):a.push(f.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,a)}delete(e){const n=this.field(e.popLast());ed(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ri(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];ed(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){To(n,(a,o)=>e[a]=o);for(const a of r)delete e[a]}clone(){return new Pr(Ec(this.value))}}function hC(t){const e=[];return To(t.fields,(n,r)=>{const a=new Sn([n]);if(ed(r)){const o=hC(r.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)}),new Hr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n,r,a,o,u,f){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=o,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Dn(e,0,$e.min(),$e.min(),$e.min(),Pr.empty(),0)}static newFoundDocument(e,n,r,a){return new Dn(e,1,n,$e.min(),r,a,0)}static newNoDocument(e,n){return new Dn(e,2,n,$e.min(),$e.min(),Pr.empty(),0)}static newUnknownDocument(e,n){return new Dn(e,3,n,$e.min(),$e.min(),Pr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n){this.position=e,this.inclusive=n}}function tT(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const o=e[a],u=t.position[a];if(o.field.isKeyField()?r=Ne.comparator(Ne.fromName(u.referenceValue),n.key):r=Ul(u,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function nT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ri(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n="asc"){this.field=e,this.dir=n}}function p6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{}class Wt extends dC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new v6(e,n,r):n==="array-contains"?new b6(e,r):n==="in"?new S6(e,r):n==="not-in"?new T6(e,r):n==="array-contains-any"?new w6(e,r):new Wt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new _6(e,r):new E6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ul(n,this.value)):n!==null&&gs(this.value)===gs(n)&&this.matchesComparison(Ul(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $r extends dC{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new $r(e,n)}matches(e){return mC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function mC(t){return t.op==="and"}function gC(t){return y6(t)&&mC(t)}function y6(t){for(const e of t.filters)if(e instanceof $r)return!1;return!0}function Yy(t){if(t instanceof Wt)return t.field.canonicalString()+t.op.toString()+jl(t.value);if(gC(t))return t.filters.map(e=>Yy(e)).join(",");{const e=t.filters.map(n=>Yy(n)).join(",");return`${t.op}(${e})`}}function pC(t,e){return t instanceof Wt?function(r,a){return a instanceof Wt&&r.op===a.op&&r.field.isEqual(a.field)&&Ri(r.value,a.value)}(t,e):t instanceof $r?function(r,a){return a instanceof $r&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((o,u,f)=>o&&pC(u,a.filters[f]),!0):!1}(t,e):void ze(19439)}function yC(t){return t instanceof Wt?function(n){return`${n.field.canonicalString()} ${n.op} ${jl(n.value)}`}(t):t instanceof $r?function(n){return n.op.toString()+" {"+n.getFilters().map(yC).join(" ,")+"}"}(t):"Filter"}class v6 extends Wt{constructor(e,n,r){super(e,n,r),this.key=Ne.fromName(r.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class _6 extends Wt{constructor(e,n){super(e,"in",n),this.keys=vC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class E6 extends Wt{constructor(e,n){super(e,"not-in",n),this.keys=vC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function vC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ne.fromName(r.referenceValue))}class b6 extends Wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return u_(n)&&Uc(n.arrayValue,this.value)}}class S6 extends Wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Uc(this.value.arrayValue,n)}}class T6 extends Wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Uc(this.value.arrayValue,n)}}class w6 extends Wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!u_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Uc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e,n=null,r=[],a=[],o=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=u,this.endAt=f,this.Ie=null}}function rT(t,e=null,n=[],r=[],a=null,o=null,u=null){return new A6(t,e,n,r,a,o,u)}function c_(t){const e=Ge(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Yy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),fm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>jl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>jl(r)).join(",")),e.Ie=n}return e.Ie}function f_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!p6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!pC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nT(t.startAt,e.startAt)&&nT(t.endAt,e.endAt)}function Qy(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n=null,r=[],a=[],o=null,u="F",f=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=u,this.startAt=f,this.endAt=d,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function R6(t,e,n,r,a,o,u,f){return new Jl(t,e,n,r,a,o,u,f)}function h_(t){return new Jl(t)}function iT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _C(t){return t.collectionGroup!==null}function bc(t){const e=Ge(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new sn(Sn.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(g=>{g.isInequality()&&(f=f.add(g.field))})}),f})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new jc(o,r))}),n.has(Sn.keyField().canonicalString())||e.Ee.push(new jc(Sn.keyField(),r))}return e.Ee}function Ti(t){const e=Ge(t);return e.de||(e.de=C6(e,bc(t))),e.de}function C6(t,e){if(t.limitType==="F")return rT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new jc(a.field,o)});const n=t.endAt?new Md(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Md(t.startAt.position,t.startAt.inclusive):null;return rT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Xy(t,e){const n=t.filters.concat([e]);return new Jl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Wy(t,e,n){return new Jl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dm(t,e){return f_(Ti(t),Ti(e))&&t.limitType===e.limitType}function EC(t){return`${c_(Ti(t))}|lt:${t.limitType}`}function Sl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>yC(a)).join(", ")}]`),fm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>jl(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>jl(a)).join(",")),`Target(${r})`}(Ti(t))}; limitType=${t.limitType})`}function mm(t,e){return e.isFoundDocument()&&function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ne.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,a){for(const o of bc(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0}(t,e)&&function(r,a){return!(r.startAt&&!function(u,f,d){const g=tT(u,f,d);return u.inclusive?g<=0:g<0}(r.startAt,bc(r),a)||r.endAt&&!function(u,f,d){const g=tT(u,f,d);return u.inclusive?g>=0:g>0}(r.endAt,bc(r),a))}(t,e)}function x6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bC(t){return(e,n)=>{let r=!1;for(const a of bc(t)){const o=I6(a,e,n);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function I6(t,e,n){const r=t.field.isKeyField()?Ne.comparator(e.key,n.key):function(o,u,f){const d=u.data.field(o),g=f.data.field(o);return d!==null&&g!==null?Ul(d,g):ze(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ze(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){To(this.inner,(n,r)=>{for(const[a,o]of r)e(a,o)})}isEmpty(){return iC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6=new Lt(Ne.comparator);function da(){return O6}const SC=new Lt(Ne.comparator);function dc(...t){let e=SC;for(const n of t)e=e.insert(n.key,n);return e}function TC(t){let e=SC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function so(){return Sc()}function wC(){return Sc()}function Sc(){return new wo(t=>t.toString(),(t,e)=>t.isEqual(e))}const D6=new Lt(Ne.comparator),N6=new sn(Ne.comparator);function st(...t){let e=N6;for(const n of t)e=e.add(n);return e}const P6=new sn(We);function M6(){return P6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dd(e)?"-0":e}}function AC(t){return{integerValue:""+t}}function k6(t,e){return l6(e)?AC(e):d_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(){this._=void 0}}function L6(t,e,n){return t instanceof kd?function(a,o){const u={fields:{[oC]:{stringValue:sC},[uC]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&l_(o)&&(o=hm(o)),o&&(u.fields[lC]=o),{mapValue:u}}(n,e):t instanceof zc?CC(t,e):t instanceof Fc?xC(t,e):function(a,o){const u=RC(a,o),f=aT(u)+aT(a.Re);return Ky(u)&&Ky(a.Re)?AC(f):d_(a.serializer,f)}(t,e)}function V6(t,e,n){return t instanceof zc?CC(t,e):t instanceof Fc?xC(t,e):n}function RC(t,e){return t instanceof Ld?function(r){return Ky(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class kd extends gm{}class zc extends gm{constructor(e){super(),this.elements=e}}function CC(t,e){const n=IC(e);for(const r of t.elements)n.some(a=>Ri(a,r))||n.push(r);return{arrayValue:{values:n}}}class Fc extends gm{constructor(e){super(),this.elements=e}}function xC(t,e){let n=IC(e);for(const r of t.elements)n=n.filter(a=>!Ri(a,r));return{arrayValue:{values:n}}}class Ld extends gm{constructor(e,n){super(),this.serializer=e,this.Re=n}}function aT(t){return Bt(t.integerValue||t.doubleValue)}function IC(t){return u_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function U6(t,e){return t.field.isEqual(e.field)&&function(r,a){return r instanceof zc&&a instanceof zc||r instanceof Fc&&a instanceof Fc?Vl(r.elements,a.elements,Ri):r instanceof Ld&&a instanceof Ld?Ri(r.Re,a.Re):r instanceof kd&&a instanceof kd}(t.transform,e.transform)}class j6{constructor(e,n){this.version=e,this.transformResults=n}}class wi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function td(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class pm{}function OC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new m_(t.key,wi.none()):new rf(t.key,t.data,wi.none());{const n=t.data,r=Pr.empty();let a=new sn(Sn.comparator);for(let o of e.fields)if(!a.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?r.delete(o):r.set(o,u),a=a.add(o)}return new Ao(t.key,r,new Hr(a.toArray()),wi.none())}}function z6(t,e,n){t instanceof rf?function(a,o,u){const f=a.value.clone(),d=oT(a.fieldTransforms,o,u.transformResults);f.setAll(d),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(t,e,n):t instanceof Ao?function(a,o,u){if(!td(a.precondition,o))return void o.convertToUnknownDocument(u.version);const f=oT(a.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(DC(a)),d.setAll(f),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(t,e,n):function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Tc(t,e,n,r){return t instanceof rf?function(o,u,f,d){if(!td(o.precondition,u))return f;const g=o.value.clone(),y=lT(o.fieldTransforms,d,u);return g.setAll(y),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ao?function(o,u,f,d){if(!td(o.precondition,u))return f;const g=lT(o.fieldTransforms,d,u),y=u.data;return y.setAll(DC(o)),y.setAll(g),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),f===null?null:f.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(o,u,f){return td(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(t,e,n)}function F6(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),o=RC(r.transform,a||null);o!=null&&(n===null&&(n=Pr.empty()),n.set(r.field,o))}return n||null}function sT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Vl(r,a,(o,u)=>U6(o,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class rf extends pm{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ao extends pm{constructor(e,n,r,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function DC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function oT(t,e,n){const r=new Map;vt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let a=0;a<n.length;a++){const o=t[a],u=o.transform,f=e.data.field(o.field);r.set(o.field,V6(u,f,n[a]))}return r}function lT(t,e,n){const r=new Map;for(const a of t){const o=a.transform,u=n.data.field(a.field);r.set(a.field,L6(o,u,e))}return r}class m_ extends pm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class B6 extends pm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&z6(o,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Tc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Tc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=wC();return this.mutations.forEach(a=>{const o=e.get(a.key),u=o.overlayedDocument;let f=this.applyToLocalView(u,o.mutatedFields);f=n.has(a.key)?null:f;const d=OC(u,f);d!==null&&r.set(a.key,d),u.isValidDocument()||u.convertToNoDocument($e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),st())}isEqual(e){return this.batchId===e.batchId&&Vl(this.mutations,e.mutations,(n,r)=>sT(n,r))&&Vl(this.baseMutations,e.baseMutations,(n,r)=>sT(n,r))}}class g_{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){vt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let a=function(){return D6}();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,r[u].version);return new g_(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt,ft;function G6(t){switch(t){case ce.OK:return ze(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return ze(15467,{code:t})}}function NC(t){if(t===void 0)return ha("GRPC error has no .code"),ce.UNKNOWN;switch(t){case Xt.OK:return ce.OK;case Xt.CANCELLED:return ce.CANCELLED;case Xt.UNKNOWN:return ce.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return ce.INTERNAL;case Xt.UNAVAILABLE:return ce.UNAVAILABLE;case Xt.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Xt.NOT_FOUND:return ce.NOT_FOUND;case Xt.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Xt.ABORTED:return ce.ABORTED;case Xt.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Xt.DATA_LOSS:return ce.DATA_LOSS;default:return ze(39323,{code:t})}}(ft=Xt||(Xt={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=new os([4294967295,4294967295],0);function uT(t){const e=tC().encode(t),n=new KR;return n.update(e),new Uint8Array(n.digest())}function cT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new os([n,r],0),new os([a,o],0)]}class p_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new mc(`Invalid padding: ${n}`);if(r<0)throw new mc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new mc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new mc(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=os.fromNumber(this.pe)}we(e,n,r){let a=e.add(n.multiply(os.fromNumber(r)));return a.compare(K6)===1&&(a=new os([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=uT(e),[r,a]=cT(n);for(let o=0;o<this.hashCount;o++){const u=this.we(r,a,o);if(!this.be(u))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new p_(o,a,n);return r.forEach(f=>u.insert(f)),u}insert(e){if(this.pe===0)return;const n=uT(e),[r,a]=cT(n);for(let o=0;o<this.hashCount;o++){const u=this.we(r,a,o);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class mc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n,r,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,af.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ym($e.min(),a,new Lt(We),da(),st())}}class af{constructor(e,n,r,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new af(r,n,st(),st(),st())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n,r,a){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=a}}class PC{constructor(e,n){this.targetId=e,this.Ce=n}}class MC{constructor(e,n,r=Tn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class fT{constructor(){this.Fe=0,this.Me=hT(),this.xe=Tn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=st(),n=st(),r=st();return this.Me.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:ze(38017,{changeType:o})}}),new af(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=hT()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,vt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Y6{constructor(e){this.ze=e,this.je=new Map,this.He=da(),this.Je=jh(),this.Ye=jh(),this.Ze=new Lt(We)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:ze(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,a)=>{this.it(a)&&n(a)})}ot(e){const n=e.targetId,r=e.Ce.count,a=this._t(n);if(a){const o=a.target;if(Qy(o))if(r===0){const u=new Ne(o.path);this.tt(n,u,Dn.newNoDocument(u,$e.min()))}else vt(r===1,20013,{expectedCount:r});else{const u=this.ut(n);if(u!==r){const f=this.ct(e),d=f?this.lt(f,e,u):1;if(d!==0){this.st(n);const g=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=n;let u,f;try{u=ms(r).toUint8Array()}catch(d){if(d instanceof aC)return Ll("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{f=new p_(u,a,o)}catch(d){return Ll(d instanceof mc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return f.pe===0?null:f}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let a=0;return r.forEach(o=>{const u=this.ze.Pt(),f=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(f)||(this.tt(n,o,null),a++)}),a}It(e){const n=new Map;this.je.forEach((o,u)=>{const f=this._t(u);if(f){if(o.current&&Qy(f.target)){const d=new Ne(f.target.path);this.Et(d).has(u)||this.dt(u,d)||this.tt(u,d,Dn.newNoDocument(d,e))}o.Le&&(n.set(u,o.qe()),o.Qe())}});let r=st();this.Ye.forEach((o,u)=>{let f=!0;u.forEachWhile(d=>{const g=this._t(d);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const a=new ym(e,n,this.Ze,this.He,r);return this.He=da(),this.Je=jh(),this.Ye=jh(),this.Ze=new Lt(We),a}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const a=this.rt(e);this.dt(e,n)?a.$e(n,1):a.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new fT,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new sn(We),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new sn(We),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new fT),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function jh(){return new Lt(Ne.comparator)}function hT(){return new Lt(Ne.comparator)}const Q6={asc:"ASCENDING",desc:"DESCENDING"},X6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},W6={and:"AND",or:"OR"};class Z6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zy(t,e){return t.useProto3Json||fm(e)?e:{value:e}}function Vd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function J6(t,e){return Vd(t,e.toTimestamp())}function Ai(t){return vt(!!t,49232),$e.fromTimestamp(function(n){const r=ds(n);return new an(r.seconds,r.nanos)}(t))}function y_(t,e){return Jy(t,e).canonicalString()}function Jy(t,e){const n=function(a){return new It(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function LC(t){const e=It.fromString(t);return vt(FC(e),10190,{key:e.toString()}),e}function ev(t,e){return y_(t.databaseId,e.path)}function ny(t,e){const n=LC(e);if(n.get(1)!==t.databaseId.projectId)throw new be(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ne(UC(n))}function VC(t,e){return y_(t.databaseId,e)}function eV(t){const e=LC(t);return e.length===4?It.emptyPath():UC(e)}function tv(t){return new It(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UC(t){return vt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function dT(t,e,n){return{name:ev(t,e),fields:n.value.mapValue.fields}}function tV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ze(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(g,y){return g.useProto3Json?(vt(y===void 0||typeof y=="string",58123),Tn.fromBase64String(y||"")):(vt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Tn.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(g){const y=g.code===void 0?ce.UNKNOWN:NC(g.code);return new be(y,g.message||"")}(u);n=new MC(r,a,o,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=ny(t,r.document.name),o=Ai(r.document.updateTime),u=r.document.createTime?Ai(r.document.createTime):$e.min(),f=new Pr({mapValue:{fields:r.document.fields}}),d=Dn.newFoundDocument(a,o,u,f),g=r.targetIds||[],y=r.removedTargetIds||[];n=new nd(g,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=ny(t,r.document),o=r.readTime?Ai(r.readTime):$e.min(),u=Dn.newNoDocument(a,o),f=r.removedTargetIds||[];n=new nd([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=ny(t,r.document),o=r.removedTargetIds||[];n=new nd([],o,a,null)}else{if(!("filter"in e))return ze(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,u=new $6(a,o),f=r.targetId;n=new PC(f,u)}}return n}function nV(t,e){let n;if(e instanceof rf)n={update:dT(t,e.key,e.value)};else if(e instanceof m_)n={delete:ev(t,e.key)};else if(e instanceof Ao)n={update:dT(t,e.key,e.data),updateMask:fV(e.fieldMask)};else{if(!(e instanceof B6))return ze(16599,{ft:e.type});n={verify:ev(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const f=u.transform;if(f instanceof kd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof zc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Fc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Ld)return{fieldPath:u.field.canonicalString(),increment:f.Re};throw ze(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:J6(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ze(27497)}(t,e.precondition)),n}function rV(t,e){return t&&t.length>0?(vt(e!==void 0,14353),t.map(n=>function(a,o){let u=a.updateTime?Ai(a.updateTime):Ai(o);return u.isEqual($e.min())&&(u=Ai(o)),new j6(u,a.transformResults||[])}(n,e))):[]}function iV(t,e){return{documents:[VC(t,e.path)]}}function aV(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=VC(t,a);const o=function(g){if(g.length!==0)return zC($r.create(g,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const u=function(g){if(g.length!==0)return g.map(y=>function(E){return{field:Tl(E.field),direction:lV(E.dir)}}(y))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=Zy(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:a}}function sV(t){let e=eV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){vt(r===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let o=[];n.where&&(o=function(_){const E=jC(_);return E instanceof $r&&gC(E)?E.getFilters():[E]}(n.where));let u=[];n.orderBy&&(u=function(_){return _.map(E=>function(w){return new jc(wl(w.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(E))}(n.orderBy));let f=null;n.limit&&(f=function(_){let E;return E=typeof _=="object"?_.value:_,fm(E)?null:E}(n.limit));let d=null;n.startAt&&(d=function(_){const E=!!_.before,T=_.values||[];return new Md(T,E)}(n.startAt));let g=null;return n.endAt&&(g=function(_){const E=!_.before,T=_.values||[];return new Md(T,E)}(n.endAt)),R6(e,a,u,o,f,"F",d,g)}function oV(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=wl(n.unaryFilter.field);return Wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=wl(n.unaryFilter.field);return Wt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=wl(n.unaryFilter.field);return Wt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=wl(n.unaryFilter.field);return Wt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ze(61313);default:return ze(60726)}}(t):t.fieldFilter!==void 0?function(n){return Wt.create(wl(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ze(58110);default:return ze(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $r.create(n.compositeFilter.filters.map(r=>jC(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ze(1026)}}(n.compositeFilter.op))}(t):ze(30097,{filter:t})}function lV(t){return Q6[t]}function uV(t){return X6[t]}function cV(t){return W6[t]}function Tl(t){return{fieldPath:t.canonicalString()}}function wl(t){return Sn.fromServerFormat(t.fieldPath)}function zC(t){return t instanceof Wt?function(n){if(n.op==="=="){if(eT(n.value))return{unaryFilter:{field:Tl(n.field),op:"IS_NAN"}};if(JS(n.value))return{unaryFilter:{field:Tl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eT(n.value))return{unaryFilter:{field:Tl(n.field),op:"IS_NOT_NAN"}};if(JS(n.value))return{unaryFilter:{field:Tl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tl(n.field),op:uV(n.op),value:n.value}}}(t):t instanceof $r?function(n){const r=n.getFilters().map(a=>zC(a));return r.length===1?r[0]:{compositeFilter:{op:cV(n.op),filters:r}}}(t):ze(54877,{filter:t})}function fV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function FC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n,r,a,o=$e.min(),u=$e.min(),f=Tn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=d}withSequenceNumber(e){return new rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e){this.wt=e}}function dV(t){const e=sV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(){this.Cn=new gV}addToCollectionParentIndex(e,n){return this.Cn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(hs.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(hs.min())}updateCollectionGroup(e,n,r){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class gV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new sn(It.comparator),o=!a.has(r);return this.index[n]=a.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new sn(It.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BC=41943040;class Gn{static withCacheSize(e){return new Gn(e,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn.DEFAULT_COLLECTION_PERCENTILE=10,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gn.DEFAULT=new Gn(BC,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gn.DISABLED=new Gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new zl(0)}static lr(){return new zl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="LruGarbageCollector",pV=1048576;function pT([t,e],[n,r]){const a=We(t,n);return a===0?We(e,r):a}class yV{constructor(e){this.Er=e,this.buffer=new sn(pT),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();pT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class vV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){_e(gT,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Zl(n)?_e(gT,"Ignoring IndexedDB error during garbage collection: ",n):await Wl(n)}await this.mr(3e5)})}}class _V{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(cm.le);const r=new yV(n);return this.gr.forEachTarget(e,a=>r.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>r.Rr(a))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(mT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mT):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,a,o,u,f,d,g;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(r=_,f=Date.now(),this.removeTargets(e,r,n))).next(_=>(o=_,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(g=Date.now(),bl()<=at.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${o} targets in `+(d-f)+`ms
	Removed ${_} documents in `+(g-d)+`ms
Total Duration: ${g-y}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:_})))}}function EV(t,e){return new _V(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(){this.changes=new wo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?fe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(r!==null&&Tc(r.mutation,a,Hr.empty(),an.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,st()).next(()=>r))}getLocalViewOfDocuments(e,n,r=st()){const a=so();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,r).next(o=>{let u=dc();return o.forEach((f,d)=>{u=u.insert(f,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=so();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,st()))}populateOverlays(e,n,r){const a=[];return r.forEach(o=>{n.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((u,f)=>{n.set(u,f)})})}computeViews(e,n,r,a){let o=da();const u=Sc(),f=function(){return Sc()}();return n.forEach((d,g)=>{const y=r.get(g.key);a.has(g.key)&&(y===void 0||y.mutation instanceof Ao)?o=o.insert(g.key,g):y!==void 0?(u.set(g.key,y.mutation.getFieldMask()),Tc(y.mutation,g,y.mutation.getFieldMask(),an.now())):u.set(g.key,Hr.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((g,y)=>u.set(g,y)),n.forEach((g,y)=>{var _;return f.set(g,new SV(y,(_=u.get(g))!==null&&_!==void 0?_:null))}),f))}recalculateAndSaveOverlays(e,n){const r=Sc();let a=new Lt((u,f)=>u-f),o=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const f of u)f.keys().forEach(d=>{const g=n.get(d);if(g===null)return;let y=r.get(d)||Hr.empty();y=f.applyToLocalView(g,y),r.set(d,y);const _=(a.get(f.batchId)||st()).add(d);a=a.insert(f.batchId,_)})}).next(()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const d=f.getNext(),g=d.key,y=d.value,_=wC();y.forEach(E=>{if(!o.has(E)){const T=OC(n.get(E),r.get(E));T!==null&&_.set(E,T),o=o.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,g,_))}return fe.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,a){return function(u){return Ne.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_C(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next(o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-o.size):fe.resolve(so());let f=kc,d=o;return u.next(g=>fe.forEach(g,(y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),o.get(y)?fe.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{d=d.insert(y,E)}))).next(()=>this.populateOverlays(e,g,o)).next(()=>this.computeViews(e,d,g,st())).next(y=>({batchId:f,changes:TC(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next(r=>{let a=dc();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const o=n.collectionGroup;let u=dc();return this.indexManager.getCollectionParents(e,o).next(f=>fe.forEach(f,d=>{const g=function(_,E){return new Jl(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,g,r,a).next(y=>{y.forEach((_,E)=>{u=u.insert(_,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,a))).next(u=>{o.forEach((d,g)=>{const y=g.getKey();u.get(y)===null&&(u=u.insert(y,Dn.newInvalidDocument(y)))});let f=dc();return u.forEach((d,g)=>{const y=o.get(d);y!==void 0&&Tc(y.mutation,g,Hr.empty(),an.now()),mm(n,g)&&(f=f.insert(d,g))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return fe.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Ai(a.createTime)}}(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(a){return{name:a.name,query:dV(a.bundledQuery),readTime:Ai(a.readTime)}}(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(){this.overlays=new Lt(Ne.comparator),this.Qr=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=so();return fe.forEach(n,a=>this.getOverlay(e,a).next(o=>{o!==null&&r.set(a,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((a,o)=>{this.St(e,n,o)}),fe.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.Qr.get(r);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),fe.resolve()}getOverlaysForCollection(e,n,r){const a=so(),o=n.length+1,u=new Ne(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const d=f.getNext().value,g=d.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===o&&d.largestBatchId>r&&a.set(d.getKey(),d)}return fe.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let o=new Lt((g,y)=>g-y);const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let y=o.get(g.largestBatchId);y===null&&(y=so(),o=o.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const f=so(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((g,y)=>f.set(g,y)),!(f.size()>=a)););return fe.resolve(f)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.Qr.get(a.largestBatchId).delete(r.key);this.Qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new q6(n,r));let o=this.Qr.get(n);o===void 0&&(o=st(),this.Qr.set(n,o)),this.Qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(){this.sessionToken=Tn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(){this.$r=new sn(hn.Ur),this.Kr=new sn(hn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new hn(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new hn(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Ne(new It([])),r=new hn(n,e),a=new hn(n,e+1),o=[];return this.Kr.forEachInRange([r,a],u=>{this.zr(u),o.push(u.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Ne(new It([])),r=new hn(n,e),a=new hn(n,e+1);let o=st();return this.Kr.forEachInRange([r,a],u=>{o=o.add(u.key)}),o}containsKey(e){const n=new hn(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class hn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Ne.comparator(e.key,n.key)||We(e.Zr,n.Zr)}static Wr(e,n){return We(e.Zr,n.Zr)||Ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new sn(hn.Ur)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new H6(o,n,r,a);this.mutationQueue.push(u);for(const f of a)this.Xr=this.Xr.add(new hn(f.key,o)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return fe.resolve(u)}lookupMutationBatch(e,n){return fe.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ti(r),o=a<0?0:a;return fe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?o_:this.nr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new hn(n,0),a=new hn(n,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,a],u=>{const f=this.ei(u.Zr);o.push(f)}),fe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new sn(We);return n.forEach(a=>{const o=new hn(a,0),u=new hn(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,u],f=>{r=r.add(f.Zr)})}),fe.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let o=r;Ne.isDocumentKey(o)||(o=o.child(""));const u=new hn(new Ne(o),0);let f=new sn(We);return this.Xr.forEachWhile(d=>{const g=d.key.path;return!!r.isPrefixOf(g)&&(g.length===a&&(f=f.add(d.Zr)),!0)},u),fe.resolve(this.ni(f))}ni(e){const n=[];return e.forEach(r=>{const a=this.ei(r);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){vt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return fe.forEach(n.mutations,a=>{const o=new hn(a.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new hn(n,0),a=this.Xr.firstAfterOrEqual(r);return fe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e){this.ii=e,this.docs=function(){return new Lt(Ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),o=a?a.size:0,u=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return fe.resolve(r?r.document.mutableCopy():Dn.newInvalidDocument(n))}getEntries(e,n){let r=da();return n.forEach(a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():Dn.newInvalidDocument(a))}),fe.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let o=da();const u=n.path,f=new Ne(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(f);for(;d.hasNext();){const{key:g,value:{document:y}}=d.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||i6(r6(y),r)<=0||(a.has(y.key)||mm(n,y))&&(o=o.insert(y.key,y.mutableCopy()))}return fe.resolve(o)}getAllFromCollectionGroup(e,n,r,a){ze(9500)}si(e,n){return fe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new IV(this)}getSize(e){return fe.resolve(this.size)}}class IV extends bV{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.Br.addEntry(e,a)):this.Br.removeEntry(r)}),fe.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e){this.persistence=e,this.oi=new wo(n=>c_(n),f_),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this._i=0,this.ai=new v_,this.targetCount=0,this.ui=zl.cr()}forEachTarget(e,n){return this.oi.forEach((r,a)=>n(a)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),fe.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new zl(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.Tr(n),fe.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,r){let a=0;const o=[];return this.oi.forEach((u,f)=>{f.sequenceNumber<=n&&r.get(f.targetId)===null&&(this.oi.delete(u),o.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),fe.waitFor(o).next(()=>a)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return fe.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),fe.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach(u=>{o.push(a.markPotentiallyOrphaned(e,u))}),fe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return fe.resolve(r)}containsKey(e,n){return fe.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,n){this.ci={},this.overlays={},this.li=new cm(0),this.hi=!1,this.hi=!0,this.Pi=new RV,this.referenceDelegate=e(this),this.Ti=new OV(this),this.indexManager=new mV,this.remoteDocumentCache=function(a){return new xV(a)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new hV(n),this.Ei=new wV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new AV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new CV(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){_e("MemoryPersistence","Starting transaction:",e);const a=new DV(this.li.next());return this.referenceDelegate.di(),r(a).next(o=>this.referenceDelegate.Ai(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}Ri(e,n){return fe.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class DV extends s6{constructor(e){super(),this.currentSequenceNumber=e}}class __{constructor(e){this.persistence=e,this.Vi=new v_,this.mi=null}static fi(e){return new __(e)}get gi(){if(this.mi)return this.mi;throw ze(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),fe.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(a=>this.gi.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.gi,r=>{const a=Ne.fromPath(r);return this.pi(e,a).next(o=>{o||n.removeEntry(a,$e.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return fe.or([()=>fe.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Ud{constructor(e,n){this.persistence=e,this.yi=new wo(r=>u6(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=EV(this,n)}static fi(e,n){return new Ud(e,n)}di(){}Ai(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(a=>r+a))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return fe.forEach(this.yi,(r,a)=>this.Dr(e,r,a).next(o=>o?fe.resolve():n(a)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.si(e,u=>this.Dr(e,u,n).next(f=>{f||(r++,o.removeEntry(u,$e.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),fe.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Jh(e.data.value)),n}Dr(e,n,r){return fe.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.yi.get(n);return fe.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.ds=r,this.As=a}static Rs(e,n){let r=st(),a=st();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new E_(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return ZO()?8:o6(Nn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,a){const o={result:null};return this.ws(e,n).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.bs(e,n,a,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new NV;return this.Ss(e,n,u).next(f=>{if(o.result=f,this.fs)return this.Ds(e,n,u,f.size)})}).next(()=>o.result)}Ds(e,n,r,a){return r.documentReadCount<this.gs?(bl()<=at.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Sl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),fe.resolve()):(bl()<=at.DEBUG&&_e("QueryEngine","Query:",Sl(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ps*a?(bl()<=at.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Sl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ti(n))):fe.resolve())}ws(e,n){if(iT(n))return fe.resolve(null);let r=Ti(n);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Wy(n,null,"F"),r=Ti(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=st(...o);return this.ys.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,r).next(d=>{const g=this.vs(n,f);return this.Cs(n,g,u,d.readTime)?this.ws(e,Wy(n,null,"F")):this.Fs(e,g,n,d)}))})))}bs(e,n,r,a){return iT(n)||a.isEqual($e.min())?fe.resolve(null):this.ys.getDocuments(e,r).next(o=>{const u=this.vs(n,o);return this.Cs(n,u,r,a)?fe.resolve(null):(bl()<=at.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Sl(n)),this.Fs(e,u,n,n6(a,kc)).next(f=>f))})}vs(e,n){let r=new sn(bC(e));return n.forEach((a,o)=>{mm(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,n,r){return bl()<=at.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Sl(n)),this.ys.getDocumentsMatchingQuery(e,n,hs.min(),r)}Fs(e,n,r,a){return this.ys.getDocumentsMatchingQuery(e,r,a).next(o=>(n.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="LocalStore",MV=3e8;class kV{constructor(e,n,r,a){this.persistence=e,this.Ms=n,this.serializer=a,this.xs=new Lt(We),this.Os=new wo(o=>c_(o),f_),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TV(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function LV(t,e,n,r){return new kV(t,e,n,r)}async function qC(t,e){const n=Ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(o=>(a=o,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],f=[];let d=st();for(const g of a){u.push(g.batchId);for(const y of g.mutations)d=d.add(y.key)}for(const g of o){f.push(g.batchId);for(const y of g.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(r,d).next(g=>({ks:g,removedBatchIds:u,addedBatchIds:f}))})})}function VV(t,e){const n=Ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),o=n.Bs.newChangeBuffer({trackRemovals:!0});return function(f,d,g,y){const _=g.batch,E=_.keys();let T=fe.resolve();return E.forEach(w=>{T=T.next(()=>y.getEntry(d,w)).next(D=>{const k=g.docVersions.get(w);vt(k!==null,48541),D.version.compareTo(k)<0&&(_.applyToRemoteDocument(D,g),D.isValidDocument()&&(D.setReadTime(g.commitVersion),y.addEntry(D)))})}),T.next(()=>f.mutationQueue.removeMutationBatch(d,_))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let d=st();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(d=d.add(f.batch.mutations[g].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,a))})}function $C(t){const e=Ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function UV(t,e){const n=Ge(t),r=e.snapshotVersion;let a=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=n.Bs.newChangeBuffer({trackRemovals:!0});a=n.xs;const f=[];e.targetChanges.forEach((y,_)=>{const E=a.get(_);if(!E)return;f.push(n.Ti.removeMatchingKeys(o,y.removedDocuments,_).next(()=>n.Ti.addMatchingKeys(o,y.addedDocuments,_)));let T=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?T=T.withResumeToken(Tn.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):y.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(y.resumeToken,r)),a=a.insert(_,T),function(D,k,j){return D.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=MV?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(E,T,y)&&f.push(n.Ti.updateTargetData(o,T))});let d=da(),g=st();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(o,y))}),f.push(jV(o,u,e.documentUpdates).next(y=>{d=y.qs,g=y.Qs})),!r.isEqual($e.min())){const y=n.Ti.getLastRemoteSnapshotVersion(o).next(_=>n.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));f.push(y)}return fe.waitFor(f).next(()=>u.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,d,g)).next(()=>d)}).then(o=>(n.xs=a,o))}function jV(t,e,n){let r=st(),a=st();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let u=da();return n.forEach((f,d)=>{const g=o.get(f);d.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(f)),d.isNoDocument()&&d.version.isEqual($e.min())?(e.removeEntry(f,d.readTime),u=u.insert(f,d)):!g.isValidDocument()||d.version.compareTo(g.version)>0||d.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(d),u=u.insert(f,d)):_e(b_,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",d.version)}),{qs:u,Qs:a}})}function zV(t,e){const n=Ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=o_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function FV(t,e){const n=Ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.Ti.getTargetData(r,e).next(o=>o?(a=o,fe.resolve(a)):n.Ti.allocateTargetId(r).next(u=>(a=new rs(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.xs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function nv(t,e,n){const r=Ge(t),a=r.xs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!Zl(u))throw u;_e(b_,`Failed to update sequence numbers for target ${e}: ${u}`)}r.xs=r.xs.remove(e),r.Os.delete(a.target)}function yT(t,e,n){const r=Ge(t);let a=$e.min(),o=st();return r.persistence.runTransaction("Execute query","readwrite",u=>function(d,g,y){const _=Ge(d),E=_.Os.get(y);return E!==void 0?fe.resolve(_.xs.get(E)):_.Ti.getTargetData(g,y)}(r,u,Ti(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(u,f.targetId).next(d=>{o=d})}).next(()=>r.Ms.getDocumentsMatchingQuery(u,e,n?a:$e.min(),n?o:st())).next(f=>(BV(r,x6(e),f),{documents:f,$s:o})))}function BV(t,e,n){let r=t.Ns.get(e)||$e.min();n.forEach((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ns.set(e,r)}class vT{constructor(){this.activeTargetIds=M6()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HV{constructor(){this.xo=new vT,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new vT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="ConnectivityMonitor";class ET{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){_e(_T,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){_e(_T,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zh=null;function rv(){return zh===null?zh=function(){return 268435456+Math.round(2147483648*Math.random())}():zh++,"0x"+zh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="RestConnection",$V={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GV{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${a}`,this.Go=this.databaseId.database===Nd?`project_id=${r}`:`project_id=${r}&database_id=${a}`}zo(e,n,r,a,o){const u=rv(),f=this.jo(e,n.toUriEncodedString());_e(ry,`Sending RPC '${e}' ${u}:`,f,r);const d={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(d,a,o);const{host:g}=new URL(f),y=$l(g);return this.Jo(e,f,d,r,y).then(_=>(_e(ry,`Received RPC '${e}' ${u}: `,_),_),_=>{throw Ll(ry,`RPC '${e}' ${u} failed with error: `,_,"url: ",f,"request:",r),_})}Yo(e,n,r,a,o,u){return this.zo(e,n,r,a,o)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,o)=>e[o]=a),r&&r.headers.forEach((a,o)=>e[o]=a)}jo(e,n){const r=$V[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In="WebChannelConnection";class YV extends GV{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,o){const u=rv();return new Promise((f,d)=>{const g=new YR;g.setWithCredentials(!0),g.listenOnce(QR.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Zh.NO_ERROR:const _=g.getResponseJson();_e(In,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),f(_);break;case Zh.TIMEOUT:_e(In,`RPC '${e}' ${u} timed out`),d(new be(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Zh.HTTP_ERROR:const E=g.getStatus();if(_e(In,`RPC '${e}' ${u} failed with status:`,E,"response text:",g.getResponseText()),E>0){let T=g.getResponseJson();Array.isArray(T)&&(T=T[0]);const w=T==null?void 0:T.error;if(w&&w.status&&w.message){const D=function(j){const W=j.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(W)>=0?W:ce.UNKNOWN}(w.status);d(new be(D,w.message))}else d(new be(ce.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new be(ce.UNAVAILABLE,"Connection failed."));break;default:ze(9055,{h_:e,streamId:u,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{_e(In,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(a);_e(In,`RPC '${e}' ${u} sending request:`,a),g.send(n,"POST",y,r,15)})}I_(e,n,r){const a=rv(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=ZR(),f=WR(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(d.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Ho(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const y=o.join("");_e(In,`Creating RPC '${e}' stream ${a}: ${y}`,d);const _=u.createWebChannel(y,d);this.E_(_);let E=!1,T=!1;const w=new KV({Zo:k=>{T?_e(In,`Not sending because RPC '${e}' stream ${a} is closed:`,k):(E||(_e(In,`Opening RPC '${e}' stream ${a} transport.`),_.open(),E=!0),_e(In,`RPC '${e}' stream ${a} sending:`,k),_.send(k))},Xo:()=>_.close()}),D=(k,j,W)=>{k.listen(j,G=>{try{W(G)}catch(ne){setTimeout(()=>{throw ne},0)}})};return D(_,hc.EventType.OPEN,()=>{T||(_e(In,`RPC '${e}' stream ${a} transport opened.`),w.__())}),D(_,hc.EventType.CLOSE,()=>{T||(T=!0,_e(In,`RPC '${e}' stream ${a} transport closed`),w.u_(),this.d_(_))}),D(_,hc.EventType.ERROR,k=>{T||(T=!0,Ll(In,`RPC '${e}' stream ${a} transport errored. Name:`,k.name,"Message:",k.message),w.u_(new be(ce.UNAVAILABLE,"The operation could not be completed")))}),D(_,hc.EventType.MESSAGE,k=>{var j;if(!T){const W=k.data[0];vt(!!W,16349);const G=W,ne=(G==null?void 0:G.error)||((j=G[0])===null||j===void 0?void 0:j.error);if(ne){_e(In,`RPC '${e}' stream ${a} received error:`,ne);const ee=ne.status;let B=function(C){const M=Xt[C];if(M!==void 0)return NC(M)}(ee),N=ne.message;B===void 0&&(B=ce.INTERNAL,N="Unknown error status: "+ee+" with message "+ne.message),T=!0,w.u_(new be(B,N)),_.close()}else _e(In,`RPC '${e}' stream ${a} received:`,W),w.c_(W)}}),D(f,XR.STAT_EVENT,k=>{k.stat===qy.PROXY?_e(In,`RPC '${e}' stream ${a} detected buffering proxy`):k.stat===qy.NOPROXY&&_e(In,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{w.a_()},0),w}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function iy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(t){return new Z6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n,r=1e3,a=1.5,o=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=a,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),a=Math.max(0,n-r);a>0&&_e("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="PersistentStream";class KC{constructor(e,n,r,a,o,u,f,d){this.xi=e,this.S_=r,this.D_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=d,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new GC(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(ha(n.toString()),ha("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.v_===n&&this.z_(r,a)},r=>{e(()=>{const a=new be(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(a)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{r(()=>this.j_(a))}),this.stream.onMessage(a=>{r(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return _e(bT,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(_e(bT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class QV extends KC{constructor(e,n,r,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,u),this.serializer=o}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=tV(this.serializer,e),r=function(o){if(!("targetChange"in o))return $e.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?$e.min():u.readTime?Ai(u.readTime):$e.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=tv(this.serializer),n.addTarget=function(o,u){let f;const d=u.target;if(f=Qy(d)?{documents:iV(o,d)}:{query:aV(o,d).gt},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=kC(o,u.resumeToken);const g=Zy(o,u.expectedCount);g!==null&&(f.expectedCount=g)}else if(u.snapshotVersion.compareTo($e.min())>0){f.readTime=Vd(o,u.snapshotVersion.toTimestamp());const g=Zy(o,u.expectedCount);g!==null&&(f.expectedCount=g)}return f}(this.serializer,e);const r=oV(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=tv(this.serializer),n.removeTarget=e,this.Q_(n)}}class XV extends KC{constructor(e,n,r,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,u),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return vt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,vt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){vt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=rV(e.writeResults,e.commitTime),r=Ai(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=tv(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>nV(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{}class ZV extends WV{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new be(ce.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.zo(e,Jy(n,r),a,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new be(ce.UNKNOWN,o.toString())})}Yo(e,n,r,a,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Yo(e,Jy(n,r),a,u,f,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new be(ce.UNKNOWN,u.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class JV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ha(n),this.ua=!1):_e("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo="RemoteStore";class eU{constructor(e,n,r,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(u=>{r.enqueueAndForget(async()=>{Ro(this)&&(_e(yo,"Restarting streams for network reachability change."),await async function(d){const g=Ge(d);g.da.add(4),await sf(g),g.Va.set("Unknown"),g.da.delete(4),await _m(g)}(this))})}),this.Va=new JV(r,a)}}async function _m(t){if(Ro(t))for(const e of t.Aa)await e(!0)}async function sf(t){for(const e of t.Aa)await e(!1)}function YC(t,e){const n=Ge(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),A_(n)?w_(n):eu(n).N_()&&T_(n,e))}function S_(t,e){const n=Ge(t),r=eu(n);n.Ea.delete(e),r.N_()&&QC(n,e),n.Ea.size===0&&(r.N_()?r.k_():Ro(n)&&n.Va.set("Unknown"))}function T_(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}eu(t).Z_(e)}function QC(t,e){t.ma.Ke(e),eu(t).X_(e)}function w_(t){t.ma=new Y6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),eu(t).start(),t.Va.ca()}function A_(t){return Ro(t)&&!eu(t).O_()&&t.Ea.size>0}function Ro(t){return Ge(t).da.size===0}function XC(t){t.ma=void 0}async function tU(t){t.Va.set("Online")}async function nU(t){t.Ea.forEach((e,n)=>{T_(t,e)})}async function rU(t,e){XC(t),A_(t)?(t.Va.Pa(e),w_(t)):t.Va.set("Unknown")}async function iU(t,e,n){if(t.Va.set("Online"),e instanceof MC&&e.state===2&&e.cause)try{await async function(a,o){const u=o.cause;for(const f of o.targetIds)a.Ea.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ea.delete(f),a.ma.removeTarget(f))}(t,e)}catch(r){_e(yo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await jd(t,r)}else if(e instanceof nd?t.ma.Xe(e):e instanceof PC?t.ma.ot(e):t.ma.nt(e),!n.isEqual($e.min()))try{const r=await $C(t.localStore);n.compareTo(r)>=0&&await function(o,u){const f=o.ma.It(u);return f.targetChanges.forEach((d,g)=>{if(d.resumeToken.approximateByteSize()>0){const y=o.Ea.get(g);y&&o.Ea.set(g,y.withResumeToken(d.resumeToken,u))}}),f.targetMismatches.forEach((d,g)=>{const y=o.Ea.get(d);if(!y)return;o.Ea.set(d,y.withResumeToken(Tn.EMPTY_BYTE_STRING,y.snapshotVersion)),QC(o,d);const _=new rs(y.target,d,g,y.sequenceNumber);T_(o,_)}),o.remoteSyncer.applyRemoteEvent(f)}(t,n)}catch(r){_e(yo,"Failed to raise snapshot:",r),await jd(t,r)}}async function jd(t,e,n){if(!Zl(e))throw e;t.da.add(1),await sf(t),t.Va.set("Offline"),n||(n=()=>$C(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{_e(yo,"Retrying IndexedDB access"),await n(),t.da.delete(1),await _m(t)})}function WC(t,e){return e().catch(n=>jd(t,n,e))}async function Em(t){const e=Ge(t),n=ps(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:o_;for(;aU(e);)try{const a=await zV(e.localStore,r);if(a===null){e.Ia.length===0&&n.k_();break}r=a.batchId,sU(e,a)}catch(a){await jd(e,a)}ZC(e)&&JC(e)}function aU(t){return Ro(t)&&t.Ia.length<10}function sU(t,e){t.Ia.push(e);const n=ps(t);n.N_()&&n.ea&&n.ta(e.mutations)}function ZC(t){return Ro(t)&&!ps(t).O_()&&t.Ia.length>0}function JC(t){ps(t).start()}async function oU(t){ps(t).ia()}async function lU(t){const e=ps(t);for(const n of t.Ia)e.ta(n.mutations)}async function uU(t,e,n){const r=t.Ia.shift(),a=g_.from(r,e,n);await WC(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await Em(t)}async function cU(t,e){e&&ps(t).ea&&await async function(r,a){if(function(u){return G6(u)&&u!==ce.ABORTED}(a.code)){const o=r.Ia.shift();ps(r).L_(),await WC(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a)),await Em(r)}}(t,e),ZC(t)&&JC(t)}async function ST(t,e){const n=Ge(t);n.asyncQueue.verifyOperationInProgress(),_e(yo,"RemoteStore received new credentials");const r=Ro(n);n.da.add(3),await sf(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await _m(n)}async function fU(t,e){const n=Ge(t);e?(n.da.delete(2),await _m(n)):e||(n.da.add(2),await sf(n),n.Va.set("Unknown"))}function eu(t){return t.fa||(t.fa=function(n,r,a){const o=Ge(n);return o.oa(),new QV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(t.datastore,t.asyncQueue,{e_:tU.bind(null,t),n_:nU.bind(null,t),i_:rU.bind(null,t),Y_:iU.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),A_(t)?w_(t):t.Va.set("Unknown")):(await t.fa.stop(),XC(t))})),t.fa}function ps(t){return t.ga||(t.ga=function(n,r,a){const o=Ge(n);return o.oa(),new XV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:oU.bind(null,t),i_:cU.bind(null,t),na:lU.bind(null,t),ra:uU.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await Em(t)):(await t.ga.stop(),t.Ia.length>0&&(_e(yo,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e,n,r,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new sa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,o){const u=Date.now()+r,f=new R_(e,n,u,a,o);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function C_(t,e){if(ha("AsyncQueue",`${e}: ${t}`),Zl(t))return new be(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{static emptySet(e){return new Nl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ne.comparator(n.key,r.key):(n,r)=>Ne.comparator(n.key,r.key),this.keyedMap=dc(),this.sortedSet=new Lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Nl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Nl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.pa=new Lt(Ne.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):ze(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Fl{constructor(e,n,r,a,o,u,f,d,g){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=d,this.hasCachedResults=g}static fromInitialDocuments(e,n,r,a,o){const u=[];return n.forEach(f=>{u.push({type:0,doc:f})}),new Fl(e,n,Nl.emptySet(n),u,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class dU{constructor(){this.queries=wT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=Ge(n),o=a.queries;a.queries=wT(),o.forEach((u,f)=>{for(const d of f.Sa)d.onError(r)})})(this,new be(ce.ABORTED,"Firestore shutting down"))}}function wT(){return new wo(t=>EC(t),dm)}async function ex(t,e){const n=Ge(t);let r=3;const a=e.query;let o=n.queries.get(a);o?!o.Da()&&e.va()&&(r=2):(o=new hU,r=e.va()?0:1);try{switch(r){case 0:o.ba=await n.onListen(a,!0);break;case 1:o.ba=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const f=C_(u,`Initialization of query '${Sl(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,o),o.Sa.push(e),e.Fa(n.onlineState),o.ba&&e.Ma(o.ba)&&x_(n)}async function tx(t,e){const n=Ge(t),r=e.query;let a=3;const o=n.queries.get(r);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?a=e.va()?0:1:!o.Da()&&e.va()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function mU(t,e){const n=Ge(t);let r=!1;for(const a of e){const o=a.query,u=n.queries.get(o);if(u){for(const f of u.Sa)f.Ma(a)&&(r=!0);u.ba=a}}r&&x_(n)}function gU(t,e,n){const r=Ge(t),a=r.queries.get(e);if(a)for(const o of a.Sa)o.onError(n);r.queries.delete(e)}function x_(t){t.Ca.forEach(e=>{e.next()})}var iv,AT;(AT=iv||(iv={})).xa="default",AT.Cache="cache";class nx{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Fl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Fl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==iv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e){this.key=e}}class ix{constructor(e){this.key=e}}class pU{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=st(),this.mutatedKeys=st(),this.Za=bC(e),this.Xa=new Nl(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new TT,a=n?n.Xa:this.Xa;let o=n?n.mutatedKeys:this.mutatedKeys,u=a,f=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,_)=>{const E=a.get(y),T=mm(this.query,_)?_:null,w=!!E&&this.mutatedKeys.has(E.key),D=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let k=!1;E&&T?E.data.isEqual(T.data)?w!==D&&(r.track({type:3,doc:T}),k=!0):this.ru(E,T)||(r.track({type:2,doc:T}),k=!0,(d&&this.Za(T,d)>0||g&&this.Za(T,g)<0)&&(f=!0)):!E&&T?(r.track({type:0,doc:T}),k=!0):E&&!T&&(r.track({type:1,doc:E}),k=!0,(d||g)&&(f=!0)),k&&(T?(u=u.add(T),o=D?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{Xa:u,nu:r,Cs:f,mutatedKeys:o}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const u=e.nu.wa();u.sort((y,_)=>function(T,w){const D=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze(20277,{Vt:k})}};return D(T)-D(w)}(y.type,_.type)||this.Za(y.doc,_.doc)),this.iu(r),a=a!=null&&a;const f=n&&!a?this.su():[],d=this.Ya.size===0&&this.current&&!a?1:0,g=d!==this.Ja;return this.Ja=d,u.length!==0||g?{snapshot:new Fl(this.query,e.Xa,o,u,e.mutatedKeys,d===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:f}:{ou:f}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new TT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=st(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new ix(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new rx(r))}),n}au(e){this.Ha=e.$s,this.Ya=st();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Fl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const I_="SyncEngine";class yU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class vU{constructor(e){this.key=e,this.cu=!1}}class _U{constructor(e,n,r,a,o,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.lu={},this.hu=new wo(f=>EC(f),dm),this.Pu=new Map,this.Tu=new Set,this.Iu=new Lt(Ne.comparator),this.Eu=new Map,this.du=new v_,this.Au={},this.Ru=new Map,this.Vu=zl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function EU(t,e,n=!0){const r=cx(t);let a;const o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.uu()):a=await ax(r,e,n,!0),a}async function bU(t,e){const n=cx(t);await ax(n,e,!0,!1)}async function ax(t,e,n,r){const a=await FV(t.localStore,Ti(e)),o=a.targetId,u=t.sharedClientState.addLocalQueryTarget(o,n);let f;return r&&(f=await SU(t,e,o,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&YC(t.remoteStore,a),f}async function SU(t,e,n,r,a){t.fu=(_,E,T)=>async function(D,k,j,W){let G=k.view.tu(j);G.Cs&&(G=await yT(D.localStore,k.query,!1).then(({documents:N})=>k.view.tu(N,G)));const ne=W&&W.targetChanges.get(k.targetId),ee=W&&W.targetMismatches.get(k.targetId)!=null,B=k.view.applyChanges(G,D.isPrimaryClient,ne,ee);return CT(D,k.targetId,B.ou),B.snapshot}(t,_,E,T);const o=await yT(t.localStore,e,!0),u=new pU(e,o.$s),f=u.tu(o.documents),d=af.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),g=u.applyChanges(f,t.isPrimaryClient,d);CT(t,n,g.ou);const y=new yU(e,n,u);return t.hu.set(e,y),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),g.snapshot}async function TU(t,e,n){const r=Ge(t),a=r.hu.get(e),o=r.Pu.get(a.targetId);if(o.length>1)return r.Pu.set(a.targetId,o.filter(u=>!dm(u,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await nv(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&S_(r.remoteStore,a.targetId),av(r,a.targetId)}).catch(Wl)):(av(r,a.targetId),await nv(r.localStore,a.targetId,!0))}async function wU(t,e){const n=Ge(t),r=n.hu.get(e),a=n.Pu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),S_(n.remoteStore,r.targetId))}async function AU(t,e,n){const r=NU(t);try{const a=await function(u,f){const d=Ge(u),g=an.now(),y=f.reduce((T,w)=>T.add(w.key),st());let _,E;return d.persistence.runTransaction("Locally write mutations","readwrite",T=>{let w=da(),D=st();return d.Bs.getEntries(T,y).next(k=>{w=k,w.forEach((j,W)=>{W.isValidDocument()||(D=D.add(j))})}).next(()=>d.localDocuments.getOverlayedDocuments(T,w)).next(k=>{_=k;const j=[];for(const W of f){const G=F6(W,_.get(W.key).overlayedDocument);G!=null&&j.push(new Ao(W.key,G,hC(G.value.mapValue),wi.exists(!0)))}return d.mutationQueue.addMutationBatch(T,g,j,f)}).next(k=>{E=k;const j=k.applyToLocalDocumentSet(_,D);return d.documentOverlayCache.saveOverlays(T,k.batchId,j)})}).then(()=>({batchId:E.batchId,changes:TC(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(u,f,d){let g=u.Au[u.currentUser.toKey()];g||(g=new Lt(We)),g=g.insert(f,d),u.Au[u.currentUser.toKey()]=g}(r,a.batchId,n),await of(r,a.changes),await Em(r.remoteStore)}catch(a){const o=C_(a,"Failed to persist write");n.reject(o)}}async function sx(t,e){const n=Ge(t);try{const r=await UV(n.localStore,e);e.targetChanges.forEach((a,o)=>{const u=n.Eu.get(o);u&&(vt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.cu=!0:a.modifiedDocuments.size>0?vt(u.cu,14607):a.removedDocuments.size>0&&(vt(u.cu,42227),u.cu=!1))}),await of(n,r,e)}catch(r){await Wl(r)}}function RT(t,e,n){const r=Ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.hu.forEach((o,u)=>{const f=u.view.Fa(e);f.snapshot&&a.push(f.snapshot)}),function(u,f){const d=Ge(u);d.onlineState=f;let g=!1;d.queries.forEach((y,_)=>{for(const E of _.Sa)E.Fa(f)&&(g=!0)}),g&&x_(d)}(r.eventManager,e),a.length&&r.lu.Y_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function RU(t,e,n){const r=Ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Eu.get(e),o=a&&a.key;if(o){let u=new Lt(Ne.comparator);u=u.insert(o,Dn.newNoDocument(o,$e.min()));const f=st().add(o),d=new ym($e.min(),new Map,new Lt(We),u,f);await sx(r,d),r.Iu=r.Iu.remove(o),r.Eu.delete(e),O_(r)}else await nv(r.localStore,e,!1).then(()=>av(r,e,n)).catch(Wl)}async function CU(t,e){const n=Ge(t),r=e.batch.batchId;try{const a=await VV(n.localStore,e);lx(n,r,null),ox(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await of(n,a)}catch(a){await Wl(a)}}async function xU(t,e,n){const r=Ge(t);try{const a=await function(u,f){const d=Ge(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return d.mutationQueue.lookupMutationBatch(g,f).next(_=>(vt(_!==null,37113),y=_.keys(),d.mutationQueue.removeMutationBatch(g,_))).next(()=>d.mutationQueue.performConsistencyCheck(g)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(g,y,f)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>d.localDocuments.getDocuments(g,y))})}(r.localStore,e);lx(r,e,n),ox(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await of(r,a)}catch(a){await Wl(a)}}function ox(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function lx(t,e,n){const r=Ge(t);let a=r.Au[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),r.Au[r.currentUser.toKey()]=a}}function av(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||ux(t,r)})}function ux(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(S_(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),O_(t))}function CT(t,e,n){for(const r of n)r instanceof rx?(t.du.addReference(r.key,e),IU(t,r)):r instanceof ix?(_e(I_,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||ux(t,r.key)):ze(19791,{pu:r})}function IU(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(_e(I_,"New document in limbo: "+n),t.Tu.add(r),O_(t))}function O_(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Ne(It.fromString(e)),r=t.Vu.next();t.Eu.set(r,new vU(n)),t.Iu=t.Iu.insert(n,r),YC(t.remoteStore,new rs(Ti(h_(n.path)),r,"TargetPurposeLimboResolution",cm.le))}}async function of(t,e,n){const r=Ge(t),a=[],o=[],u=[];r.hu.isEmpty()||(r.hu.forEach((f,d)=>{u.push(r.fu(d,e,n).then(g=>{var y;if((g||n)&&r.isPrimaryClient){const _=g?!g.fromCache:(y=n==null?void 0:n.targetChanges.get(d.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(d.targetId,_?"current":"not-current")}if(g){a.push(g);const _=E_.Rs(d.targetId,g);o.push(_)}}))}),await Promise.all(u),r.lu.Y_(a),await async function(d,g){const y=Ge(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>fe.forEach(g,E=>fe.forEach(E.ds,T=>y.persistence.referenceDelegate.addReference(_,E.targetId,T)).next(()=>fe.forEach(E.As,T=>y.persistence.referenceDelegate.removeReference(_,E.targetId,T)))))}catch(_){if(!Zl(_))throw _;_e(b_,"Failed to update sequence numbers: "+_)}for(const _ of g){const E=_.targetId;if(!_.fromCache){const T=y.xs.get(E),w=T.snapshotVersion,D=T.withLastLimboFreeSnapshotVersion(w);y.xs=y.xs.insert(E,D)}}}(r.localStore,o))}async function OU(t,e){const n=Ge(t);if(!n.currentUser.isEqual(e)){_e(I_,"User change. New user:",e.toKey());const r=await qC(n.localStore,e);n.currentUser=e,function(o,u){o.Ru.forEach(f=>{f.forEach(d=>{d.reject(new be(ce.CANCELLED,u))})}),o.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await of(n,r.ks)}}function DU(t,e){const n=Ge(t),r=n.Eu.get(e);if(r&&r.cu)return st().add(r.key);{let a=st();const o=n.Pu.get(e);if(!o)return a;for(const u of o){const f=n.hu.get(u);a=a.unionWith(f.view.eu)}return a}}function cx(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RU.bind(null,e),e.lu.Y_=mU.bind(null,e.eventManager),e.lu.gu=gU.bind(null,e.eventManager),e}function NU(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xU.bind(null,e),e}class zd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vm(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return LV(this.persistence,new PV,e.initialUser,this.serializer)}Su(e){return new HC(__.fi,this.serializer)}bu(e){return new HV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zd.provider={build:()=>new zd};class PU extends zd{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){vt(this.persistence.referenceDelegate instanceof Ud,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new vV(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Gn.withCacheSize(this.cacheSizeBytes):Gn.DEFAULT;return new HC(r=>Ud.fi(r,n),this.serializer)}}class sv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>RT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=OU.bind(null,this.syncEngine),await fU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dU}()}createDatastore(e){const n=vm(e.databaseInfo.databaseId),r=function(o){return new YV(o)}(e.databaseInfo);return function(o,u,f,d){return new ZV(o,u,f,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,a,o,u,f){return new eU(r,a,o,u,f)}(this.localStore,this.datastore,e.asyncQueue,n=>RT(this.syncEngine,n,0),function(){return ET.C()?new ET:new qV}())}createSyncEngine(e,n){return function(a,o,u,f,d,g,y){const _=new _U(a,o,u,f,d,g);return y&&(_.mu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const o=Ge(a);_e(yo,"RemoteStore shutting down."),o.da.add(5),await sf(o),o.Ra.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}sv.provider={build:()=>new sv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):ha("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="FirestoreClient";class MU{constructor(e,n,r,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=On.UNAUTHENTICATED,this.clientId=nC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{_e(ys,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(_e(ys,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new sa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=C_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ay(t,e){t.asyncQueue.verifyOperationInProgress(),_e(ys,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async a=>{r.isEqual(a)||(await qC(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function xT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await kU(t);_e(ys,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ST(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,a)=>ST(e.remoteStore,a)),t._onlineComponents=e}async function kU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(ys,"Using user provided OfflineComponentProvider");try{await ay(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===ce.FAILED_PRECONDITION||a.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Ll("Error using user provided cache. Falling back to memory cache: "+n),await ay(t,new zd)}}else _e(ys,"Using default OfflineComponentProvider"),await ay(t,new PU(void 0));return t._offlineComponents}async function hx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(ys,"Using user provided OnlineComponentProvider"),await xT(t,t._uninitializedComponentsProvider._online)):(_e(ys,"Using default OnlineComponentProvider"),await xT(t,new sv))),t._onlineComponents}function LU(t){return hx(t).then(e=>e.syncEngine)}async function dx(t){const e=await hx(t),n=e.eventManager;return n.onListen=EU.bind(null,e.syncEngine),n.onUnlisten=TU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=bU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wU.bind(null,e.syncEngine),n}function VU(t,e,n={}){const r=new sa;return t.asyncQueue.enqueueAndForget(async()=>function(o,u,f,d,g){const y=new fx({next:E=>{y.xu(),u.enqueueAndForget(()=>tx(o,_));const T=E.docs.has(f);!T&&E.fromCache?g.reject(new be(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&E.fromCache&&d&&d.source==="server"?g.reject(new be(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),_=new nx(h_(f.path),y,{includeMetadataChanges:!0,Qa:!0});return ex(o,_)}(await dx(t),t.asyncQueue,e,n,r)),r.promise}function UU(t,e,n={}){const r=new sa;return t.asyncQueue.enqueueAndForget(async()=>function(o,u,f,d,g){const y=new fx({next:E=>{y.xu(),u.enqueueAndForget(()=>tx(o,_)),E.fromCache&&d.source==="server"?g.reject(new be(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(E)},error:E=>g.reject(E)}),_=new nx(f,y,{includeMetadataChanges:!0,Qa:!0});return ex(o,_)}(await dx(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(t,e,n){if(!n)throw new be(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function jU(t,e,n,r){if(e===!0&&r===!0)throw new be(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function OT(t){if(!Ne.isDocumentKey(t))throw new be(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function DT(t){if(Ne.isDocumentKey(t))throw new be(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function bm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ze(12329,{type:typeof t})}function vs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bm(t);throw new be(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="firestore.googleapis.com",NT=!0;class PT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new be(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=px,this.ssl=NT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:NT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=BC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pV)throw new be(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new be(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new be(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new be(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sm{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new K3;switch(r.type){case"firstParty":return new W3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=IT.get(n);r&&(_e("ComponentProvider","Removing Datastore"),IT.delete(n),r.terminate())}(this),Promise.resolve()}}function zU(t,e,n,r={}){var a;t=vs(t,Sm);const o=$l(e),u=t._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;o&&(dA(`https://${d}`),mA("Firestore",!0)),u.host!==px&&u.host!==d&&Ll("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:d,ssl:o,emulatorOptions:r});if(!uo(g,f)&&(t._setSettings(g),r.mockUserToken)){let y,_;if(typeof r.mockUserToken=="string")y=r.mockUserToken,_=On.MOCK_USER;else{y=HO(r.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new be(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new On(E)}t._authCredentials=new Y3(new eC(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Co(this.firestore,e,this._query)}}class Kn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kn(this.firestore,e,this._key)}}class ls extends Co{constructor(e,n,r){super(e,n,h_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kn(this.firestore,null,new Ne(e))}withConverter(e){return new ls(this.firestore,e,this._path)}}function D_(t,e,...n){if(t=Fn(t),gx("collection","path",e),t instanceof Sm){const r=It.fromString(e,...n);return DT(r),new ls(t,null,r)}{if(!(t instanceof Kn||t instanceof ls))throw new be(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(It.fromString(e,...n));return DT(r),new ls(t.firestore,null,r)}}function lf(t,e,...n){if(t=Fn(t),arguments.length===1&&(e=nC.newId()),gx("doc","path",e),t instanceof Sm){const r=It.fromString(e,...n);return OT(r),new Kn(t,null,new Ne(r))}{if(!(t instanceof Kn||t instanceof ls))throw new be(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(It.fromString(e,...n));return OT(r),new Kn(t.firestore,t instanceof ls?t.converter:null,new Ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="AsyncQueue";class kT{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new GC(this,"async_queue_retry"),this.rc=()=>{const r=iy();r&&_e(MT,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=iy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=iy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new sa;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Zl(e))throw e;_e(MT,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,ha("INTERNAL UNHANDLED ERROR: ",LT(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const a=R_.createAndSchedule(this,e,n,r,o=>this.uc(o));return this.Zu.push(a),a}oc(){this.Xu&&ze(47125,{cc:LT(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function LT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class uf extends Sm{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new kT,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kT(e),this._firestoreClient=void 0,await e}}}function yx(t,e){const n=typeof t=="object"?t:vA(),r=typeof t=="string"?t:Nd,a=Mv(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=FO("firestore");o&&zU(a,...o)}return a}function N_(t){if(t._terminated)throw new be(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||FU(t),t._firestoreClient}function FU(t){var e,n,r;const a=t._freezeSettings(),o=function(f,d,g,y){return new h6(f,d,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,mx(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new MU(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(f){const d=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bl(Tn.fromBase64String(e))}catch(n){throw new be(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bl(Tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU=/^__.*__$/;class HU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ao(e,this.data,this.fieldMask,n,this.fieldTransforms):new rf(e,this.data,n,this.fieldTransforms)}}function _x(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze(40011,{Ic:t})}}class L_{constructor(e,n,r,a,o,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new L_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.dc({path:r,Rc:!1});return a.Vc(e),a}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.dc({path:r,Rc:!1});return a.Ec(),a}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Fd(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(_x(this.Ic)&&BU.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class qU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||vm(e)}bc(e,n,r,a=!1){return new L_({Ic:e,methodName:n,wc:r,path:Sn.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ex(t){const e=t._freezeSettings(),n=vm(t._databaseId);return new qU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $U(t,e,n,r,a,o={}){const u=t.bc(o.merge||o.mergeFields?2:0,e,n,a);Tx("Data must be an object, but it was:",u,r);const f=bx(r,u);let d,g;if(o.merge)d=new Hr(u.fieldMask),g=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const _ of o.mergeFields){const E=KU(e,_,n);if(!u.contains(E))throw new be(ce.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);QU(y,E)||y.push(E)}d=new Hr(y),g=u.fieldTransforms.filter(_=>d.covers(_.field))}else d=null,g=u.fieldTransforms;return new HU(new Pr(f),d,g)}function GU(t,e,n,r=!1){return V_(n,t.bc(r?4:3,e))}function V_(t,e){if(Sx(t=Fn(t)))return Tx("Unsupported field value:",e,t),bx(t,e);if(t instanceof vx)return function(r,a){if(!_x(a.Ic))throw a.gc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,a){const o=[];let u=0;for(const f of r){let d=V_(f,a.fc(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}}(t,e)}return function(r,a){if((r=Fn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return k6(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=an.fromDate(r);return{timestampValue:Vd(a.serializer,o)}}if(r instanceof an){const o=new an(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vd(a.serializer,o)}}if(r instanceof M_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bl)return{bytesValue:kC(a.serializer,r._byteString)};if(r instanceof Kn){const o=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw a.gc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:y_(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof k_)return function(u,f){return{mapValue:{fields:{[cC]:{stringValue:fC},[Pd]:{arrayValue:{values:u.toArray().map(g=>{if(typeof g!="number")throw f.gc("VectorValues must only contain numeric values.");return d_(f.serializer,g)})}}}}}}(r,a);throw a.gc(`Unsupported field value: ${bm(r)}`)}(t,e)}function bx(t,e){const n={};return iC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):To(t,(r,a)=>{const o=V_(a,e.Ac(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Sx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof an||t instanceof M_||t instanceof Bl||t instanceof Kn||t instanceof vx||t instanceof k_)}function Tx(t,e,n){if(!Sx(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const r=bm(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function KU(t,e,n){if((e=Fn(e))instanceof P_)return e._internalPath;if(typeof e=="string")return wx(t,e);throw Fd("Field path arguments must be of type string or ",t,!1,void 0,n)}const YU=new RegExp("[~\\*/\\[\\]]");function wx(t,e,n){if(e.search(YU)>=0)throw Fd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new P_(...e.split("."))._internalPath}catch{throw Fd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fd(t,e,n,r,a){const o=r&&!r.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${r}`),u&&(d+=` in document ${a}`),d+=")"),new be(ce.INVALID_ARGUMENT,f+t+d)}function QU(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,n,r,a,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Tm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class XU extends Ax{data(){return super.data()}}function Tm(t,e){return typeof e=="string"?wx(t,e):e instanceof P_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class U_{}class Rx extends U_{}function ZU(t,e,...n){let r=[];e instanceof U_&&r.push(e),r=r.concat(n),function(o){const u=o.filter(d=>d instanceof j_).length,f=o.filter(d=>d instanceof wm).length;if(u>1||u>0&&f>0)throw new be(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)t=a._apply(t);return t}class wm extends Rx{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new wm(e,n,r)}_apply(e){const n=this._parse(e);return Cx(e._query,n),new Co(e.firestore,e.converter,Xy(e._query,n))}_parse(e){const n=Ex(e.firestore);return function(o,u,f,d,g,y,_){let E;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new be(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){UT(_,y);const w=[];for(const D of _)w.push(VT(d,o,D));E={arrayValue:{values:w}}}else E=VT(d,o,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||UT(_,y),E=GU(f,u,_,y==="in"||y==="not-in");return Wt.create(g,y,E)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function JU(t,e,n){const r=e,a=Tm("where",t);return wm._create(a,r,n)}class j_ extends U_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new j_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:$r.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,o){let u=a;const f=o.getFlattenedFilters();for(const d of f)Cx(u,d),u=Xy(u,d)}(e._query,n),new Co(e.firestore,e.converter,Xy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class z_ extends Rx{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new z_(e,n)}_apply(e){const n=function(a,o,u){if(a.startAt!==null)throw new be(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new be(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jc(o,u)}(e._query,this._field,this._direction);return new Co(e.firestore,e.converter,function(a,o){const u=a.explicitOrderBy.concat([o]);return new Jl(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,n))}}function e9(t,e="asc"){const n=e,r=Tm("orderBy",t);return z_._create(r,n)}function VT(t,e,n){if(typeof(n=Fn(n))=="string"){if(n==="")throw new be(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_C(e)&&n.indexOf("/")!==-1)throw new be(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(It.fromString(n));if(!Ne.isDocumentKey(r))throw new be(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ZS(t,new Ne(r))}if(n instanceof Kn)return ZS(t,n._key);throw new be(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bm(n)}.`)}function UT(t,e){if(!Array.isArray(t)||t.length===0)throw new be(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Cx(t,e){const n=function(a,o){for(const u of a)for(const f of u.getFlattenedFilters())if(o.indexOf(f.op)>=0)return f.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new be(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class t9{convertValue(e,n="none"){switch(gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ze(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return To(e,(a,o)=>{r[a]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,a;const o=(a=(r=(n=e.fields)===null||n===void 0?void 0:n[Pd].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(u=>Bt(u.doubleValue));return new k_(o)}convertGeoPoint(e){return new M_(Bt(e.latitude),Bt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=hm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Lc(e));default:return null}}convertTimestamp(e){const n=ds(e);return new an(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=It.fromString(e);vt(FC(r),9688,{name:e});const a=new Vc(r.get(1),r.get(3)),o=new Ne(r.popFirst(5));return a.isEqual(n)||ha(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n9(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xx extends Ax{constructor(e,n,r,a,o,u){super(e,n,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Tm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class rd extends xx{data(e={}){return super.data(e)}}class r9{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new gc(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new rd(this._firestore,this._userDataWriter,r.key,r,new gc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(f=>{const d=new rd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new gc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>o||f.type!==3).map(f=>{const d=new rd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new gc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,y=-1;return f.type!==0&&(g=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),y=u.indexOf(f.doc.key)),{type:i9(f.type),doc:d,oldIndex:g,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function i9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a9(t){t=vs(t,Kn);const e=vs(t.firestore,uf);return VU(N_(e),t._key).then(n=>o9(e,t,n))}class Ix extends t9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kn(this.firestore,null,n)}}function F_(t){t=vs(t,Co);const e=vs(t.firestore,uf),n=N_(e),r=new Ix(e);return WU(t._query),UU(n,t._query).then(a=>new r9(e,r,t,a))}function B_(t,e,n){t=vs(t,Kn);const r=vs(t.firestore,uf),a=n9(t.converter,e);return Ox(r,[$U(Ex(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,wi.none())])}function s9(t){return Ox(vs(t.firestore,uf),[new m_(t._key,wi.none())])}function Ox(t,e){return function(r,a){const o=new sa;return r.asyncQueue.enqueueAndForget(async()=>AU(await LU(r),a,o)),o.promise}(N_(t),e)}function o9(t,e,n){const r=n.docs.get(e._key),a=new Ix(t);return new xx(t,a,e._key,r,new gc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Xl=a})(Gl),Ml(new co("firestore",(r,{instanceIdentifier:a,options:o})=>{const u=r.getProvider("app").getImmediate(),f=new uf(new Q3(r.getProvider("auth-internal")),new Z3(u,r.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new be(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vc(g.options.projectId,y)}(u,a),u);return o=Object.assign({useFetchStreams:n},o),f._setSettings(o),f},"PUBLIC").setMultipleInstances(!0)),ss(zS,FS,e),ss(zS,FS,"esm2017")})();const Am=yx(a_),l9=async t=>(await B_(lf(Am,"songs",t.id),t),t),u9=async t=>(await s9(lf(Am,"songs",t)),{id:t}),c9=async t=>{const e=D_(Am,"songs"),n=ZU(e,JU("editors","array-contains",t),e9("title","asc"));return(await F_(n)).docs.map(a=>a.data())},f9=async t=>(await B_(lf(Am,"songs",t.id),t),t),h9=Object.freeze(Object.defineProperty({__proto__:null,addSong:l9,deleteSong:u9,loadSongs:c9,saveSong:f9},Symbol.toStringTag,{value:"Module"})),_n=[];for(let t=0;t<256;++t)_n.push((t+256).toString(16).slice(1));function d9(t,e=0){return(_n[t[e+0]]+_n[t[e+1]]+_n[t[e+2]]+_n[t[e+3]]+"-"+_n[t[e+4]]+_n[t[e+5]]+"-"+_n[t[e+6]]+_n[t[e+7]]+"-"+_n[t[e+8]]+_n[t[e+9]]+"-"+_n[t[e+10]]+_n[t[e+11]]+_n[t[e+12]]+_n[t[e+13]]+_n[t[e+14]]+_n[t[e+15]]).toLowerCase()}let sy;const m9=new Uint8Array(16);function g9(){if(!sy){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");sy=crypto.getRandomValues.bind(crypto)}return sy(m9)}const oy={};function cf(t,e,n){let r;{const a=Date.now(),o=g9();p9(oy,a,o),r=y9(o,oy.msecs,oy.seq,e,n)}return e??d9(r)}function p9(t,e,n){return t.msecs??(t.msecs=-1/0),t.seq??(t.seq=0),e>t.msecs?(t.seq=n[6]<<23|n[7]<<16|n[8]<<8|n[9],t.msecs=e):(t.seq=t.seq+1|0,t.seq===0&&t.msecs++),t}function y9(t,e,n,r,a=0){if(t.length<16)throw new Error("Random bytes length must be >= 16");if(!r)r=new Uint8Array(16),a=0;else if(a<0||a+16>r.length)throw new RangeError(`UUID byte range ${a}:${a+15} is out of buffer bounds`);return e??(e=Date.now()),n??(n=t[6]*127<<24|t[7]<<16|t[8]<<8|t[9]),r[a++]=e/1099511627776&255,r[a++]=e/4294967296&255,r[a++]=e/16777216&255,r[a++]=e/65536&255,r[a++]=e/256&255,r[a++]=e&255,r[a++]=112|n>>>28&15,r[a++]=n>>>20&255,r[a++]=128|n>>>14&63,r[a++]=n>>>6&255,r[a++]=n<<2&255|t[10]&3,r[a++]=t[11],r[a++]=t[12],r[a++]=t[13],r[a++]=t[14],r[a++]=t[15],r}const Bd=yx(a_),v9=async t=>{const{email:e,password:n,username:r}=t,{uid:a}=await Yr.auth.signUp(e,n);await B_(lf(Bd,"users",a),{uid:a,tag:cf(),username:r,email:e})},_9=async()=>{const t=D_(Bd,"users");return(await F_(t)).docs.map(n=>n.data())},Dx=async t=>{const e=lf(Bd,"users",t),n=await a9(e);if(n.exists()){const r=await n.data(),a=D_(Bd,"users",t,"songs"),u=(await F_(a)).docs.map(f=>f.data());return{...r,songs:u}}return null},E9=async t=>{const{email:e,password:n}=t,r=await Yr.auth.signIn(e,n);return await Dx(r.uid)},b9=Object.freeze(Object.defineProperty({__proto__:null,addUser:v9,getAllUsers:_9,loadUser:Dx,signInUser:E9},Symbol.toStringTag,{value:"Module"})),Yr={auth:G3,song:h9,user:b9},S9=async t=>await Yr.song.addSong(t),T9=async t=>await Yr.song.deleteSong(t),w9=async t=>await Yr.song.loadSongs(t),A9=async t=>await Yr.song.saveSong(t),R9=async t=>{const{uid:e}=t;return await Yr.user.loadUser(e)},C9=async t=>{const{email:e,password:n}=t;return await Yr.user.signInUser({email:e,password:n})},x9=async()=>{await Yr.auth.signOut()},I9=async t=>{await Yr.user.addUser(t)},Nx=t=>(t||"").replaceAll(/\s+/g," ").trim().split(" "),O9=t=>t*parseFloat(getComputedStyle(document.documentElement).fontSize),D9=()=>cf(),N9=5e3,H_=Object.freeze({ERROR:"ERROR",INFO:"INFO",SUCCESS:"SUCCESS",WARN:"WARN"}),q_=(t,e,n)=>({id:D9(),level:t,message:e,fixed:(n==null?void 0:n.fixed)??!0}),Px=t=>q_(H_.ERROR,t),Mx=t=>q_(H_.SUCCESS,t,{fixed:!1}),P9=t=>q_(H_.WARN,t),ov=t=>e=>{e.fixed||setTimeout(()=>{t(Mc.actions.removeGrowl(e.id))},N9),t(Mc.actions.addGrowl(e))},kx=t=>t==Ye.LOADING,M9=t=>{if(!Array.isArray(t))throw new Error("alphabeticallySortSongs: songs should be an array");return[...t].sort((e,n)=>{const r=e.title||"",a=n.title||"";return r.localeCompare(a)})},k9={addSongStatus:Ye.IDLE,latestAddedSongId:null},id={addSong:As(`${nf}/addSong`,async t=>await S9(t))},L9={clearAddSongStatus:t=>{t.addSongStatus=Ye.IDLE},clearLatestAddedSongId:t=>{t.latestAddedSongId=null}},V9=t=>{t.addCase(id.addSong.pending,e=>{e.addSongStatus=Ye.LOADING}).addCase(id.addSong.fulfilled,(e,n)=>{e.addSongStatus=Ye.SUCCEEDED,e.songs=M9([...e.songs,n.payload]),e.latestAddedSongId=n.payload.id}).addCase(id.addSong.rejected,e=>{e.addSongStatus=Ye.FAILED})},U9={selectAddSongStatus:t=>t.songs.addSongStatus,selectLatestAddedSongId:t=>t.songs.latestAddedSongId},j9={asyncThunk:id,extraReducers:V9,initialState:k9,reducers:L9,selectors:U9},z9={deleteSongStatus:Ye.IDLE},ad={deleteSong:As(`${nf}/deleteSong`,async t=>await T9(t))},F9={clearDeleteSongStatus:t=>{t.deleteSongStatus=Ye.IDLE}},B9=t=>{t.addCase(ad.deleteSong.pending,e=>{e.deleteSongStatus=Ye.LOADING}).addCase(ad.deleteSong.fulfilled,(e,n)=>{e.deleteSongStatus=Ye.SUCCEEDED;const r=e.songs.findIndex(a=>a.id==n.payload.id);e.songs.splice(r,1)}).addCase(ad.deleteSong.rejected,e=>{e.deleteSongStatus=Ye.FAILED})},H9={},q9={asyncThunk:ad,extraReducers:B9,initialState:z9,reducers:F9,selectors:H9},$9={songs:[],loadSongsStatus:Ye.IDLE},sd={loadSongs:As(`${nf}/loadSongs`,async t=>await w9(t))},G9=t=>{t.addCase(sd.loadSongs.pending,e=>{e.loadSongsStatus=Ye.LOADING}).addCase(sd.loadSongs.fulfilled,(e,n)=>{e.loadSongsStatus=Ye.SUCCEEDED,e.songs=n.payload}).addCase(sd.loadSongs.rejected,e=>{e.loadSongsStatus=Ye.FAILED})},K9={selectAllSongs:t=>t.songs.songs,selectSongById:t=>e=>e.songs.songs.find(n=>n.id===t),selectSongsError:t=>t.songs.songsError,selectSongsStatus:t=>t.songs.songsStatus},Y9={initialState:$9,asyncThunk:sd,extraReducers:G9,selectors:K9},Q9={saveSongStatus:Ye.IDLE},od={saveSong:As(`${nf}/saveSong`,async t=>await A9(t))},X9={editSongTitle:(t,e)=>{const{payload:n}=e,r=t.songs.find(a=>a.id===n.id);r.title=n.title},clearSaveSongStatus:t=>{t.saveSongStatus=Ye.IDLE}},W9=t=>{t.addCase(od.saveSong.pending,e=>{e.saveSongStatus=Ye.LOADING}).addCase(od.saveSong.fulfilled,(e,n)=>{e.saveSongStatus=Ye.SUCCEEDED;const r=n.payload,a=e.songs.find(o=>o.id===r.id);a.notes=r.notes}).addCase(od.saveSong.rejected,e=>{e.saveSongStatus=Ye.FAILED})},Z9={selectSaveSongStatus:t=>t.songs.saveSongStatus},J9={asyncThunk:od,extraReducers:W9,initialState:Q9,reducers:X9,selectors:Z9},e5=Object.freeze(Object.defineProperty({__proto__:null,AddSong:j9,DeleteSong:q9,LoadSongs:Y9,SaveSong:J9},Symbol.toStringTag,{value:"Module"})),Yn=i_({sliceName:nf,sliceParts:e5}),ff="user",qe=t=>typeof t=="string",sc=()=>{let t,e;const n=new Promise((r,a)=>{t=r,e=a});return n.resolve=t,n.reject=e,n},jT=t=>t==null?"":""+t,t5=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},n5=/###/g,zT=t=>t&&t.indexOf("###")>-1?t.replace(n5,"."):t,FT=t=>!t||qe(t),wc=(t,e,n)=>{const r=qe(e)?e.split("."):e;let a=0;for(;a<r.length-1;){if(FT(t))return{};const o=zT(r[a]);!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={},++a}return FT(t)?{}:{obj:t,k:zT(r[a])}},BT=(t,e,n)=>{const{obj:r,k:a}=wc(t,e,Object);if(r!==void 0||e.length===1){r[a]=n;return}let o=e[e.length-1],u=e.slice(0,e.length-1),f=wc(t,u,Object);for(;f.obj===void 0&&u.length;)o=`${u[u.length-1]}.${o}`,u=u.slice(0,u.length-1),f=wc(t,u,Object),f!=null&&f.obj&&typeof f.obj[`${f.k}.${o}`]<"u"&&(f.obj=void 0);f.obj[`${f.k}.${o}`]=n},r5=(t,e,n,r)=>{const{obj:a,k:o}=wc(t,e,Object);a[o]=a[o]||[],a[o].push(n)},Hd=(t,e)=>{const{obj:n,k:r}=wc(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},i5=(t,e,n)=>{const r=Hd(t,n);return r!==void 0?r:Hd(e,n)},Lx=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?qe(t[r])||t[r]instanceof String||qe(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):Lx(t[r],e[r],n):t[r]=e[r]);return t},gl=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var a5={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const s5=t=>qe(t)?t.replace(/[&<>"'\/]/g,e=>a5[e]):t;class o5{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const l5=[" ",",","?","!",";"],u5=new o5(20),c5=(t,e,n)=>{e=e||"",n=n||"";const r=l5.filter(u=>e.indexOf(u)<0&&n.indexOf(u)<0);if(r.length===0)return!0;const a=u5.getRegExp(`(${r.map(u=>u==="?"?"\\?":u).join("|")})`);let o=!a.test(t);if(!o){const u=t.indexOf(n);u>0&&!a.test(t.substring(0,u))&&(o=!0)}return o},lv=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let a=t;for(let o=0;o<r.length;){if(!a||typeof a!="object")return;let u,f="";for(let d=o;d<r.length;++d)if(d!==o&&(f+=n),f+=r[d],u=a[f],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&d<r.length-1)continue;o+=d-o+1;break}a=u}return a},Bc=t=>t==null?void 0:t.replace("_","-"),f5={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};class qd{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||f5,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,a){return a&&!this.debug?null:(qe(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new qd(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new qd(this.logger,e)}}var yi=new qd;class Rm{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const a=this.observers[r].get(n)||0;this.observers[r].set(n,a+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([a,o])=>{for(let u=0;u<o;u++)a(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,o])=>{for(let u=0;u<o;u++)a.apply(a,[e,...n])})}}class HT extends Rm{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,a={}){var g,y;const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let f;e.indexOf(".")>-1?f=e.split("."):(f=[e,n],r&&(Array.isArray(r)?f.push(...r):qe(r)&&o?f.push(...r.split(o)):f.push(r)));const d=Hd(this.data,f);return!d&&!n&&!r&&e.indexOf(".")>-1&&(e=f[0],n=f[1],r=f.slice(2).join(".")),d||!u||!qe(r)?d:lv((y=(g=this.data)==null?void 0:g[e])==null?void 0:y[n],r,o)}addResource(e,n,r,a,o={silent:!1}){const u=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let f=[e,n];r&&(f=f.concat(u?r.split(u):r)),e.indexOf(".")>-1&&(f=e.split("."),a=n,n=f[1]),this.addNamespaces(n),BT(this.data,f,a),o.silent||this.emit("added",e,n,r,a)}addResources(e,n,r,a={silent:!1}){for(const o in r)(qe(r[o])||Array.isArray(r[o]))&&this.addResource(e,n,o,r[o],{silent:!0});a.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,a,o,u={silent:!1,skipCopy:!1}){let f=[e,n];e.indexOf(".")>-1&&(f=e.split("."),a=r,r=n,n=f[1]),this.addNamespaces(n);let d=Hd(this.data,f)||{};u.skipCopy||(r=JSON.parse(JSON.stringify(r))),a?Lx(d,r,o):d={...d,...r},BT(this.data,f,d),u.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(a=>n[a]&&Object.keys(n[a]).length>0)}toJSON(){return this.data}}var Vx={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,a){return t.forEach(o=>{var u;e=((u=this.processors[o])==null?void 0:u.process(e,n,r,a))??e}),e}};const qT={},$T=t=>!qe(t)&&typeof t!="boolean"&&typeof t!="number";class $d extends Rm{constructor(e,n={}){super(),t5(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=yi.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const a=this.resolve(e,r);return(a==null?void 0:a.res)!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const u=r&&e.indexOf(r)>-1,f=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!c5(e,r,a);if(u&&!f){const d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:qe(o)?[o]:o};const g=e.split(r);(r!==a||r===a&&this.options.ns.indexOf(g[0])>-1)&&(o=g.shift()),e=g.join(a)}return{key:e,namespaces:qe(o)?[o]:o}}translate(e,n,r){let a=typeof n=="object"?{...n}:n;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(a={...a}),a||(a={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const o=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,u=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:f,namespaces:d}=this.extractFromKey(e[e.length-1],a),g=d[d.length-1];let y=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;y===void 0&&(y=":");const _=a.lng||this.language,E=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((_==null?void 0:_.toLowerCase())==="cimode")return E?o?{res:`${g}${y}${f}`,usedKey:f,exactUsedKey:f,usedLng:_,usedNS:g,usedParams:this.getUsedParamsDetails(a)}:`${g}${y}${f}`:o?{res:f,usedKey:f,exactUsedKey:f,usedLng:_,usedNS:g,usedParams:this.getUsedParamsDetails(a)}:f;const T=this.resolve(e,a);let w=T==null?void 0:T.res;const D=(T==null?void 0:T.usedKey)||f,k=(T==null?void 0:T.exactUsedKey)||f,j=["[object Number]","[object Function]","[object RegExp]"],W=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,G=!this.i18nFormat||this.i18nFormat.handleAsObject,ne=a.count!==void 0&&!qe(a.count),ee=$d.hasDefaultValue(a),B=ne?this.pluralResolver.getSuffix(_,a.count,a):"",N=a.ordinal&&ne?this.pluralResolver.getSuffix(_,a.count,{ordinal:!1}):"",x=ne&&!a.ordinal&&a.count===0,C=x&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${B}`]||a[`defaultValue${N}`]||a.defaultValue;let M=w;G&&!w&&ee&&(M=C);const F=$T(M),U=Object.prototype.toString.apply(M);if(G&&M&&F&&j.indexOf(U)<0&&!(qe(W)&&Array.isArray(M))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const P=this.options.returnedObjectHandler?this.options.returnedObjectHandler(D,M,{...a,ns:d}):`key '${f} (${this.language})' returned an object instead of string.`;return o?(T.res=P,T.usedParams=this.getUsedParamsDetails(a),T):P}if(u){const P=Array.isArray(M),Se=P?[]:{},Ue=P?k:D;for(const Y in M)if(Object.prototype.hasOwnProperty.call(M,Y)){const he=`${Ue}${u}${Y}`;ee&&!w?Se[Y]=this.translate(he,{...a,defaultValue:$T(C)?C[Y]:void 0,joinArrays:!1,ns:d}):Se[Y]=this.translate(he,{...a,joinArrays:!1,ns:d}),Se[Y]===he&&(Se[Y]=M[Y])}w=Se}}else if(G&&qe(W)&&Array.isArray(w))w=w.join(W),w&&(w=this.extendTranslation(w,e,a,r));else{let P=!1,Se=!1;!this.isValidLookup(w)&&ee&&(P=!0,w=C),this.isValidLookup(w)||(Se=!0,w=f);const Y=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Se?void 0:w,he=ee&&C!==w&&this.options.updateMissing;if(Se||P||he){if(this.logger.log(he?"updateKey":"missingKey",_,g,f,he?C:w),u){const ie=this.resolve(f,{...a,keySeparator:!1});ie&&ie.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ye=[];const Oe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Oe&&Oe[0])for(let ie=0;ie<Oe.length;ie++)ye.push(Oe[ie]);else this.options.saveMissingTo==="all"?ye=this.languageUtils.toResolveHierarchy(a.lng||this.language):ye.push(a.lng||this.language);const V=(ie,de,oe)=>{var Be;const Te=ee&&oe!==w?oe:Y;this.options.missingKeyHandler?this.options.missingKeyHandler(ie,g,de,Te,he,a):(Be=this.backendConnector)!=null&&Be.saveMissing&&this.backendConnector.saveMissing(ie,g,de,Te,he,a),this.emit("missingKey",ie,g,de,w)};this.options.saveMissing&&(this.options.saveMissingPlurals&&ne?ye.forEach(ie=>{const de=this.pluralResolver.getSuffixes(ie,a);x&&a[`defaultValue${this.options.pluralSeparator}zero`]&&de.indexOf(`${this.options.pluralSeparator}zero`)<0&&de.push(`${this.options.pluralSeparator}zero`),de.forEach(oe=>{V([ie],f+oe,a[`defaultValue${oe}`]||C)})}):V(ye,f,C))}w=this.extendTranslation(w,e,a,T,r),Se&&w===f&&this.options.appendNamespaceToMissingKey&&(w=`${g}${y}${f}`),(Se||P)&&this.options.parseMissingKeyHandler&&(w=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${g}${y}${f}`:f,P?w:void 0,a))}return o?(T.res=w,T.usedParams=this.getUsedParamsDetails(a),T):w}extendTranslation(e,n,r,a,o){var d,g;if((d=this.i18nFormat)!=null&&d.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const y=qe(e)&&(((g=r==null?void 0:r.interpolation)==null?void 0:g.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let _;if(y){const T=e.match(this.interpolator.nestingRegexp);_=T&&T.length}let E=r.replace&&!qe(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(E={...this.options.interpolation.defaultVariables,...E}),e=this.interpolator.interpolate(e,E,r.lng||this.language||a.usedLng,r),y){const T=e.match(this.interpolator.nestingRegexp),w=T&&T.length;_<w&&(r.nest=!1)}!r.lng&&a&&a.res&&(r.lng=this.language||a.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...T)=>(o==null?void 0:o[0])===T[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${T[0]} in key: ${n[0]}`),null):this.translate(...T,n),r)),r.interpolation&&this.interpolator.reset()}const u=r.postProcess||this.options.postProcess,f=qe(u)?[u]:u;return e!=null&&(f!=null&&f.length)&&r.applyPostProcessor!==!1&&(e=Vx.handle(f,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,a,o,u,f;return qe(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(r))return;const g=this.extractFromKey(d,n),y=g.key;a=y;let _=g.namespaces;this.options.fallbackNS&&(_=_.concat(this.options.fallbackNS));const E=n.count!==void 0&&!qe(n.count),T=E&&!n.ordinal&&n.count===0,w=n.context!==void 0&&(qe(n.context)||typeof n.context=="number")&&n.context!=="",D=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);_.forEach(k=>{var j,W;this.isValidLookup(r)||(f=k,!qT[`${D[0]}-${k}`]&&((j=this.utils)!=null&&j.hasLoadedNamespace)&&!((W=this.utils)!=null&&W.hasLoadedNamespace(f))&&(qT[`${D[0]}-${k}`]=!0,this.logger.warn(`key "${a}" for languages "${D.join(", ")}" won't get resolved as namespace "${f}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),D.forEach(G=>{var B;if(this.isValidLookup(r))return;u=G;const ne=[y];if((B=this.i18nFormat)!=null&&B.addLookupKeys)this.i18nFormat.addLookupKeys(ne,y,G,k,n);else{let N;E&&(N=this.pluralResolver.getSuffix(G,n.count,n));const x=`${this.options.pluralSeparator}zero`,C=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(E&&(ne.push(y+N),n.ordinal&&N.indexOf(C)===0&&ne.push(y+N.replace(C,this.options.pluralSeparator)),T&&ne.push(y+x)),w){const M=`${y}${this.options.contextSeparator}${n.context}`;ne.push(M),E&&(ne.push(M+N),n.ordinal&&N.indexOf(C)===0&&ne.push(M+N.replace(C,this.options.pluralSeparator)),T&&ne.push(M+x))}}let ee;for(;ee=ne.pop();)this.isValidLookup(r)||(o=ee,r=this.getResource(G,k,ee,n))}))})}),{res:r,usedKey:a,exactUsedKey:o,usedLng:u,usedNS:f}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,a={}){var o;return(o=this.i18nFormat)!=null&&o.getResource?this.i18nFormat.getResource(e,n,r,a):this.resourceStore.getResource(e,n,r,a)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!qe(e.replace);let a=r?e.replace:e;if(r&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!r){a={...a};for(const o of n)delete a[o]}return a}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class GT{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=yi.create("languageUtils")}getScriptPartFromCode(e){if(e=Bc(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Bc(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(qe(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const a=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(a))&&(n=a)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const a=this.getScriptPartFromCode(r);if(this.isSupportedCode(a))return n=a;const o=this.getLanguagePartFromCode(r);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(u=>{if(u===o)return u;if(!(u.indexOf("-")<0&&o.indexOf("-")<0)&&(u.indexOf("-")>0&&o.indexOf("-")<0&&u.substring(0,u.indexOf("-"))===o||u.indexOf(o)===0&&o.length>1))return u})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),qe(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),a=[],o=u=>{u&&(this.isSupportedCode(u)?a.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return qe(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):qe(e)&&o(this.formatLanguageCode(e)),r.forEach(u=>{a.indexOf(u)<0&&o(this.formatLanguageCode(u))}),a}}const KT={zero:0,one:1,two:2,few:3,many:4,other:5},YT={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class h5{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=yi.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=Bc(e==="dev"?"en":e),a=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:a});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let u;try{u=new Intl.PluralRules(r,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),YT;if(!e.match(/-|_/))return YT;const d=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(d,n)}return this.pluralRulesCache[o]=u,u}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(a=>`${n}${a}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((a,o)=>KT[a]-KT[o]).map(a=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(e,n,r={}){const a=this.getRule(e,r);return a?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const QT=(t,e,n,r=".",a=!0)=>{let o=i5(t,e,n);return!o&&a&&qe(n)&&(o=lv(t,n,r),o===void 0&&(o=lv(e,n,r))),o},ly=t=>t.replace(/\$/g,"$$$$");class d5{constructor(e={}){var n;this.logger=yi.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:a,prefix:o,prefixEscaped:u,suffix:f,suffixEscaped:d,formatSeparator:g,unescapeSuffix:y,unescapePrefix:_,nestingPrefix:E,nestingPrefixEscaped:T,nestingSuffix:w,nestingSuffixEscaped:D,nestingOptionsSeparator:k,maxReplaces:j,alwaysFormat:W}=e.interpolation;this.escape=n!==void 0?n:s5,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=o?gl(o):u||"{{",this.suffix=f?gl(f):d||"}}",this.formatSeparator=g||",",this.unescapePrefix=y?"":_||"-",this.unescapeSuffix=this.unescapePrefix?"":y||"",this.nestingPrefix=E?gl(E):T||gl("$t("),this.nestingSuffix=w?gl(w):D||gl(")"),this.nestingOptionsSeparator=k||",",this.maxReplaces=j||1e3,this.alwaysFormat=W!==void 0?W:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,a){var T;let o,u,f;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=w=>{if(w.indexOf(this.formatSeparator)<0){const W=QT(n,d,w,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(W,void 0,r,{...a,...n,interpolationkey:w}):W}const D=w.split(this.formatSeparator),k=D.shift().trim(),j=D.join(this.formatSeparator).trim();return this.format(QT(n,d,k,this.options.keySeparator,this.options.ignoreJSONStructure),j,r,{...a,...n,interpolationkey:k})};this.resetRegExp();const y=(a==null?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,_=((T=a==null?void 0:a.interpolation)==null?void 0:T.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:w=>ly(w)},{regex:this.regexp,safeValue:w=>this.escapeValue?ly(this.escape(w)):ly(w)}].forEach(w=>{for(f=0;o=w.regex.exec(e);){const D=o[1].trim();if(u=g(D),u===void 0)if(typeof y=="function"){const j=y(e,o,a);u=qe(j)?j:""}else if(a&&Object.prototype.hasOwnProperty.call(a,D))u="";else if(_){u=o[0];continue}else this.logger.warn(`missed to pass in variable ${D} for interpolating ${e}`),u="";else!qe(u)&&!this.useRawValueToEscape&&(u=jT(u));const k=w.safeValue(u);if(e=e.replace(o[0],k),_?(w.regex.lastIndex+=u.length,w.regex.lastIndex-=o[0].length):w.regex.lastIndex=0,f++,f>=this.maxReplaces)break}}),e}nest(e,n,r={}){let a,o,u;const f=(d,g)=>{const y=this.nestingOptionsSeparator;if(d.indexOf(y)<0)return d;const _=d.split(new RegExp(`${y}[ ]*{`));let E=`{${_[1]}`;d=_[0],E=this.interpolate(E,u);const T=E.match(/'/g),w=E.match(/"/g);(((T==null?void 0:T.length)??0)%2===0&&!w||w.length%2!==0)&&(E=E.replace(/'/g,'"'));try{u=JSON.parse(E),g&&(u={...g,...u})}catch(D){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,D),`${d}${y}${E}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,d};for(;a=this.nestingRegexp.exec(e);){let d=[];u={...r},u=u.replace&&!qe(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;let g=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){const y=a[1].split(this.formatSeparator).map(_=>_.trim());a[1]=y.shift(),d=y,g=!0}if(o=n(f.call(this,a[1].trim(),u),u),o&&a[0]===e&&!qe(o))return o;qe(o)||(o=jT(o)),o||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),o=""),g&&(o=d.reduce((y,_)=>this.format(y,_,r.lng,{...r,interpolationkey:a[1].trim()}),o.trim())),e=e.replace(a[0],o),this.regexp.lastIndex=0}return e}}const m5=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const a=r[1].substring(0,r[1].length-1);e==="currency"&&a.indexOf(":")<0?n.currency||(n.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?n.range||(n.range=a.trim()):a.split(";").forEach(u=>{if(u){const[f,...d]=u.split(":"),g=d.join(":").trim().replace(/^'+|'+$/g,""),y=f.trim();n[y]||(n[y]=g),g==="false"&&(n[y]=!1),g==="true"&&(n[y]=!0),isNaN(g)||(n[y]=parseInt(g,10))}})}return{formatName:e,formatOptions:n}},XT=t=>{const e={};return(n,r,a)=>{let o=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(o={...o,[a.interpolationkey]:void 0});const u=r+JSON.stringify(o);let f=e[u];return f||(f=t(Bc(r),a),e[u]=f),f(n)}},g5=t=>(e,n,r)=>t(Bc(n),r)(e);class p5{constructor(e={}){this.logger=yi.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?XT:g5;this.formats={number:r((a,o)=>{const u=new Intl.NumberFormat(a,{...o});return f=>u.format(f)}),currency:r((a,o)=>{const u=new Intl.NumberFormat(a,{...o,style:"currency"});return f=>u.format(f)}),datetime:r((a,o)=>{const u=new Intl.DateTimeFormat(a,{...o});return f=>u.format(f)}),relativetime:r((a,o)=>{const u=new Intl.RelativeTimeFormat(a,{...o});return f=>u.format(f,o.range||"day")}),list:r((a,o)=>{const u=new Intl.ListFormat(a,{...o});return f=>u.format(f)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=XT(n)}format(e,n,r,a={}){const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(f=>f.indexOf(")")>-1)){const f=o.findIndex(d=>d.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,f)].join(this.formatSeparator)}return o.reduce((f,d)=>{var _;const{formatName:g,formatOptions:y}=m5(d);if(this.formats[g]){let E=f;try{const T=((_=a==null?void 0:a.formatParams)==null?void 0:_[a.interpolationkey])||{},w=T.locale||T.lng||a.locale||a.lng||r;E=this.formats[g](f,w,{...y,...a,...T})}catch(T){this.logger.warn(T)}return E}else this.logger.warn(`there was no format function for ${g}`);return f},e)}}const y5=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class v5 extends Rm{constructor(e,n,r,a={}){var o,u;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=a,this.logger=yi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],(u=(o=this.backend)==null?void 0:o.init)==null||u.call(o,r,a.backend,a)}queueLoad(e,n,r,a){const o={},u={},f={},d={};return e.forEach(g=>{let y=!0;n.forEach(_=>{const E=`${g}|${_}`;!r.reload&&this.store.hasResourceBundle(g,_)?this.state[E]=2:this.state[E]<0||(this.state[E]===1?u[E]===void 0&&(u[E]=!0):(this.state[E]=1,y=!1,u[E]===void 0&&(u[E]=!0),o[E]===void 0&&(o[E]=!0),d[_]===void 0&&(d[_]=!0)))}),y||(f[g]=!0)}),(Object.keys(o).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(o),pending:Object.keys(u),toLoadLanguages:Object.keys(f),toLoadNamespaces:Object.keys(d)}}loaded(e,n,r){const a=e.split("|"),o=a[0],u=a[1];n&&this.emit("failedLoading",o,u,n),!n&&r&&this.store.addResourceBundle(o,u,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const f={};this.queue.forEach(d=>{r5(d.loaded,[o],u),y5(d,e),n&&d.errors.push(n),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(g=>{f[g]||(f[g]={});const y=d.loaded[g];y.length&&y.forEach(_=>{f[g][_]===void 0&&(f[g][_]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",f),this.queue=this.queue.filter(d=>!d.done)}read(e,n,r,a=0,o=this.retryTimeout,u){if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:a,wait:o,callback:u});return}this.readingCalls++;const f=(g,y)=>{if(this.readingCalls--,this.waitingReads.length>0){const _=this.waitingReads.shift();this.read(_.lng,_.ns,_.fcName,_.tried,_.wait,_.callback)}if(g&&y&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,a+1,o*2,u)},o);return}u(g,y)},d=this.backend[r].bind(this.backend);if(d.length===2){try{const g=d(e,n);g&&typeof g.then=="function"?g.then(y=>f(null,y)).catch(f):f(null,g)}catch(g){f(g)}return}return d(e,n,f)}prepareLoading(e,n,r={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();qe(e)&&(e=this.languageUtils.toResolveHierarchy(e)),qe(n)&&(n=[n]);const o=this.queueLoad(e,n,r,a);if(!o.toLoad.length)return o.pending.length||a(),null;o.toLoad.forEach(u=>{this.loadOne(u)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),a=r[0],o=r[1];this.read(a,o,"read",void 0,void 0,(u,f)=>{u&&this.logger.warn(`${n}loading namespace ${o} for language ${a} failed`,u),!u&&f&&this.logger.log(`${n}loaded namespace ${o} for language ${a}`,f),this.loaded(e,u,f)})}saveMissing(e,n,r,a,o,u={},f=()=>{}){var d,g,y,_,E;if((g=(d=this.services)==null?void 0:d.utils)!=null&&g.hasLoadedNamespace&&!((_=(y=this.services)==null?void 0:y.utils)!=null&&_.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((E=this.backend)!=null&&E.create){const T={...u,isUpdate:o},w=this.backend.create.bind(this.backend);if(w.length<6)try{let D;w.length===5?D=w(e,n,r,a,T):D=w(e,n,r,a),D&&typeof D.then=="function"?D.then(k=>f(null,k)).catch(f):f(null,D)}catch(D){f(D)}else w(e,n,r,a,f,T)}!e||!e[0]||this.store.addResource(e[0],n,r,a)}}}const WT=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),qe(t[1])&&(e.defaultValue=t[1]),qe(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),ZT=t=>{var e,n;return qe(t.ns)&&(t.ns=[t.ns]),qe(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),qe(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},Fh=()=>{},_5=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class Hc extends Rm{constructor(e={},n){if(super(),this.options=ZT(e),this.services={},this.logger=yi,this.modules={external:[]},_5(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(qe(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=WT();this.options={...r,...this.options,...ZT(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const a=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?yi.init(a(this.modules.logger),this.options):yi.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:g=p5;const y=new GT(this.options);this.store=new HT(this.options.resources,this.options);const _=this.services;_.logger=yi,_.resourceStore=this.store,_.languageUtils=y,_.pluralResolver=new h5(y,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),g&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(_.formatter=a(g),_.formatter.init(_,this.options),this.options.interpolation.format=_.formatter.format.bind(_.formatter)),_.interpolator=new d5(this.options),_.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},_.backendConnector=new v5(a(this.modules.backend),_.resourceStore,_,this.options),_.backendConnector.on("*",(E,...T)=>{this.emit(E,...T)}),this.modules.languageDetector&&(_.languageDetector=a(this.modules.languageDetector),_.languageDetector.init&&_.languageDetector.init(_,this.options.detection,this.options)),this.modules.i18nFormat&&(_.i18nFormat=a(this.modules.i18nFormat),_.i18nFormat.init&&_.i18nFormat.init(this)),this.translator=new $d(this.services,this.options),this.translator.on("*",(E,...T)=>{this.emit(E,...T)}),this.modules.external.forEach(E=>{E.init&&E.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Fh),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=(...y)=>this.store[g](...y)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=(...y)=>(this.store[g](...y),this)});const f=sc(),d=()=>{const g=(y,_)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),f.resolve(_),n(y,_)};if(this.languages&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),f}loadResources(e,n=Fh){var o,u;let r=n;const a=qe(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((a==null?void 0:a.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const f=[],d=g=>{if(!g||g==="cimode")return;this.services.languageUtils.toResolveHierarchy(g).forEach(_=>{_!=="cimode"&&f.indexOf(_)<0&&f.push(_)})};a?d(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(y=>d(y)),(u=(o=this.options.preload)==null?void 0:o.forEach)==null||u.call(o,g=>d(g)),this.services.backendConnector.load(f,this.options.ns,g=>{!g&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(g)})}else r(null)}reloadResources(e,n,r){const a=sc();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=Fh),this.services.backendConnector.reload(e,n,o=>{a.resolve(),r(o)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Vx.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=sc();this.emit("languageChanging",e);const a=f=>{this.language=f,this.languages=this.services.languageUtils.toResolveHierarchy(f),this.resolvedLanguage=void 0,this.setResolvedLanguage(f)},o=(f,d)=>{d?this.isLanguageChangingTo===e&&(a(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,r.resolve((...g)=>this.t(...g)),n&&n(f,(...g)=>this.t(...g))},u=f=>{var y,_;!e&&!f&&this.services.languageDetector&&(f=[]);const d=qe(f)?f:f&&f[0],g=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(qe(f)?[f]:f);g&&(this.language||a(g),this.translator.language||this.translator.changeLanguage(g),(_=(y=this.services.languageDetector)==null?void 0:y.cacheUserLanguage)==null||_.call(y,g)),this.loadResources(g,E=>{o(E,g)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),r}getFixedT(e,n,r){const a=(o,u,...f)=>{let d;typeof u!="object"?d=this.options.overloadTranslationOptionHandler([o,u].concat(f)):d={...u},d.lng=d.lng||a.lng,d.lngs=d.lngs||a.lngs,d.ns=d.ns||a.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||r||a.keyPrefix);const g=this.options.keySeparator||".";let y;return d.keyPrefix&&Array.isArray(o)?y=o.map(_=>`${d.keyPrefix}${g}${_}`):y=d.keyPrefix?`${d.keyPrefix}${g}${o}`:o,this.t(y,d)};return qe(e)?a.lng=e:a.lngs=e,a.ns=n,a.keyPrefix=r,a}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const u=(f,d)=>{const g=this.services.backendConnector.state[`${f}|${d}`];return g===-1||g===0||g===2};if(n.precheck){const f=n.precheck(this,u);if(f!==void 0)return f}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(r,e)&&(!a||u(o,e)))}loadNamespaces(e,n){const r=sc();return this.options.ns?(qe(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=sc();qe(e)&&(e=[e]);const a=this.options.preload||[],o=e.filter(u=>a.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return o.length?(this.options.preload=a.concat(o),this.loadResources(u=>{r.resolve(),n&&n(u)}),r):(n&&n(),Promise.resolve())}dir(e){var a,o;if(e||(e=this.resolvedLanguage||(((a=this.languages)==null?void 0:a.length)>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((o=this.services)==null?void 0:o.languageUtils)||new GT(WT());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new Hc(e,n)}cloneInstance(e={},n=Fh){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},o=new Hc(a);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(f=>{o[f]=this[f]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r){const f=Object.keys(this.store.data).reduce((d,g)=>(d[g]={...this.store.data[g]},d[g]=Object.keys(d[g]).reduce((y,_)=>(y[_]={...d[g][_]},y),d[g]),d),{});o.store=new HT(f,a),o.services.resourceStore=o.store}return o.translator=new $d(o.services,a),o.translator.on("*",(f,...d)=>{o.emit(f,...d)}),o.init(a,n),o.translator.options=a,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Zt=Hc.createInstance();Zt.createInstance=Hc.createInstance;Zt.createInstance;Zt.dir;Zt.init;Zt.loadResources;Zt.reloadResources;Zt.use;Zt.changeLanguage;Zt.getFixedT;Zt.t;Zt.exists;Zt.setDefaultNamespace;Zt.hasLoadedNamespace;Zt.loadNamespaces;Zt.loadLanguages;const{slice:E5,forEach:b5}=[];function S5(t){return b5.call(E5.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function T5(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const JT=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,w5=function(t,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(e);let o=`${t}=${a}`;if(r.maxAge>0){const u=r.maxAge-0;if(Number.isNaN(u))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(u)}`}if(r.domain){if(!JT.test(r.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${r.domain}`}if(r.path){if(!JT.test(r.path))throw new TypeError("option path is invalid");o+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(o+="; Partitioned"),o},ew={create(t,e,n,r){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+n*60*1e3)),r&&(a.domain=r),document.cookie=w5(t,e,a)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let a=n[r];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(e)===0)return a.substring(e.length,a.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var A5={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return ew.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:r,cookieDomain:a,cookieOptions:o}=e;n&&typeof document<"u"&&ew.create(n,t,r,a,o)}},R5={name:"querystring",lookup(t){var r;let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:a}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(a=window.location.hash.substring(window.location.hash.indexOf("?")));const u=a.substring(1).split("&");for(let f=0;f<u.length;f++){const d=u[f].indexOf("=");d>0&&u[f].substring(0,d)===e&&(n=u[f].substring(d+1))}}return n}},C5={name:"hash",lookup(t){var a;let{lookupHash:e,lookupFromHashIndex:n}=t,r;if(typeof window<"u"){const{hash:o}=window.location;if(o&&o.length>2){const u=o.substring(1);if(e){const f=u.split("&");for(let d=0;d<f.length;d++){const g=f[d].indexOf("=");g>0&&f[d].substring(0,g)===e&&(r=f[d].substring(g+1))}}if(r)return r;if(!r&&n>-1){const f=o.match(/\/([a-zA-Z-]*)/g);return Array.isArray(f)?(a=f[typeof n=="number"?n:0])==null?void 0:a.replace("/",""):void 0}}}return r}};let pl=null;const tw=()=>{if(pl!==null)return pl;try{if(pl=typeof window<"u"&&window.localStorage!==null,!pl)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{pl=!1}return pl};var x5={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&tw())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&tw()&&window.localStorage.setItem(n,t)}};let yl=null;const nw=()=>{if(yl!==null)return yl;try{if(yl=typeof window<"u"&&window.sessionStorage!==null,!yl)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{yl=!1}return yl};var I5={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&nw())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&nw()&&window.sessionStorage.setItem(n,t)}},O5={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:a}=navigator;if(n)for(let o=0;o<n.length;o++)e.push(n[o]);r&&e.push(r),a&&e.push(a)}return e.length>0?e:void 0}},D5={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},N5={name:"path",lookup(t){var a;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(a=n[typeof e=="number"?e:0])==null?void 0:a.replace("/",""):void 0}},P5={name:"subdomain",lookup(t){var a,o;let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,r=typeof window<"u"&&((o=(a=window.location)==null?void 0:a.hostname)==null?void 0:o.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};let Ux=!1;try{document.cookie,Ux=!0}catch{}const jx=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Ux||jx.splice(1,1);const M5=()=>({order:jx,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class zx{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=S5(n,this.options||{},M5()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(A5),this.addDetector(R5),this.addDetector(x5),this.addDetector(I5),this.addDetector(O5),this.addDetector(D5),this.addDetector(N5),this.addDetector(P5),this.addDetector(C5)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(r=>{if(this.detectors[r]){let a=this.detectors[r].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(n=n.concat(a))}}),n=n.filter(r=>r!=null&&!T5(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}zx.type="languageDetector";function uv(t){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uv(t)}function Fx(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":uv(XMLHttpRequest))==="object"}function k5(t){return!!t&&typeof t.then=="function"}function L5(t){return k5(t)?t:Promise.resolve(t)}const V5="modulepreload",U5=function(t){return"/melo-chart/"+t},rw={},j5=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let u=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),d=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));a=u(n.map(g=>{if(g=U5(g),g in rw)return;rw[g]=!0;const y=g.endsWith(".css"),_=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${_}`))return;const E=document.createElement("link");if(E.rel=y?"stylesheet":V5,y||(E.as="script"),E.crossOrigin="",E.href=g,d&&E.setAttribute("nonce",d),document.head.appendChild(E),y)return new Promise((T,w)=>{E.addEventListener("load",T),E.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${g}`)))})}))}function o(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return a.then(u=>{for(const f of u||[])f.status==="rejected"&&o(f.reason);return e().catch(o)})};function iw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function aw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iw(Object(n),!0).forEach(function(r){z5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z5(t,e,n){return(e=F5(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F5(t){var e=B5(t,"string");return vo(e)=="symbol"?e:e+""}function B5(t,e){if(vo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vo(t){"@babel/helpers - typeof";return vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vo(t)}var _s=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?_s=global.fetch:typeof window<"u"&&window.fetch&&(_s=window.fetch);var qc;Fx()&&(typeof global<"u"&&global.XMLHttpRequest?qc=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(qc=window.XMLHttpRequest));var Gd;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?Gd=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(Gd=window.ActiveXObject));typeof _s!="function"&&(_s=void 0);if(!_s&&!qc&&!Gd)try{j5(()=>import("./browser-ponyfill-MULk5Q4J.js").then(t=>t.b),[]).then(function(t){_s=t.default}).catch(function(){})}catch{}var cv=function(e,n){if(n&&vo(n)==="object"){var r="";for(var a in n)r+="&"+encodeURIComponent(a)+"="+encodeURIComponent(n[a]);if(!r)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+r.slice(1)}return e},sw=function(e,n,r,a){var o=function(d){if(!d.ok)return r(d.statusText||"Error",{status:d.status});d.text().then(function(g){r(null,{status:d.status,data:g})}).catch(r)};if(a){var u=a(e,n);if(u instanceof Promise){u.then(o).catch(r);return}}typeof fetch=="function"?fetch(e,n).then(o).catch(r):_s(e,n).then(o).catch(r)},ow=!1,H5=function(e,n,r,a){e.queryStringParams&&(n=cv(n,e.queryStringParams));var o=aw({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(o["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),r&&(o["Content-Type"]="application/json");var u=typeof e.requestOptions=="function"?e.requestOptions(r):e.requestOptions,f=aw({method:r?"POST":"GET",body:r?e.stringify(r):void 0,headers:o},ow?{}:u),d=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{sw(n,f,a,d)}catch(g){if(!u||Object.keys(u).length===0||!g.message||g.message.indexOf("not implemented")<0)return a(g);try{Object.keys(u).forEach(function(y){delete f[y]}),sw(n,f,a,d),ow=!0}catch(y){a(y)}}},q5=function(e,n,r,a){r&&vo(r)==="object"&&(r=cv("",r).slice(1)),e.queryStringParams&&(n=cv(n,e.queryStringParams));try{var o=qc?new qc:new Gd("MSXML2.XMLHTTP.3.0");o.open(r?"POST":"GET",n,1),e.crossDomain||o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.withCredentials=!!e.withCredentials,r&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.overrideMimeType&&o.overrideMimeType("application/json");var u=e.customHeaders;if(u=typeof u=="function"?u():u,u)for(var f in u)o.setRequestHeader(f,u[f]);o.onreadystatechange=function(){o.readyState>3&&a(o.status>=400?o.statusText:null,{status:o.status,data:o.responseText})},o.send(r)}catch(d){console&&console.log(d)}},$5=function(e,n,r,a){if(typeof r=="function"&&(a=r,r=void 0),a=a||function(){},_s&&n.indexOf("file:")!==0)return H5(e,n,r,a);if(Fx()||typeof ActiveXObject=="function")return q5(e,n,r,a);a(new Error("No fetch and no xhr implementation found!"))};function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function lw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function uy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lw(Object(n),!0).forEach(function(r){Bx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hx(r.key),r)}}function Y5(t,e,n){return e&&K5(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bx(t,e,n){return(e=Hx(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hx(t){var e=Q5(t,"string");return Hl(e)=="symbol"?e:e+""}function Q5(t,e){if(Hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var X5=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(n){return JSON.parse(n)},stringify:JSON.stringify,parsePayload:function(n,r,a){return Bx({},r,a||"")},parseLoadPayload:function(n,r){},request:$5,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},qx=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};G5(this,t),this.services=e,this.options=n,this.allOptions=r,this.type="backend",this.init(e,n,r)}return Y5(t,[{key:"init",value:function(n){var r=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=n,this.options=uy(uy(uy({},X5()),this.options||{}),a),this.allOptions=o,this.services&&this.options.reloadInterval){var u=setInterval(function(){return r.reload()},this.options.reloadInterval);Hl(u)==="object"&&typeof u.unref=="function"&&u.unref()}}},{key:"readMulti",value:function(n,r,a){this._readAny(n,n,r,r,a)}},{key:"read",value:function(n,r,a){this._readAny([n],n,[r],r,a)}},{key:"_readAny",value:function(n,r,a,o,u){var f=this,d=this.options.loadPath;typeof this.options.loadPath=="function"&&(d=this.options.loadPath(n,a)),d=L5(d),d.then(function(g){if(!g)return u(null,{});var y=f.services.interpolator.interpolate(g,{lng:n.join("+"),ns:a.join("+")});f.loadUrl(y,u,r,o)})}},{key:"loadUrl",value:function(n,r,a,o){var u=this,f=typeof a=="string"?[a]:a,d=typeof o=="string"?[o]:o,g=this.options.parseLoadPayload(f,d);this.options.request(this.options,n,g,function(y,_){if(_&&(_.status>=500&&_.status<600||!_.status))return r("failed loading "+n+"; status code: "+_.status,!0);if(_&&_.status>=400&&_.status<500)return r("failed loading "+n+"; status code: "+_.status,!1);if(!_&&y&&y.message){var E=y.message.toLowerCase(),T=["failed","fetch","network","load"].find(function(k){return E.indexOf(k)>-1});if(T)return r("failed loading "+n+": "+y.message,!0)}if(y)return r(y,!1);var w,D;try{typeof _.data=="string"?w=u.options.parse(_.data,a,o):w=_.data}catch{D="failed parsing "+n+" to json"}if(D)return r(D,!1);r(null,w)})}},{key:"create",value:function(n,r,a,o,u){var f=this;if(this.options.addPath){typeof n=="string"&&(n=[n]);var d=this.options.parsePayload(r,a,o),g=0,y=[],_=[];n.forEach(function(E){var T=f.options.addPath;typeof f.options.addPath=="function"&&(T=f.options.addPath(E,r));var w=f.services.interpolator.interpolate(T,{lng:E,ns:r});f.options.request(f.options,w,d,function(D,k){g+=1,y.push(D),_.push(k),g===n.length&&typeof u=="function"&&u(y,_)})})}}},{key:"reload",value:function(){var n=this,r=this.services,a=r.backendConnector,o=r.languageUtils,u=r.logger,f=a.language;if(!(f&&f.toLowerCase()==="cimode")){var d=[],g=function(_){var E=o.toResolveHierarchy(_);E.forEach(function(T){d.indexOf(T)<0&&d.push(T)})};g(f),this.allOptions.preload&&this.allOptions.preload.forEach(function(y){return g(y)}),d.forEach(function(y){n.allOptions.ns.forEach(function(_){a.read(y,_,"read",null,null,function(E,T){E&&u.warn("loading namespace ".concat(_," for language ").concat(y," failed"),E),!E&&T&&u.log("loaded namespace ".concat(_," for language ").concat(y),T),a.loaded("".concat(y,"|").concat(_),E,T)})})})}}}])}();qx.type="backend";Zt.use(qx).use(zx).use(X4).init({lng:"pt",fallbackLng:"pt",interpolation:{escapeValue:!1},backend:{loadPath:"/melo-chart/locales/{{lng}}/{{ns}}.json"}});const{t:W5}=Zt,Z5={loggedUser:null,loggedUserStatus:Ye.IDLE,loggedUserError:null,firebaseOnAuthStateChangedStatus:Ye.IDLE},J5={completeFirebaseOnAuthStateChangedStatus:t=>{t.firebaseOnAuthStateChangedStatus=Ye.SUCCEEDED}},ld={loadUser:As(`${ff}/loadUser`,async t=>await R9(t))},ej=t=>{t.addCase(ld.loadUser.pending,e=>{e.loggedUserStatus=Ye.LOADING}).addCase(ld.loadUser.fulfilled,(e,n)=>{e.loggedUserStatus=Ye.SUCCEEDED,e.loggedUser=n.payload}).addCase(ld.loadUser.rejected,(e,n)=>{e.loggedUserStatus=Ye.FAILED,e.loggedUserError=W5(`error-message.logged-user.${n.error.code}`)})},tj={selectLoggedUser:t=>t.users.loggedUser,isLoggedIn:t=>!!t.users.loggedUser,isLoginVerificationComplete:t=>t.users.loggedUser!=null||t.users.loggedUserStatus==Ye.SUCCEEDED||t.users.loggedUserStatus==Ye.FAILED,isFirebaseOnAuthStateChangedStatusComplete:t=>t.users.firebaseOnAuthStateChangedStatus!=Ye.IDLE},nj={initialState:Z5,reducers:J5,asyncThunk:ld,extraReducers:ej,selectors:tj},rj={signInStatus:Ye.IDLE},ij={},ud={signInUser:As(`${ff}/signInUser`,async t=>await C9(t))},aj=t=>{t.addCase(ud.signInUser.pending,e=>{e.signInStatus=Ye.LOADING}).addCase(ud.signInUser.fulfilled,(e,n)=>{e.signInStatus=Ye.SUCCEEDED,e.loggedUser=n.payload}).addCase(ud.signInUser.rejected,e=>{e.signInStatus=Ye.FAILED})},sj={},oj={initialState:rj,reducers:ij,asyncThunk:ud,extraReducers:aj,selectors:sj},{t:lj}=Zt,uj={signOutStatus:Ye.IDLE,signOutError:null},cd={signOutUser:As(`${ff}/signOut`,async()=>await x9())},cj=t=>{t.addCase(cd.signOutUser.pending,e=>{e.signOutStatus=Ye.LOADING}).addCase(cd.signOutUser.fulfilled,e=>{e.signOutStatus=Ye.SUCCEEDED,e.loggedUser=null}).addCase(cd.signOutUser.rejected,(e,n)=>{e.signOutStatus=Ye.FAILED,e.loggedUserError=lj(`error-message.sign-out-user.${n.error.code}`)})},fj={initialState:uj,asyncThunk:cd,extraReducers:cj},hj={signUpStatus:Ye.IDLE},dj={},fd={signUpUser:As(`${ff}/signUpUser`,async t=>await I9(t))},mj=t=>{t.addCase(fd.signUpUser.pending,e=>{e.signUpStatus=Ye.LOADING}).addCase(fd.signUpUser.fulfilled,e=>{e.signUpStatus=Ye.SUCCEEDED}).addCase(fd.signUpUser.rejected,e=>{e.signUpStatus=Ye.FAILED})},gj={},pj={initialState:hj,asyncThunk:fd,reducers:dj,extraReducers:mj,selectors:gj},yj=Object.freeze(Object.defineProperty({__proto__:null,LoggedUser:nj,SignInUser:oj,SignOutUser:fj,SignUpUser:pj},Symbol.toStringTag,{value:"Module"})),Mr=i_({sliceName:ff,sliceParts:yj}),vj=t=>{const{addSongDialogFnsRef:e}=t,{t:n}=Ht(),r=Ci(),a=Ql(),o=Qn(Yn.selectors.selectAddSongStatus),u=Qn(Yn.selectors.selectLatestAddedSongId),[f,d]=O.useState(!1);return O.useImperativeHandle(e,()=>({show(){d(!0)}})),O.useEffect(()=>{u!=null&&(r(Yn.actions.clearLatestAddedSongId()),a(`/chart?id=${u}`))},[o,r,u,a]),I.jsxs(I.Fragment,{children:[I.jsx(Dt,{category:jt.SUCCESS,onClick:()=>d(!0),icon:I.jsx(qw,{}),children:n("Add Song")}),f?I.jsx(tf,{title:n("Add Song"),bodyContent:I.jsx(zj,{}),footerContent:I.jsxs(I.Fragment,{children:[I.jsx(Dt,{onClick:()=>d(!1),children:n("Close")}),I.jsx(Dt,{category:jt.SUCCESS,form:"formAddSong",type:"submit",icon:I.jsx(qw,{}),children:n("Add")})]})}):I.jsx(I.Fragment,{})]})},_j=O.memo(vj),Ej=t=>{const{configSongDialogFnsRef:e,notesFnsRef:n,generateChartDialogFnsRef:r,deleteSongDialogFnsRef:a}=t,{t:o}=Ht(),[u,f]=O.useState(!1);return O.useImperativeHandle(e,()=>({show(){f(!0)}})),u?I.jsx(tf,{title:o("Configure Song"),bodyContent:I.jsx(I.Fragment,{children:I.jsx(wL,{notesFnsRef:n,generateChartDialogFnsRef:r,deleteSongDialogFnsRef:a})}),footerContent:I.jsx(I.Fragment,{children:I.jsx(Dt,{onClick:()=>f(!1),children:o("Close")})})}):I.jsx(I.Fragment,{})},bj=O.memo(Ej),Sj=t=>{const{deleteSongDialogFnsRef:e,song:n}=t,{t:r}=Ht(),a=Ci(),[o,u]=O.useState(!1);O.useImperativeHandle(e,()=>({show(){u(!0)}}));const f=O.useCallback(()=>{a(Yn.actions.deleteSong(n.id))},[a,n.id]);return o?I.jsx(I.Fragment,{children:I.jsx(DR,{bodyContent:I.jsxs(I.Fragment,{children:[I.jsx("p",{children:r("Are you sure you want to delete this song?")}),I.jsx("p",{children:r("This action cannot be undone")})]}),footerContent:I.jsxs(I.Fragment,{children:[I.jsx(Dt,{category:jt.DANGER,onClick:f,children:r("Delete Song")}),I.jsx(Dt,{category:jt.DEFAULT,onClick:()=>u(!1),children:r("Cancel")})]})})}):I.jsx(I.Fragment,{})},Tj=O.memo(Sj),wj=t=>{const{generateChartDialogFnsRef:e}=t,{onAddWordsAsNotes:n}=t,{t:r}=Ht(),a=O.useRef(null),[o,u]=O.useState(!1);O.useImperativeHandle(e,()=>({show(){u(!0)}}));const f=O.useCallback(d=>{var g;a.current&&(n((g=a.current)==null?void 0:g.value),d.target.value="",u(!1))},[n]);return o?I.jsx(tf,{title:r("Generate mapping with lyrics"),bodyContent:I.jsx(oa,{label:r("Song lyrics"),field:I.jsx(NI,{ref:a})}),footerContent:I.jsxs(I.Fragment,{children:[I.jsx(Dt,{category:jt.DANGER,onClick:f,children:r("Generate")}),I.jsx(Dt,{category:jt.DEFAULT,onClick:()=>u(!1),children:r("Cancel")})]})}):I.jsx(I.Fragment,{})},Aj=O.memo(wj),Rj="_TableContainer_lkaju_1",Cj="_Table_lkaju_1",vl={TableContainer:Rj,Table:Cj},xj=()=>{const{t}=Ht(),[e,n]=O.useState(!1);return I.jsxs(I.Fragment,{children:[I.jsx(Dt,{category:jt.PRIMARY,onClick:()=>n(!0),icon:I.jsx(wz,{}),children:t("How to Use")}),e?I.jsx(tf,{title:t("How to Use"),size:FL.LARGE,bodyContent:I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:vl.TableContainer,children:[I.jsx("h3",{children:t("Notes")}),I.jsxs("table",{className:vl.Table,children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("td",{children:t("Action")}),I.jsx("td",{children:t("How To Do")})]})}),I.jsxs("tbody",{children:[I.jsxs("tr",{children:[I.jsx("td",{children:t("Edit Note")}),I.jsx("td",{children:t("Click the note")})]}),I.jsxs("tr",{children:[I.jsx("td",{children:t("Break Word Into Notes")}),I.jsx("td",{children:t("Add spaces between letters and hit enter (or click outside)")})]}),I.jsxs("tr",{children:[I.jsx("td",{children:t("Change Note Pitch")}),I.jsx("td",{children:t("Click and hold the note, then drag it to the new position")})]}),I.jsxs("tr",{children:[I.jsx("td",{children:t("Add Note")}),I.jsx("td",{children:t("Right-click a note in the chart")})]}),I.jsxs("tr",{children:[I.jsx("td",{children:t("Remove Note")}),I.jsx("td",{children:t("Right-click a note in the chart")})]}),I.jsxs("tr",{children:[I.jsx("td",{children:t("Add Multiple Notes")}),I.jsx("td",{children:t('Click in "Configure Song" button')})]})]})]})]}),I.jsxs("div",{className:vl.TableContainer,children:[I.jsx("h3",{children:t("Pitches")}),I.jsxs("table",{className:vl.Table,children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("td",{children:t("Action")}),I.jsx("td",{children:t("How To Do")})]})}),I.jsxs("tbody",{children:[I.jsxs("tr",{children:[I.jsx("td",{children:t("Add Pitch")}),I.jsx("td",{children:t("Right-click a note in the chart")})]}),I.jsxs("tr",{children:[I.jsx("td",{children:t("Remove Pitch")}),I.jsx("td",{children:t("Right-click a note in the chart")})]}),I.jsxs("tr",{children:[I.jsx("td",{children:t("Add Multiple Pitches")}),I.jsx("td",{children:t('Click in "Configure Song" button')})]})]})]})]}),I.jsxs("div",{className:vl.TableContainer,children:[I.jsx("h3",{children:t("Keyboard Shortcuts when Editing Note")}),I.jsxs("table",{className:vl.Table,children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("td",{children:t("Action")}),I.jsx("td",{children:t("How To Do")})]})}),I.jsxs("tbody",{children:[I.jsxs("tr",{children:[I.jsx("td",{children:t("Save")}),I.jsx("td",{children:t("Enter")})]}),I.jsxs("tr",{children:[I.jsx("td",{children:t("Cancel")}),I.jsx("td",{children:t("Esc")})]}),I.jsxs("tr",{children:[I.jsx("td",{children:t("Navigate Notes")}),I.jsx("td",{children:t("Tab or Shift + Tab")})]}),I.jsxs("tr",{children:[I.jsx("td",{children:t("Navigate Pitches")}),I.jsx("td",{children:t("Arrow Up or Arrow Down")})]})]})]})]})]}),footerContent:I.jsx(I.Fragment,{children:I.jsx(Dt,{onClick:()=>n(!1),children:t("Close")})})}):I.jsx(I.Fragment,{})]})},Ij=O.memo(xj),Oj=t=>{const{show:e,onConfirm:n,onCancel:r}=t,{t:a}=Ht();return e?I.jsx(DR,{bodyContent:I.jsxs(I.Fragment,{children:[I.jsx("p",{children:a("Are you sure you want to leave this page?")}),I.jsx("p",{children:a("Some unsaved changes will be lost")})]}),footerContent:I.jsxs(I.Fragment,{children:[I.jsx(Dt,{category:jt.DANGER,onClick:n,children:a("Leave Page")}),I.jsx(Dt,{category:jt.DEFAULT,onClick:r,children:a("Cancel")})]})}):I.jsx(I.Fragment,{})},Dj=O.memo(Oj),Nj="_FieldWithLabel_15xa5_1",Pj={FieldWithLabel:Nj},Mj=t=>{const{label:e,field:n}=t;return I.jsxs("label",{className:Pj.FieldWithLabel,children:[I.jsx("span",{children:e}),n]})},oa=O.memo(Mj),kj=()=>{const t=Ci(),e=ov(t);return{success:n=>e(Mx(n)),error:n=>e(Px(n)),warn:n=>e(P9(n))}},Lj=t=>{const{title:e,pitches:n,lyrics:r}=t,a=isNaN(n)?1:n,o=Nx(r),u=r?[us(a),...o.map(f=>{const d=us(a);return d.chunks[0].text=f,d})]:Array.from({length:1},()=>us(a));return{id:cf(),title:e,notes:u}},Vj="_FormAddSong_5y15a_1",Uj="_FieldsContainer_5y15a_10",uw={FormAddSong:Vj,FieldsContainer:Uj},jj=()=>{const{t}=Ht(),e=Ci(),n=Qn(Mr.selectors.selectLoggedUser),r=Qn(Yn.selectors.selectAddSongStatus),a=kj(),o=O.useCallback(async u=>{if(u.preventDefault(),kx(r))return;const f=u.target,d=f.title.value.trim(),g=f.pitches.value||1,y=f.lyrics.value||"";if(!d){a.error(t("Please, insert a song title"));return}const _=Lj({title:d,pitches:g,lyrics:y});e(Yn.actions.addSong({..._,editors:[n.uid]}))},[r,e,a,n,t]);return I.jsx("form",{id:"formAddSong",className:uw.FormAddSong,onSubmit:o,children:I.jsxs("div",{className:uw.FieldsContainer,children:[I.jsx(oa,{label:t("Title"),field:I.jsx(la,{type:"text",name:"title"})}),I.jsx(oa,{label:t("Number of Pitches"),field:I.jsx(la,{type:"number",name:"pitches"})}),I.jsx(oa,{label:t("Song lyrics"),field:I.jsx(NI,{name:"lyrics"})})]})})},zj=O.memo(jj),Fj="_Growl_1g2zn_1",Bj="_GrowlClose_1g2zn_31",cw={Growl:Fj,GrowlClose:Bj},Hj=t=>{const{id:e,level:n,message:r}=t,a=Ci(),o=O.useCallback(()=>{a(Mc.actions.removeGrowl(e))},[a,e]);return I.jsxs("div",{className:cw.Growl,"data-level":n,children:[I.jsx("button",{type:"button",className:cw.GrowlClose,onClick:o,children:"x"}),r]})},qj=O.memo(Hj),$j="_GrowlContainer_io9n0_1",Gj={GrowlContainer:$j},Kj=()=>{const t=Qn(Mc.selectors.selectAllGrowls);return I.jsx("div",{className:Gj.GrowlContainer,children:t.map(e=>I.jsx(qj,{...e},e.id))})},Yj=O.memo(Kj);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const Qj={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},Xj={prefix:"fas",iconName:"right-to-bracket",icon:[512,512,["sign-in-alt"],"f2f6","M217.9 105.9L340.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L217.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1L32 320c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM352 416l64 0c17.7 0 32-14.3 32-32l0-256c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0c53 0 96 43 96 96l0 256c0 53-43 96-96 96l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},Wj={prefix:"fas",iconName:"circle-question",icon:[512,512,[62108,"question-circle"],"f059","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3l58.3 0c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24l0-13.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1l-58.3 0c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"]},Zj={prefix:"fas",iconName:"floppy-disk",icon:[448,512,[128190,128426,"save"],"f0c7","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-242.7c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32L64 32zm0 96c0-17.7 14.3-32 32-32l192 0c17.7 0 32 14.3 32 32l0 64c0 17.7-14.3 32-32 32L96 224c-17.7 0-32-14.3-32-32l0-64zM224 288a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"]},Jj={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"]},e7={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z"]},t7={prefix:"fas",iconName:"gears",icon:[640,512,["cogs"],"f085","M308.5 135.3c7.1-6.3 9.9-16.2 6.2-25c-2.3-5.3-4.8-10.5-7.6-15.5L304 89.4c-3-5-6.3-9.9-9.8-14.6c-5.7-7.6-15.7-10.1-24.7-7.1l-28.2 9.3c-10.7-8.8-23-16-36.2-20.9L199 27.1c-1.9-9.3-9.1-16.7-18.5-17.8C173.9 8.4 167.2 8 160.4 8l-.7 0c-6.8 0-13.5 .4-20.1 1.2c-9.4 1.1-16.6 8.6-18.5 17.8L115 56.1c-13.3 5-25.5 12.1-36.2 20.9L50.5 67.8c-9-3-19-.5-24.7 7.1c-3.5 4.7-6.8 9.6-9.9 14.6l-3 5.3c-2.8 5-5.3 10.2-7.6 15.6c-3.7 8.7-.9 18.6 6.2 25l22.2 19.8C32.6 161.9 32 168.9 32 176s.6 14.1 1.7 20.9L11.5 216.7c-7.1 6.3-9.9 16.2-6.2 25c2.3 5.3 4.8 10.5 7.6 15.6l3 5.2c3 5.1 6.3 9.9 9.9 14.6c5.7 7.6 15.7 10.1 24.7 7.1l28.2-9.3c10.7 8.8 23 16 36.2 20.9l6.1 29.1c1.9 9.3 9.1 16.7 18.5 17.8c6.7 .8 13.5 1.2 20.4 1.2s13.7-.4 20.4-1.2c9.4-1.1 16.6-8.6 18.5-17.8l6.1-29.1c13.3-5 25.5-12.1 36.2-20.9l28.2 9.3c9 3 19 .5 24.7-7.1c3.5-4.7 6.8-9.5 9.8-14.6l3.1-5.4c2.8-5 5.3-10.2 7.6-15.5c3.7-8.7 .9-18.6-6.2-25l-22.2-19.8c1.1-6.8 1.7-13.8 1.7-20.9s-.6-14.1-1.7-20.9l22.2-19.8zM112 176a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM504.7 500.5c6.3 7.1 16.2 9.9 25 6.2c5.3-2.3 10.5-4.8 15.5-7.6l5.4-3.1c5-3 9.9-6.3 14.6-9.8c7.6-5.7 10.1-15.7 7.1-24.7l-9.3-28.2c8.8-10.7 16-23 20.9-36.2l29.1-6.1c9.3-1.9 16.7-9.1 17.8-18.5c.8-6.7 1.2-13.5 1.2-20.4s-.4-13.7-1.2-20.4c-1.1-9.4-8.6-16.6-17.8-18.5L583.9 307c-5-13.3-12.1-25.5-20.9-36.2l9.3-28.2c3-9 .5-19-7.1-24.7c-4.7-3.5-9.6-6.8-14.6-9.9l-5.3-3c-5-2.8-10.2-5.3-15.6-7.6c-8.7-3.7-18.6-.9-25 6.2l-19.8 22.2c-6.8-1.1-13.8-1.7-20.9-1.7s-14.1 .6-20.9 1.7l-19.8-22.2c-6.3-7.1-16.2-9.9-25-6.2c-5.3 2.3-10.5 4.8-15.6 7.6l-5.2 3c-5.1 3-9.9 6.3-14.6 9.9c-7.6 5.7-10.1 15.7-7.1 24.7l9.3 28.2c-8.8 10.7-16 23-20.9 36.2L315.1 313c-9.3 1.9-16.7 9.1-17.8 18.5c-.8 6.7-1.2 13.5-1.2 20.4s.4 13.7 1.2 20.4c1.1 9.4 8.6 16.6 17.8 18.5l29.1 6.1c5 13.3 12.1 25.5 20.9 36.2l-9.3 28.2c-3 9-.5 19 7.1 24.7c4.7 3.5 9.5 6.8 14.6 9.8l5.4 3.1c5 2.8 10.2 5.3 15.5 7.6c8.7 3.7 18.6 .9 25-6.2l19.8-22.2c6.8 1.1 13.8 1.7 20.9 1.7s14.1-.6 20.9-1.7l19.8 22.2zM464 304a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]},n7={prefix:"fas",iconName:"user-plus",icon:[640,512,[],"f234","M96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM0 482.3C0 383.8 79.8 304 178.3 304l91.4 0C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7L29.7 512C13.3 512 0 498.7 0 482.3zM504 312l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function r7(t,e,n){return(e=a7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fw(Object(n),!0).forEach(function(r){r7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function a7(t){var e=i7(t,"string");return typeof e=="symbol"?e:e+""}const hw=()=>{};let $_={},$x={},Gx=null,Kx={mark:hw,measure:hw};try{typeof window<"u"&&($_=window),typeof document<"u"&&($x=document),typeof MutationObserver<"u"&&(Gx=MutationObserver),typeof performance<"u"&&(Kx=performance)}catch{}const{userAgent:dw=""}=$_.navigator||{},Es=$_,Ot=$x,mw=Gx,Bh=Kx;Es.document;const va=!!Ot.documentElement&&!!Ot.head&&typeof Ot.addEventListener=="function"&&typeof Ot.createElement=="function",Yx=~dw.indexOf("MSIE")||~dw.indexOf("Trident/");var s7=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,o7=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,Qx={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},l7={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},Xx=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Pn="classic",Cm="duotone",u7="sharp",c7="sharp-duotone",Wx=[Pn,Cm,u7,c7],f7={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},h7={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},d7=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),m7={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},g7=["fak","fa-kit","fakd","fa-kit-duotone"],gw={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},p7=["kit"],y7={kit:{"fa-kit":"fak"}},v7=["fak","fakd"],_7={kit:{fak:"fa-kit"}},pw={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Hh={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},E7=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],b7=["fak","fa-kit","fakd","fa-kit-duotone"],S7={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},T7={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},w7={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},fv={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},A7=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],hv=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...E7,...A7],R7=["solid","regular","light","thin","duotone","brands"],Zx=[1,2,3,4,5,6,7,8,9,10],C7=Zx.concat([11,12,13,14,15,16,17,18,19,20]),x7=[...Object.keys(w7),...R7,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Hh.GROUP,Hh.SWAP_OPACITY,Hh.PRIMARY,Hh.SECONDARY].concat(Zx.map(t=>"".concat(t,"x"))).concat(C7.map(t=>"w-".concat(t))),I7={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const ma="___FONT_AWESOME___",dv=16,Jx="fa",eI="svg-inline--fa",_o="data-fa-i2svg",mv="data-fa-pseudo-element",O7="data-fa-pseudo-element-pending",G_="data-prefix",K_="data-icon",yw="fontawesome-i2svg",D7="async",N7=["HTML","HEAD","STYLE","SCRIPT"],tI=(()=>{try{return!0}catch{return!1}})();function hf(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[Pn]}})}const nI=ge({},Qx);nI[Pn]=ge(ge(ge(ge({},{"fa-duotone":"duotone"}),Qx[Pn]),gw.kit),gw["kit-duotone"]);const P7=hf(nI),gv=ge({},m7);gv[Pn]=ge(ge(ge(ge({},{duotone:"fad"}),gv[Pn]),pw.kit),pw["kit-duotone"]);const vw=hf(gv),pv=ge({},fv);pv[Pn]=ge(ge({},pv[Pn]),_7.kit);const Y_=hf(pv),yv=ge({},T7);yv[Pn]=ge(ge({},yv[Pn]),y7.kit);hf(yv);const M7=s7,rI="fa-layers-text",k7=o7,L7=ge({},f7);hf(L7);const V7=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],cy=l7,U7=[...p7,...x7],Ac=Es.FontAwesomeConfig||{};function j7(t){var e=Ot.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function z7(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}Ot&&typeof Ot.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,r]=e;const a=z7(j7(n));a!=null&&(Ac[r]=a)});const iI={styleDefault:"solid",familyDefault:Pn,cssPrefix:Jx,replacementClass:eI,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Ac.familyPrefix&&(Ac.cssPrefix=Ac.familyPrefix);const ql=ge(ge({},iI),Ac);ql.autoReplaceSvg||(ql.observeMutations=!1);const Ce={};Object.keys(iI).forEach(t=>{Object.defineProperty(Ce,t,{enumerable:!0,set:function(e){ql[t]=e,Rc.forEach(n=>n(Ce))},get:function(){return ql[t]}})});Object.defineProperty(Ce,"familyPrefix",{enumerable:!0,set:function(t){ql.cssPrefix=t,Rc.forEach(e=>e(Ce))},get:function(){return ql.cssPrefix}});Es.FontAwesomeConfig=Ce;const Rc=[];function F7(t){return Rc.push(t),()=>{Rc.splice(Rc.indexOf(t),1)}}const Xa=dv,vi={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function B7(t){if(!t||!va)return;const e=Ot.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;const n=Ot.head.childNodes;let r=null;for(let a=n.length-1;a>-1;a--){const o=n[a],u=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(u)>-1&&(r=o)}return Ot.head.insertBefore(e,r),t}const H7="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function $c(){let t=12,e="";for(;t-- >0;)e+=H7[Math.random()*62|0];return e}function tu(t){const e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function Q_(t){return t.classList?tu(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function aI(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function q7(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(aI(t[n]),'" '),"").trim()}function xm(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function X_(t){return t.size!==vi.size||t.x!==vi.x||t.y!==vi.y||t.rotate!==vi.rotate||t.flipX||t.flipY}function $7(t){let{transform:e,containerWidth:n,iconWidth:r}=t;const a={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(e.x*32,", ").concat(e.y*32,") "),u="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),f="rotate(".concat(e.rotate," 0 0)"),d={transform:"".concat(o," ").concat(u," ").concat(f)},g={transform:"translate(".concat(r/2*-1," -256)")};return{outer:a,inner:d,path:g}}function G7(t){let{transform:e,width:n=dv,height:r=dv,startCentered:a=!1}=t,o="";return a&&Yx?o+="translate(".concat(e.x/Xa-n/2,"em, ").concat(e.y/Xa-r/2,"em) "):a?o+="translate(calc(-50% + ".concat(e.x/Xa,"em), calc(-50% + ").concat(e.y/Xa,"em)) "):o+="translate(".concat(e.x/Xa,"em, ").concat(e.y/Xa,"em) "),o+="scale(".concat(e.size/Xa*(e.flipX?-1:1),", ").concat(e.size/Xa*(e.flipY?-1:1),") "),o+="rotate(".concat(e.rotate,"deg) "),o}var K7=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function sI(){const t=Jx,e=eI,n=Ce.cssPrefix,r=Ce.replacementClass;let a=K7;if(n!==t||r!==e){const o=new RegExp("\\.".concat(t,"\\-"),"g"),u=new RegExp("\\--".concat(t,"\\-"),"g"),f=new RegExp("\\.".concat(e),"g");a=a.replace(o,".".concat(n,"-")).replace(u,"--".concat(n,"-")).replace(f,".".concat(r))}return a}let _w=!1;function fy(){Ce.autoAddCss&&!_w&&(B7(sI()),_w=!0)}var Y7={mixout(){return{dom:{css:sI,insertCss:fy}}},hooks(){return{beforeDOMElementCreation(){fy()},beforeI2svg(){fy()}}}};const ga=Es||{};ga[ma]||(ga[ma]={});ga[ma].styles||(ga[ma].styles={});ga[ma].hooks||(ga[ma].hooks={});ga[ma].shims||(ga[ma].shims=[]);var _i=ga[ma];const oI=[],lI=function(){Ot.removeEventListener("DOMContentLoaded",lI),Kd=1,oI.map(t=>t())};let Kd=!1;va&&(Kd=(Ot.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ot.readyState),Kd||Ot.addEventListener("DOMContentLoaded",lI));function Q7(t){va&&(Kd?setTimeout(t,0):oI.push(t))}function df(t){const{tag:e,attributes:n={},children:r=[]}=t;return typeof t=="string"?aI(t):"<".concat(e," ").concat(q7(n),">").concat(r.map(df).join(""),"</").concat(e,">")}function Ew(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var hy=function(e,n,r,a){var o=Object.keys(e),u=o.length,f=n,d,g,y;for(r===void 0?(d=1,y=e[o[0]]):(d=0,y=r);d<u;d++)g=o[d],y=f(y,e[g],g,e);return y};function X7(t){const e=[];let n=0;const r=t.length;for(;n<r;){const a=t.charCodeAt(n++);if(a>=55296&&a<=56319&&n<r){const o=t.charCodeAt(n++);(o&64512)==56320?e.push(((a&1023)<<10)+(o&1023)+65536):(e.push(a),n--)}else e.push(a)}return e}function vv(t){const e=X7(t);return e.length===1?e[0].toString(16):null}function W7(t,e){const n=t.length;let r=t.charCodeAt(e),a;return r>=55296&&r<=56319&&n>e+1&&(a=t.charCodeAt(e+1),a>=56320&&a<=57343)?(r-55296)*1024+a-56320+65536:r}function bw(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function _v(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,a=bw(e);typeof _i.hooks.addPack=="function"&&!r?_i.hooks.addPack(t,bw(e)):_i.styles[t]=ge(ge({},_i.styles[t]||{}),a),t==="fas"&&_v("fa",e)}const{styles:Gc,shims:Z7}=_i,uI=Object.keys(Y_),J7=uI.reduce((t,e)=>(t[e]=Object.keys(Y_[e]),t),{});let W_=null,cI={},fI={},hI={},dI={},mI={};function e8(t){return~U7.indexOf(t)}function t8(t,e){const n=e.split("-"),r=n[0],a=n.slice(1).join("-");return r===t&&a!==""&&!e8(a)?a:null}const gI=()=>{const t=r=>hy(Gc,(a,o,u)=>(a[u]=hy(o,r,{}),a),{});cI=t((r,a,o)=>(a[3]&&(r[a[3]]=o),a[2]&&a[2].filter(f=>typeof f=="number").forEach(f=>{r[f.toString(16)]=o}),r)),fI=t((r,a,o)=>(r[o]=o,a[2]&&a[2].filter(f=>typeof f=="string").forEach(f=>{r[f]=o}),r)),mI=t((r,a,o)=>{const u=a[2];return r[o]=o,u.forEach(f=>{r[f]=o}),r});const e="far"in Gc||Ce.autoFetchSvg,n=hy(Z7,(r,a)=>{const o=a[0];let u=a[1];const f=a[2];return u==="far"&&!e&&(u="fas"),typeof o=="string"&&(r.names[o]={prefix:u,iconName:f}),typeof o=="number"&&(r.unicodes[o.toString(16)]={prefix:u,iconName:f}),r},{names:{},unicodes:{}});hI=n.names,dI=n.unicodes,W_=Im(Ce.styleDefault,{family:Ce.familyDefault})};F7(t=>{W_=Im(t.styleDefault,{family:Ce.familyDefault})});gI();function Z_(t,e){return(cI[t]||{})[e]}function n8(t,e){return(fI[t]||{})[e]}function oo(t,e){return(mI[t]||{})[e]}function pI(t){return hI[t]||{prefix:null,iconName:null}}function r8(t){const e=dI[t],n=Z_("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function bs(){return W_}const yI=()=>({prefix:null,iconName:null,rest:[]});function i8(t){let e=Pn;const n=uI.reduce((r,a)=>(r[a]="".concat(Ce.cssPrefix,"-").concat(a),r),{});return Wx.forEach(r=>{(t.includes(n[r])||t.some(a=>J7[r].includes(a)))&&(e=r)}),e}function Im(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=Pn}=e,r=P7[n][t];if(n===Cm&&!t)return"fad";const a=vw[n][t]||vw[n][r],o=t in _i.styles?t:null;return a||o||null}function a8(t){let e=[],n=null;return t.forEach(r=>{const a=t8(Ce.cssPrefix,r);a?n=a:r&&e.push(r)}),{iconName:n,rest:e}}function Sw(t){return t.sort().filter((e,n,r)=>r.indexOf(e)===n)}function Om(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=e;let r=null;const a=hv.concat(b7),o=Sw(t.filter(_=>a.includes(_))),u=Sw(t.filter(_=>!hv.includes(_))),f=o.filter(_=>(r=_,!Xx.includes(_))),[d=null]=f,g=i8(o),y=ge(ge({},a8(u)),{},{prefix:Im(d,{family:g})});return ge(ge(ge({},y),u8({values:t,family:g,styles:Gc,config:Ce,canonical:y,givenPrefix:r})),s8(n,r,y))}function s8(t,e,n){let{prefix:r,iconName:a}=n;if(t||!r||!a)return{prefix:r,iconName:a};const o=e==="fa"?pI(a):{},u=oo(r,a);return a=o.iconName||u||a,r=o.prefix||r,r==="far"&&!Gc.far&&Gc.fas&&!Ce.autoFetchSvg&&(r="fas"),{prefix:r,iconName:a}}const o8=Wx.filter(t=>t!==Pn||t!==Cm),l8=Object.keys(fv).filter(t=>t!==Pn).map(t=>Object.keys(fv[t])).flat();function u8(t){const{values:e,family:n,canonical:r,givenPrefix:a="",styles:o={},config:u={}}=t,f=n===Cm,d=e.includes("fa-duotone")||e.includes("fad"),g=u.familyDefault==="duotone",y=r.prefix==="fad"||r.prefix==="fa-duotone";if(!f&&(d||g||y)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&o8.includes(n)&&(Object.keys(o).find(E=>l8.includes(E))||u.autoFetchSvg)){const E=d7.get(n).defaultShortPrefixId;r.prefix=E,r.iconName=oo(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||a==="fa")&&(r.prefix=bs()||"fas"),r}class c8{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const a=n.reduce(this._pullDefinitions,{});Object.keys(a).forEach(o=>{this.definitions[o]=ge(ge({},this.definitions[o]||{}),a[o]),_v(o,a[o]);const u=Y_[Pn][o];u&&_v(u,a[o]),gI()})}reset(){this.definitions={}}_pullDefinitions(e,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(a=>{const{prefix:o,iconName:u,icon:f}=r[a],d=f[2];e[o]||(e[o]={}),d.length>0&&d.forEach(g=>{typeof g=="string"&&(e[o][g]=f)}),e[o][u]=f}),e}}let Tw=[],Rl={};const Pl={},f8=Object.keys(Pl);function h8(t,e){let{mixoutsTo:n}=e;return Tw=t,Rl={},Object.keys(Pl).forEach(r=>{f8.indexOf(r)===-1&&delete Pl[r]}),Tw.forEach(r=>{const a=r.mixout?r.mixout():{};if(Object.keys(a).forEach(o=>{typeof a[o]=="function"&&(n[o]=a[o]),typeof a[o]=="object"&&Object.keys(a[o]).forEach(u=>{n[o]||(n[o]={}),n[o][u]=a[o][u]})}),r.hooks){const o=r.hooks();Object.keys(o).forEach(u=>{Rl[u]||(Rl[u]=[]),Rl[u].push(o[u])})}r.provides&&r.provides(Pl)}),n}function Ev(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return(Rl[t]||[]).forEach(u=>{e=u.apply(null,[e,...r])}),e}function Eo(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(Rl[t]||[]).forEach(o=>{o.apply(null,n)})}function Ss(){const t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Pl[t]?Pl[t].apply(null,e):void 0}function bv(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t;const n=t.prefix||bs();if(e)return e=oo(n,e)||e,Ew(vI.definitions,n,e)||Ew(_i.styles,n,e)}const vI=new c8,d8=()=>{Ce.autoReplaceSvg=!1,Ce.observeMutations=!1,Eo("noAuto")},m8={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return va?(Eo("beforeI2svg",t),Ss("pseudoElements2svg",t),Ss("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=t;Ce.autoReplaceSvg===!1&&(Ce.autoReplaceSvg=!0),Ce.observeMutations=!0,Q7(()=>{p8({autoReplaceSvgRoot:e}),Eo("watch",t)})}},g8={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:oo(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){const e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=Im(t[0]);return{prefix:n,iconName:oo(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(Ce.cssPrefix,"-"))>-1||t.match(M7))){const e=Om(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||bs(),iconName:oo(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){const e=bs();return{prefix:e,iconName:oo(e,t)||t}}}},hr={noAuto:d8,config:Ce,dom:m8,parse:g8,library:vI,findIconDefinition:bv,toHtml:df},p8=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=Ot}=t;(Object.keys(_i.styles).length>0||Ce.autoFetchSvg)&&va&&Ce.autoReplaceSvg&&hr.dom.i2svg({node:e})};function Dm(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>df(n))}}),Object.defineProperty(t,"node",{get:function(){if(!va)return;const n=Ot.createElement("div");return n.innerHTML=t.html,n.children}}),t}function y8(t){let{children:e,main:n,mask:r,attributes:a,styles:o,transform:u}=t;if(X_(u)&&n.found&&!r.found){const{width:f,height:d}=n,g={x:f/d/2,y:.5};a.style=xm(ge(ge({},o),{},{"transform-origin":"".concat(g.x+u.x/16,"em ").concat(g.y+u.y/16,"em")}))}return[{tag:"svg",attributes:a,children:e}]}function v8(t){let{prefix:e,iconName:n,children:r,attributes:a,symbol:o}=t;const u=o===!0?"".concat(e,"-").concat(Ce.cssPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ge(ge({},a),{},{id:u}),children:r}]}]}function J_(t){const{icons:{main:e,mask:n},prefix:r,iconName:a,transform:o,symbol:u,title:f,maskId:d,titleId:g,extra:y,watchable:_=!1}=t,{width:E,height:T}=n.found?n:e,w=v7.includes(r),D=[Ce.replacementClass,a?"".concat(Ce.cssPrefix,"-").concat(a):""].filter(ee=>y.classes.indexOf(ee)===-1).filter(ee=>ee!==""||!!ee).concat(y.classes).join(" ");let k={children:[],attributes:ge(ge({},y.attributes),{},{"data-prefix":r,"data-icon":a,class:D,role:y.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(E," ").concat(T)})};const j=w&&!~y.classes.indexOf("fa-fw")?{width:"".concat(E/T*16*.0625,"em")}:{};_&&(k.attributes[_o]=""),f&&(k.children.push({tag:"title",attributes:{id:k.attributes["aria-labelledby"]||"title-".concat(g||$c())},children:[f]}),delete k.attributes.title);const W=ge(ge({},k),{},{prefix:r,iconName:a,main:e,mask:n,maskId:d,transform:o,symbol:u,styles:ge(ge({},j),y.styles)}),{children:G,attributes:ne}=n.found&&e.found?Ss("generateAbstractMask",W)||{children:[],attributes:{}}:Ss("generateAbstractIcon",W)||{children:[],attributes:{}};return W.children=G,W.attributes=ne,u?v8(W):y8(W)}function ww(t){const{content:e,width:n,height:r,transform:a,title:o,extra:u,watchable:f=!1}=t,d=ge(ge(ge({},u.attributes),o?{title:o}:{}),{},{class:u.classes.join(" ")});f&&(d[_o]="");const g=ge({},u.styles);X_(a)&&(g.transform=G7({transform:a,startCentered:!0,width:n,height:r}),g["-webkit-transform"]=g.transform);const y=xm(g);y.length>0&&(d.style=y);const _=[];return _.push({tag:"span",attributes:d,children:[e]}),o&&_.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),_}function _8(t){const{content:e,title:n,extra:r}=t,a=ge(ge(ge({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),o=xm(r.styles);o.length>0&&(a.style=o);const u=[];return u.push({tag:"span",attributes:a,children:[e]}),n&&u.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),u}const{styles:dy}=_i;function Sv(t){const e=t[0],n=t[1],[r]=t.slice(4);let a=null;return Array.isArray(r)?a={tag:"g",attributes:{class:"".concat(Ce.cssPrefix,"-").concat(cy.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Ce.cssPrefix,"-").concat(cy.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Ce.cssPrefix,"-").concat(cy.PRIMARY),fill:"currentColor",d:r[1]}}]}:a={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:a}}const E8={found:!1,width:512,height:512};function b8(t,e){!tI&&!Ce.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function Tv(t,e){let n=e;return e==="fa"&&Ce.styleDefault!==null&&(e=bs()),new Promise((r,a)=>{if(n==="fa"){const o=pI(t)||{};t=o.iconName||t,e=o.prefix||e}if(t&&e&&dy[e]&&dy[e][t]){const o=dy[e][t];return r(Sv(o))}b8(t,e),r(ge(ge({},E8),{},{icon:Ce.showMissingIcons&&t?Ss("missingIconAbstract")||{}:{}}))})}const Aw=()=>{},wv=Ce.measurePerformance&&Bh&&Bh.mark&&Bh.measure?Bh:{mark:Aw,measure:Aw},pc='FA "6.7.2"',S8=t=>(wv.mark("".concat(pc," ").concat(t," begins")),()=>_I(t)),_I=t=>{wv.mark("".concat(pc," ").concat(t," ends")),wv.measure("".concat(pc," ").concat(t),"".concat(pc," ").concat(t," begins"),"".concat(pc," ").concat(t," ends"))};var e0={begin:S8,end:_I};const hd=()=>{};function Rw(t){return typeof(t.getAttribute?t.getAttribute(_o):null)=="string"}function T8(t){const e=t.getAttribute?t.getAttribute(G_):null,n=t.getAttribute?t.getAttribute(K_):null;return e&&n}function w8(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Ce.replacementClass)}function A8(){return Ce.autoReplaceSvg===!0?dd.replace:dd[Ce.autoReplaceSvg]||dd.replace}function R8(t){return Ot.createElementNS("http://www.w3.org/2000/svg",t)}function C8(t){return Ot.createElement(t)}function EI(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=t.tag==="svg"?R8:C8}=e;if(typeof t=="string")return Ot.createTextNode(t);const r=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(o){r.setAttribute(o,t.attributes[o])}),(t.children||[]).forEach(function(o){r.appendChild(EI(o,{ceFn:n}))}),r}function x8(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const dd={replace:function(t){const e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(EI(n),e)}),e.getAttribute(_o)===null&&Ce.keepOriginalSource){let n=Ot.createComment(x8(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){const e=t[0],n=t[1];if(~Q_(e).indexOf(Ce.replacementClass))return dd.replace(t);const r=new RegExp("".concat(Ce.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const o=n[0].attributes.class.split(" ").reduce((u,f)=>(f===Ce.replacementClass||f.match(r)?u.toSvg.push(f):u.toNode.push(f),u),{toNode:[],toSvg:[]});n[0].attributes.class=o.toSvg.join(" "),o.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",o.toNode.join(" "))}const a=n.map(o=>df(o)).join(`
`);e.setAttribute(_o,""),e.innerHTML=a}};function Cw(t){t()}function bI(t,e){const n=typeof e=="function"?e:hd;if(t.length===0)n();else{let r=Cw;Ce.mutateApproach===D7&&(r=Es.requestAnimationFrame||Cw),r(()=>{const a=A8(),o=e0.begin("mutate");t.map(a),o(),n()})}}let t0=!1;function SI(){t0=!0}function Av(){t0=!1}let Yd=null;function xw(t){if(!mw||!Ce.observeMutations)return;const{treeCallback:e=hd,nodeCallback:n=hd,pseudoElementsCallback:r=hd,observeMutationsRoot:a=Ot}=t;Yd=new mw(o=>{if(t0)return;const u=bs();tu(o).forEach(f=>{if(f.type==="childList"&&f.addedNodes.length>0&&!Rw(f.addedNodes[0])&&(Ce.searchPseudoElements&&r(f.target),e(f.target)),f.type==="attributes"&&f.target.parentNode&&Ce.searchPseudoElements&&r(f.target.parentNode),f.type==="attributes"&&Rw(f.target)&&~V7.indexOf(f.attributeName))if(f.attributeName==="class"&&T8(f.target)){const{prefix:d,iconName:g}=Om(Q_(f.target));f.target.setAttribute(G_,d||u),g&&f.target.setAttribute(K_,g)}else w8(f.target)&&n(f.target)})}),va&&Yd.observe(a,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function I8(){Yd&&Yd.disconnect()}function O8(t){const e=t.getAttribute("style");let n=[];return e&&(n=e.split(";").reduce((r,a)=>{const o=a.split(":"),u=o[0],f=o.slice(1);return u&&f.length>0&&(r[u]=f.join(":").trim()),r},{})),n}function D8(t){const e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"";let a=Om(Q_(t));return a.prefix||(a.prefix=bs()),e&&n&&(a.prefix=e,a.iconName=n),a.iconName&&a.prefix||(a.prefix&&r.length>0&&(a.iconName=n8(a.prefix,t.innerText)||Z_(a.prefix,vv(t.innerText))),!a.iconName&&Ce.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(a.iconName=t.firstChild.data)),a}function N8(t){const e=tu(t.attributes).reduce((a,o)=>(a.name!=="class"&&a.name!=="style"&&(a[o.name]=o.value),a),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return Ce.autoA11y&&(n?e["aria-labelledby"]="".concat(Ce.replacementClass,"-title-").concat(r||$c()):(e["aria-hidden"]="true",e.focusable="false")),e}function P8(){return{iconName:null,title:null,titleId:null,prefix:null,transform:vi,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function Iw(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:a}=D8(t),o=N8(t),u=Ev("parseNodeAttributes",{},t);let f=e.styleParser?O8(t):[];return ge({iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:vi,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:f,attributes:o}},u)}const{styles:M8}=_i;function TI(t){const e=Ce.autoReplaceSvg==="nest"?Iw(t,{styleParser:!1}):Iw(t);return~e.extra.classes.indexOf(rI)?Ss("generateLayersText",t,e):Ss("generateSvgReplacementMutation",t,e)}function k8(){return[...g7,...hv]}function Ow(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!va)return Promise.resolve();const n=Ot.documentElement.classList,r=y=>n.add("".concat(yw,"-").concat(y)),a=y=>n.remove("".concat(yw,"-").concat(y)),o=Ce.autoFetchSvg?k8():Xx.concat(Object.keys(M8));o.includes("fa")||o.push("fa");const u=[".".concat(rI,":not([").concat(_o,"])")].concat(o.map(y=>".".concat(y,":not([").concat(_o,"])"))).join(", ");if(u.length===0)return Promise.resolve();let f=[];try{f=tu(t.querySelectorAll(u))}catch{}if(f.length>0)r("pending"),a("complete");else return Promise.resolve();const d=e0.begin("onTree"),g=f.reduce((y,_)=>{try{const E=TI(_);E&&y.push(E)}catch(E){tI||E.name==="MissingIcon"&&console.error(E)}return y},[]);return new Promise((y,_)=>{Promise.all(g).then(E=>{bI(E,()=>{r("active"),r("complete"),a("pending"),typeof e=="function"&&e(),d(),y()})}).catch(E=>{d(),_(E)})})}function L8(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;TI(t).then(n=>{n&&bI([n],e)})}function V8(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(e||{}).icon?e:bv(e||{});let{mask:a}=n;return a&&(a=(a||{}).icon?a:bv(a||{})),t(r,ge(ge({},n),{},{mask:a}))}}const U8=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=vi,symbol:r=!1,mask:a=null,maskId:o=null,title:u=null,titleId:f=null,classes:d=[],attributes:g={},styles:y={}}=e;if(!t)return;const{prefix:_,iconName:E,icon:T}=t;return Dm(ge({type:"icon"},t),()=>(Eo("beforeDOMElementCreation",{iconDefinition:t,params:e}),Ce.autoA11y&&(u?g["aria-labelledby"]="".concat(Ce.replacementClass,"-title-").concat(f||$c()):(g["aria-hidden"]="true",g.focusable="false")),J_({icons:{main:Sv(T),mask:a?Sv(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:_,iconName:E,transform:ge(ge({},vi),n),symbol:r,title:u,maskId:o,titleId:f,extra:{attributes:g,styles:y,classes:d}})))};var j8={mixout(){return{icon:V8(U8)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=Ow,t.nodeCallback=L8,t}}},provides(t){t.i2svg=function(e){const{node:n=Ot,callback:r=()=>{}}=e;return Ow(n,r)},t.generateSvgReplacementMutation=function(e,n){const{iconName:r,title:a,titleId:o,prefix:u,transform:f,symbol:d,mask:g,maskId:y,extra:_}=n;return new Promise((E,T)=>{Promise.all([Tv(r,u),g.iconName?Tv(g.iconName,g.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(w=>{let[D,k]=w;E([e,J_({icons:{main:D,mask:k},prefix:u,iconName:r,transform:f,symbol:d,maskId:y,title:a,titleId:o,extra:_,watchable:!0})])}).catch(T)})},t.generateAbstractIcon=function(e){let{children:n,attributes:r,main:a,transform:o,styles:u}=e;const f=xm(u);f.length>0&&(r.style=f);let d;return X_(o)&&(d=Ss("generateAbstractTransformGrouping",{main:a,transform:o,containerWidth:a.width,iconWidth:a.width})),n.push(d||a.icon),{children:n,attributes:r}}}},z8={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=e;return Dm({type:"layer"},()=>{Eo("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t(a=>{Array.isArray(a)?a.map(o=>{r=r.concat(o.abstract)}):r=r.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(Ce.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},F8={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:a={},styles:o={}}=e;return Dm({type:"counter",content:t},()=>(Eo("beforeDOMElementCreation",{content:t,params:e}),_8({content:t.toString(),title:n,extra:{attributes:a,styles:o,classes:["".concat(Ce.cssPrefix,"-layers-counter"),...r]}})))}}}},B8={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=vi,title:r=null,classes:a=[],attributes:o={},styles:u={}}=e;return Dm({type:"text",content:t},()=>(Eo("beforeDOMElementCreation",{content:t,params:e}),ww({content:t,transform:ge(ge({},vi),n),title:r,extra:{attributes:o,styles:u,classes:["".concat(Ce.cssPrefix,"-layers-text"),...a]}})))}}},provides(t){t.generateLayersText=function(e,n){const{title:r,transform:a,extra:o}=n;let u=null,f=null;if(Yx){const d=parseInt(getComputedStyle(e).fontSize,10),g=e.getBoundingClientRect();u=g.width/d,f=g.height/d}return Ce.autoA11y&&!r&&(o.attributes["aria-hidden"]="true"),Promise.resolve([e,ww({content:e.innerHTML,width:u,height:f,transform:a,title:r,extra:o,watchable:!0})])}}};const H8=new RegExp('"',"ug"),Dw=[1105920,1112319],Nw=ge(ge(ge(ge({},{FontAwesome:{normal:"fas",400:"fas"}}),h7),I7),S7),Rv=Object.keys(Nw).reduce((t,e)=>(t[e.toLowerCase()]=Nw[e],t),{}),q8=Object.keys(Rv).reduce((t,e)=>{const n=Rv[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function $8(t){const e=t.replace(H8,""),n=W7(e,0),r=n>=Dw[0]&&n<=Dw[1],a=e.length===2?e[0]===e[1]:!1;return{value:vv(a?e[0]:e),isSecondary:r||a}}function G8(t,e){const n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),a=isNaN(r)?"normal":r;return(Rv[n]||{})[a]||q8[n]}function Pw(t,e){const n="".concat(O7).concat(e.replace(":","-"));return new Promise((r,a)=>{if(t.getAttribute(n)!==null)return r();const u=tu(t.children).filter(E=>E.getAttribute(mv)===e)[0],f=Es.getComputedStyle(t,e),d=f.getPropertyValue("font-family"),g=d.match(k7),y=f.getPropertyValue("font-weight"),_=f.getPropertyValue("content");if(u&&!g)return t.removeChild(u),r();if(g&&_!=="none"&&_!==""){const E=f.getPropertyValue("content");let T=G8(d,y);const{value:w,isSecondary:D}=$8(E),k=g[0].startsWith("FontAwesome");let j=Z_(T,w),W=j;if(k){const G=r8(w);G.iconName&&G.prefix&&(j=G.iconName,T=G.prefix)}if(j&&!D&&(!u||u.getAttribute(G_)!==T||u.getAttribute(K_)!==W)){t.setAttribute(n,W),u&&t.removeChild(u);const G=P8(),{extra:ne}=G;ne.attributes[mv]=e,Tv(j,T).then(ee=>{const B=J_(ge(ge({},G),{},{icons:{main:ee,mask:yI()},prefix:T,iconName:W,extra:ne,watchable:!0})),N=Ot.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(N,t.firstChild):t.appendChild(N),N.outerHTML=B.map(x=>df(x)).join(`
`),t.removeAttribute(n),r()}).catch(a)}else r()}else r()})}function K8(t){return Promise.all([Pw(t,"::before"),Pw(t,"::after")])}function Y8(t){return t.parentNode!==document.head&&!~N7.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(mv)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function Mw(t){if(va)return new Promise((e,n)=>{const r=tu(t.querySelectorAll("*")).filter(Y8).map(K8),a=e0.begin("searchPseudoElements");SI(),Promise.all(r).then(()=>{a(),Av(),e()}).catch(()=>{a(),Av(),n()})})}var Q8={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=Mw,t}}},provides(t){t.pseudoElements2svg=function(e){const{node:n=Ot}=e;Ce.searchPseudoElements&&Mw(n)}}};let kw=!1;var X8={mixout(){return{dom:{unwatch(){SI(),kw=!0}}}},hooks(){return{bootstrap(){xw(Ev("mutationObserverCallbacks",{}))},noAuto(){I8()},watch(t){const{observeMutationsRoot:e}=t;kw?Av():xw(Ev("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const Lw=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,r)=>{const a=r.toLowerCase().split("-"),o=a[0];let u=a.slice(1).join("-");if(o&&u==="h")return n.flipX=!0,n;if(o&&u==="v")return n.flipY=!0,n;if(u=parseFloat(u),isNaN(u))return n;switch(o){case"grow":n.size=n.size+u;break;case"shrink":n.size=n.size-u;break;case"left":n.x=n.x-u;break;case"right":n.x=n.x+u;break;case"up":n.y=n.y-u;break;case"down":n.y=n.y+u;break;case"rotate":n.rotate=n.rotate+u;break}return n},e)};var W8={mixout(){return{parse:{transform:t=>Lw(t)}}},hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-transform");return n&&(t.transform=Lw(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:r,containerWidth:a,iconWidth:o}=e;const u={transform:"translate(".concat(a/2," 256)")},f="translate(".concat(r.x*32,", ").concat(r.y*32,") "),d="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),g="rotate(".concat(r.rotate," 0 0)"),y={transform:"".concat(f," ").concat(d," ").concat(g)},_={transform:"translate(".concat(o/2*-1," -256)")},E={outer:u,inner:y,path:_};return{tag:"g",attributes:ge({},E.outer),children:[{tag:"g",attributes:ge({},E.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:ge(ge({},n.icon.attributes),E.path)}]}]}}}};const my={x:0,y:0,width:"100%",height:"100%"};function Vw(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function Z8(t){return t.tag==="g"?t.children:[t]}var J8={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-mask"),r=n?Om(n.split(" ").map(a=>a.trim())):yI();return r.prefix||(r.prefix=bs()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:r,main:a,mask:o,maskId:u,transform:f}=e;const{width:d,icon:g}=a,{width:y,icon:_}=o,E=$7({transform:f,containerWidth:y,iconWidth:d}),T={tag:"rect",attributes:ge(ge({},my),{},{fill:"white"})},w=g.children?{children:g.children.map(Vw)}:{},D={tag:"g",attributes:ge({},E.inner),children:[Vw(ge({tag:g.tag,attributes:ge(ge({},g.attributes),E.path)},w))]},k={tag:"g",attributes:ge({},E.outer),children:[D]},j="mask-".concat(u||$c()),W="clip-".concat(u||$c()),G={tag:"mask",attributes:ge(ge({},my),{},{id:j,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[T,k]},ne={tag:"defs",children:[{tag:"clipPath",attributes:{id:W},children:Z8(_)},G]};return n.push(ne,{tag:"rect",attributes:ge({fill:"currentColor","clip-path":"url(#".concat(W,")"),mask:"url(#".concat(j,")")},my)}),{children:n,attributes:r}}}},ez={provides(t){let e=!1;Es.matchMedia&&(e=Es.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},a={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:ge(ge({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const o=ge(ge({},a),{},{attributeName:"opacity"}),u={tag:"circle",attributes:ge(ge({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||u.children.push({tag:"animate",attributes:ge(ge({},a),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ge(ge({},o),{},{values:"1;0;1;1;0;1;"})}),n.push(u),n.push({tag:"path",attributes:ge(ge({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:ge(ge({},o),{},{values:"1;0;0;0;0;1;"})}]}),e||n.push({tag:"path",attributes:ge(ge({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ge(ge({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},tz={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return t.symbol=r,t}}}},nz=[Y7,j8,z8,F8,B8,Q8,X8,W8,J8,ez,tz];h8(nz,{mixoutsTo:hr});hr.noAuto;hr.config;hr.library;hr.dom;const Cv=hr.parse;hr.findIconDefinition;hr.toHtml;const rz=hr.icon;hr.layer;hr.text;hr.counter;var gy={exports:{}},py,Uw;function iz(){if(Uw)return py;Uw=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return py=t,py}var yy,jw;function az(){if(jw)return yy;jw=1;var t=iz();function e(){}function n(){}return n.resetWarningCache=e,yy=function(){function r(u,f,d,g,y,_){if(_!==t){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}r.isRequired=r;function a(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},yy}var zw;function sz(){return zw||(zw=1,gy.exports=az()()),gy.exports}var oz=sz();const it=nA(oz);function Fw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function pi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fw(Object(n),!0).forEach(function(r){Cl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qd(t){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd(t)}function Cl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lz(t,e){if(t==null)return{};var n={},r=Object.keys(t),a,o;for(o=0;o<r.length;o++)a=r[o],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function uz(t,e){if(t==null)return{};var n=lz(t,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xv(t){return cz(t)||fz(t)||hz(t)||dz()}function cz(t){if(Array.isArray(t))return Iv(t)}function fz(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hz(t,e){if(t){if(typeof t=="string")return Iv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Iv(t,e)}}function Iv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mz(t){var e,n=t.beat,r=t.fade,a=t.beatFade,o=t.bounce,u=t.shake,f=t.flash,d=t.spin,g=t.spinPulse,y=t.spinReverse,_=t.pulse,E=t.fixedWidth,T=t.inverse,w=t.border,D=t.listItem,k=t.flip,j=t.size,W=t.rotation,G=t.pull,ne=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":a,"fa-bounce":o,"fa-shake":u,"fa-flash":f,"fa-spin":d,"fa-spin-reverse":y,"fa-spin-pulse":g,"fa-pulse":_,"fa-fw":E,"fa-inverse":T,"fa-border":w,"fa-li":D,"fa-flip":k===!0,"fa-flip-horizontal":k==="horizontal"||k==="both","fa-flip-vertical":k==="vertical"||k==="both"},Cl(e,"fa-".concat(j),typeof j<"u"&&j!==null),Cl(e,"fa-rotate-".concat(W),typeof W<"u"&&W!==null&&W!==0),Cl(e,"fa-pull-".concat(G),typeof G<"u"&&G!==null),Cl(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(ne).map(function(ee){return ne[ee]?ee:null}).filter(function(ee){return ee})}function gz(t){return t=t-0,t===t}function wI(t){return gz(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var pz=["style"];function yz(t){return t.charAt(0).toUpperCase()+t.slice(1)}function vz(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),a=wI(n.slice(0,r)),o=n.slice(r+1).trim();return a.startsWith("webkit")?e[yz(a)]=o:e[a]=o,e},{})}function AI(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(d){return AI(t,d)}),a=Object.keys(e.attributes||{}).reduce(function(d,g){var y=e.attributes[g];switch(g){case"class":d.attrs.className=y,delete e.attributes.class;break;case"style":d.attrs.style=vz(y);break;default:g.indexOf("aria-")===0||g.indexOf("data-")===0?d.attrs[g.toLowerCase()]=y:d.attrs[wI(g)]=y}return d},{attrs:{}}),o=n.style,u=o===void 0?{}:o,f=uz(n,pz);return a.attrs.style=pi(pi({},a.attrs.style),u),t.apply(void 0,[e.tag,pi(pi({},a.attrs),f)].concat(xv(r)))}var RI=!1;try{RI=!0}catch{}function _z(){if(!RI&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function Bw(t){if(t&&Qd(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(Cv.icon)return Cv.icon(t);if(t===null)return null;if(t&&Qd(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function vy(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Cl({},t,e):{}}var Hw={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},Ii=rA.forwardRef(function(t,e){var n=pi(pi({},Hw),t),r=n.icon,a=n.mask,o=n.symbol,u=n.className,f=n.title,d=n.titleId,g=n.maskId,y=Bw(r),_=vy("classes",[].concat(xv(mz(n)),xv((u||"").split(" ")))),E=vy("transform",typeof n.transform=="string"?Cv.transform(n.transform):n.transform),T=vy("mask",Bw(a)),w=rz(y,pi(pi(pi(pi({},_),E),T),{},{symbol:o,title:f,titleId:d,maskId:g}));if(!w)return _z("Could not find icon",y),null;var D=w.abstract,k={ref:e};return Object.keys(n).forEach(function(j){Hw.hasOwnProperty(j)||(k[j]=n[j])}),Ez(D[0],k)});Ii.displayName="FontAwesomeIcon";Ii.propTypes={beat:it.bool,border:it.bool,beatFade:it.bool,bounce:it.bool,className:it.string,fade:it.bool,flash:it.bool,mask:it.oneOfType([it.object,it.array,it.string]),maskId:it.string,fixedWidth:it.bool,inverse:it.bool,flip:it.oneOf([!0,!1,"horizontal","vertical","both"]),icon:it.oneOfType([it.object,it.array,it.string]),listItem:it.bool,pull:it.oneOf(["right","left"]),pulse:it.bool,rotation:it.oneOf([0,90,180,270]),shake:it.bool,size:it.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:it.bool,spinPulse:it.bool,spinReverse:it.bool,symbol:it.oneOfType([it.bool,it.string]),title:it.string,titleId:it.string,transform:it.oneOfType([it.string,it.object]),swapOpacity:it.bool};var Ez=AI.bind(null,rA.createElement);const bz=()=>I.jsx(Ii,{icon:Qj}),Sz=O.memo(bz),Tz=()=>I.jsx(Ii,{icon:Wj}),wz=O.memo(Tz),Az=()=>I.jsx(Ii,{icon:Zj}),Rz=O.memo(Az),Cz=()=>I.jsx(Ii,{icon:t7}),xz=O.memo(Cz),Iz="_LoadingIcon_1jisw_6",Oz={LoadingIcon:Iz},Dz=t=>{const{size:e="1x"}=t;return I.jsx("span",{className:Oz.LoadingIcon,children:I.jsx(Ii,{icon:e7,size:e})})},CI=O.memo(Dz),Nz="_MeloChartIcon_1muw1_1",Pz={MeloChartIcon:Nz},Mz=()=>I.jsx("span",{className:Pz.MeloChartIcon}),kz=O.memo(Mz),Lz=()=>I.jsx(Ii,{icon:Jj}),qw=O.memo(Lz),Vz=()=>I.jsx(Ii,{icon:Xj}),Uz=O.memo(Vz),jz=()=>I.jsx(Ii,{icon:n7}),zz=O.memo(jz),Fz="_Input_6v29l_1",Bz={Input:Fz},Hz=t=>I.jsx("input",{className:Bz.Input,...t}),la=O.memo(Hz),qz="_Link_8fn99_1",$z={Link:qz},Gz=t=>{const{children:e,...n}=t;return I.jsx(Zv,{className:$z.Link,...n,children:e})},Ov=O.memo(Gz),n0=()=>({id:cf(),text:""}),us=t=>{const e=Array.from({length:t},()=>n0());return{id:cf(),chunks:e}},xo=t=>t[0].chunks.length,Kz=t=>{const{qty:e,setNotes:n}=t;n(r=>[...r,...Array.from({length:e},()=>us(xo(r)))])},Yz=t=>{const{qty:e,setNotes:n}=t;n(r=>r.map(a=>{const o=[...a.chunks,...Array.from({length:e},()=>n0())];return{...a,chunks:o}}))},xI=t=>{const{noteIndex:e,setNotes:n}=t;n(r=>[...r.slice(0,e),us(xo(r)),...r.slice(e)])},Qz=t=>{const{contextMenuData:e,setNotes:n}=t,{noteIndex:r}=e;xI({noteIndex:r+1,setNotes:n})},Xz=t=>{const{contextMenuData:e,setNotes:n}=t,{noteIndex:r}=e;xI({noteIndex:r,setNotes:n})},II=t=>{const{chunkIndex:e,setNotes:n}=t;n(r=>r.map(a=>{const o=[...a.chunks.slice(0,e),n0(),...a.chunks.slice(e)];return{...a,chunks:o}}))},Wz=t=>{const{contextMenuData:e,setNotes:n}=t,{chunkIndex:r}=e;II({chunkIndex:r+1,setNotes:n})},Zz=t=>{const{contextMenuData:e,setNotes:n}=t,{chunkIndex:r}=e;II({chunkIndex:r,setNotes:n})},Jz=t=>{const{setNotes:e,songText:n}=t,r=Nx(n);e(a=>{const o=xo(a);return[...a.slice(0,1),...r.map(u=>{const f=us(o);return f.chunks[0].text=u,f})]},[])},OI=t=>t.chunks.findIndex(e=>e.text),eF=t=>{const{setNotes:e}=t;e(n=>{let r=-1;for(let o=n.length-1;o>=0&&!n[o].chunks.reduce((f,d)=>f+d.text,"");o--)r=o;const a=r!=-1?n.slice(0,r):[...n];return a.length?[...a]:[...n]})},tF=t=>{const{contextMenuData:e,setNotes:n}=t,{noteIndex:r}=e;n(a=>r===0?[...a]:[...a.slice(0,r),...a.slice(r+1)])},nF=t=>{const{contextMenuData:e,setNotes:n}=t,{chunkIndex:r}=e;n(a=>a.map(o=>{if(o.chunks.length===1)return{...o};const u=[...o.chunks.slice(0,r),...o.chunks.slice(r+1)];return{...o,chunks:u}}))},DI=(t,e)=>t.reduce((n,r)=>n+r.chunks[e].text,""),rF=t=>{const{setNotes:e}=t;e(n=>{const r=aF(n),a=iF(r);return a[0].chunks.length?[...a]:[...n]})},iF=t=>{const e=xo(t);let n=-1;for(let r=e-1;r>=0&&!DI(t,r);r--)n=r;return n==-1?[...t]:t.map(r=>{const a=r.chunks.map((o,u)=>u>=n?null:o).filter(Boolean);return{...r,chunks:a}})},aF=t=>{const e=xo(t);let n=-1;for(let r=0;r<e&&!DI(t,r);r++)n=r;return n==-1?[...t]:t.map(r=>{const a=r.chunks.map((o,u)=>u>n?o:null).filter(Boolean);return{...r,chunks:a}})},sF=t=>e=>{const{text:n,noteIndex:r,chunkIndex:a}=e,o=n.trim(),u=!!o,d=o.indexOf(" ")!==-1?o.split(" "):[n];t(g=>{const y=xo(g),_=g[r],E=_.chunks.map((w,D)=>{const k=D==a,j=u?"":w.text;return{...w,text:k?d[0]:j}}),T=d.length>1?d.slice(1).map(w=>{const D=us(y);return D.chunks[a].text=w,D}):[];return[...g.slice(0,r),{..._,chunks:E},...T,...g.slice(r+1)]})},oF=t=>e=>{const{text:n,noteIndex:r,chunkIndex:a}=e,o=n.trim(),f=o.indexOf(" ")!==-1?o.split(" "):[n];t(d=>{const g=xo(d),y=d[r],_=y.chunks.map((T,w)=>{const D=w==a;return{...T,text:D?f[0]:T.text}}),E=f.length>1?f.slice(1).map(T=>{const w=us(g);return w.chunks[a].text=T,w}):[];return[...d.slice(0,r),{...y,chunks:_},...E,...d.slice(r+1)]})},lF=(t,e,n)=>{if(e==-1||n==-1)return!1;if(e<n)return!(t<=e||t>n);if(t==n)return!1;if(t<=e&&t>n)return!0},r0=t=>{const{noteIndex:e,chunkIndex:n}=t,r=document.querySelector(`[data-note-index="${e}"][data-chunk-index="${n}"]`);r&&r.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))},uF=t=>{t.preventDefault()},cF=t=>{const{event:e,noteIndex:n,chunkIndex:r}=t;e.preventDefault(),r0({noteIndex:n,chunkIndex:r+1})},fF=t=>{const{event:e,noteIndex:n,chunkIndex:r}=t;e.preventDefault(),r0({noteIndex:n,chunkIndex:r-1})},hF=t=>{const{event:e}=t;e.target.blur()},dF=t=>{const{event:e,originalText:n,setEditInputValue:r}=t;r(n),setTimeout(()=>{e.target.blur()},0)},mF=t=>{const{event:e,noteIndex:n,chunkIndex:r}=t;e.preventDefault();const a=e.shiftKey?n-1:n+1;r0({noteIndex:a,chunkIndex:r})},gF=Object.freeze({Enter:hF,Tab:mF,ArrowUp:fF,ArrowDown:cF,Escape:dF}),pF="_NoteChunk_1p1e2_1",yF="_ChunkText_1p1e2_11",vF="_EmptyChunkText_1p1e2_168",_F="_HighlightDropZone_1p1e2_172",ta={NoteChunk:pF,ChunkText:yF,EmptyChunkText:vF,HighlightDropZone:_F},qh="drag-data-transfer-text",_y="drag-data-transfer-note-index",$w="drag-data-transfer-chunk-index",EF=t=>{const{chunk:e,note:n,text:r,chunkIndex:a,noteIndex:o,filledNoteIndex:u,hasRightBorder:f,isTheNoteDefinitionChunk:d=!1,onOpenContextMenu:g,onEditNoteChunkText:y,onEditNoteDefinitionChunkText:_}=t,{t:E}=Ht(),[T,w]=O.useState(!1),[D,k]=O.useState(r),j=O.useMemo(()=>a===0,[a]),W=O.useMemo(()=>a%12+1,[a]),G=O.useMemo(()=>!r||d,[d,r]),ne=O.useMemo(()=>d?E("Click to define pitch"):`${E("Click to define note")}. ${E("Drag the note to move it")}`,[d,E]),ee=O.useCallback(()=>{w(U=>!U)},[]),B=O.useCallback(U=>{if(U.preventDefault(),U.dataTransfer.getData("noteIndex")!=o)return;const Se=U.dataTransfer.getData("text");y({text:Se,noteIndex:o,chunkIndex:a})},[a,o,y]),N=O.useCallback(U=>{U.dataTransfer.setData("text",r),U.dataTransfer.setData("noteIndex",o)},[o,r]),x=O.useCallback(U=>{if(d&&["Tab"].includes(U.key)){U.preventDefault();return}const P=gF[U.key];P&&P({event:U,chunkIndex:a,noteIndex:o,originalText:r,setEditInputValue:k})},[a,d,o,r]);O.useEffect(()=>{k(r)},[r]);const C=O.useMemo(()=>`note-chunk-${n.id}-${e.id}`,[e.id,n.id]),M=O.useMemo(()=>{const U=r===""?E("Pitch"):r,P=u===-1&&r===""?E("Note"):r,Se=d?U:P;return I.jsx("span",{className:`${ta.ChunkText} ${r?"":ta.EmptyChunkText}`,children:Se})},[u,d,E,r]),F=O.useRef(null);return O.useEffect(()=>{const U=F.current,P=()=>{localStorage.setItem(qh,r),localStorage.setItem(_y,o),localStorage.setItem($w,a)},Se=Y=>{if(!localStorage.getItem(qh))return;Y.preventDefault();const ye=Y.touches[0],V=document.elementFromPoint(ye.clientX,ye.clientY).closest(`.${ta.NoteChunk}`);document.querySelectorAll(`.${ta.HighlightDropZone}`).forEach(ie=>ie.classList.remove(ta.HighlightDropZone)),V&&V.classList.add(ta.HighlightDropZone)},Ue=Y=>{const he=localStorage.getItem(qh),ye=localStorage.getItem(_y),Oe=localStorage.getItem($w),V=Y.changedTouches[0],de=document.elementFromPoint(V.clientX,V.clientY).closest(`.${ta.NoteChunk}`),oe=de.dataset.chunkIndex;he&&ye==o&&Oe!=oe&&(Y.preventDefault(),localStorage.removeItem(qh),localStorage.removeItem(_y),de.classList.remove(ta.HighlightDropZone),y({text:he,noteIndex:o,chunkIndex:oe}))};return U==null||U.addEventListener("touchstart",P,{passive:!1}),U==null||U.addEventListener("touchmove",Se,{passive:!1}),U==null||U.addEventListener("touchend",Ue,{passive:!1}),()=>{U==null||U.removeEventListener("touchstart",P,{passive:!1}),U==null||U.removeEventListener("touchmove",Se,{passive:!1}),U==null||U.removeEventListener("touchend",Ue,{passive:!1})}},[a,o,y,r]),I.jsx("div",{id:C,className:ta.NoteChunk,ref:F,onContextMenu:U=>{U.preventDefault(),g({chunkIndex:a,noteIndex:o,top:U.pageY-window.scrollY,left:U.pageX-window.scrollX})},onClick:ee,draggable:!G,onDragStart:N,onDrop:B,onDragOver:uF,"data-is-drag-disabled":G,"data-pitch-index":W,"data-has-bottom-border":!!r||d,"data-has-right-border":f||d,"data-has-left-border":d,"data-has-top-border":d&&j,"data-chunk-index":a,"data-note-index":o,title:ne,children:T?I.jsx(la,{autoFocus:!0,type:"text",name:"note-chunk-edit-input",value:D,onKeyDown:x,onChange:U=>k(U.target.value),onBlur:()=>{w(!1),(d?_:y)({text:D,noteIndex:o,chunkIndex:a})}}):M})},bF=O.memo(EF),SF="_Note_8s8tv_1",TF={Note:SF},wF=t=>{const{note:e,noteIndex:n,nextNoteNoteIndex:r,hasNextNote:a,isTheNoteDefinitionChunk:o,setNotes:u,contextMenuFnsRef:f}=t,d=O.useCallback(_=>{var E;(E=f.current)==null||E.setContextMenuData(_)},[f]),g=O.useCallback(sF(u),[u]),y=O.useCallback(oF(u),[u]);return I.jsx("div",{className:TF.Note,children:e.chunks.map((_,E)=>{const T=OI(e),w=a?lF(E,T,r):!1;return I.jsx(bF,{note:e,chunk:_,chunkIndex:E,noteIndex:n,filledNoteIndex:T,text:_.text,hasRightBorder:w,isTheNoteDefinitionChunk:o,onOpenContextMenu:d,onEditNoteChunkText:g,onEditNoteDefinitionChunkText:y},_.id)})})},Gw=O.memo(wF),AF="_NotesContainer_1cc1b_1",RF="_ScaleContainer_1cc1b_12",CF="_ChartContainer_1cc1b_18",Ey={NotesContainer:AF,ScaleContainer:RF,ChartContainer:CF},xF=t=>{const{notes:e,notesFnsRef:n}=t,{t:r}=Ht(),[a,o]=O.useState(e),[u,f]=O.useState(!0),[d,g]=O.useState([1]),y=O.useRef(null),_=O.useRef(null),E=O.useMemo(()=>[{label:r("Add Pitch Above"),onClick:D=>{Zz({contextMenuData:D,setNotes:o})}},{label:r("Add Pitch Below"),onClick:D=>{Wz({contextMenuData:D,setNotes:o})}},{label:r("Add Note Before"),onClick:D=>{Xz({contextMenuData:D,setNotes:o})}},{label:r("Add Note After"),onClick:D=>{Qz({contextMenuData:D,setNotes:o})}},{label:r("Remove Pitch"),type:"danger",onClick:D=>{nF({contextMenuData:D,setNotes:o})}},{label:r("Remove Note"),type:"danger",onClick:D=>{tF({contextMenuData:D,setNotes:o})}}],[r]);O.useImperativeHandle(n,()=>({setWrapNotes(D){f(D)},getNotes(){return[...a]},addMultipleNotes(D){Kz({setNotes:o,qty:D})},addMultiplePitches(D){Yz({setNotes:o,qty:D})},removeEmptyNotesAtTheEnd(){eF({setNotes:o})},trimPitches(){rF({setNotes:o})},addWordsAsNotes(D){Jz({setNotes:o,songText:D})}}));const T=O.useCallback(()=>{var G,ne,ee,B;if(!((ne=(G=_==null?void 0:_.current)==null?void 0:G.children)==null?void 0:ne.length)){g([1]);return}const k=((ee=_==null?void 0:_.current)==null?void 0:ee.children[0].offsetHeight)+O9(2),j=(B=_==null?void 0:_.current)==null?void 0:B.offsetHeight,W=Math.ceil(j/k);if(W>1){const N=Array(W).fill().map((x,C)=>1+C);g(N);return}g([1])},[]);O.useEffect(()=>{T()},[T,u,a]),O.useEffect(()=>(window.addEventListener("resize",T),()=>{window.removeEventListener("resize",T)}),[T]);const w=a[0];return I.jsxs("div",{className:Ey.ChartContainer,children:[I.jsx("div",{className:Ey.ScaleContainer,children:d.map(D=>I.jsx(Gw,{setNotes:o,note:w,noteIndex:D,hasNextNote:!0,nextNoteNoteIndex:1,contextMenuFnsRef:y,isTheNoteDefinitionChunk:!0},`${w.id}-${D}`))}),I.jsxs("div",{ref:_,className:Ey.NotesContainer,"data-wrap-notes":u,children:[a.map((D,k)=>{if(k==0)return null;const j=a.length>k+1,W=j?OI(a[k+1]):null;return I.jsx(Gw,{setNotes:o,note:D,noteIndex:k,hasNextNote:j,nextNoteNoteIndex:W,contextMenuFnsRef:y},D.id)}),I.jsx(PL,{items:E,contextMenuFnsRef:y})]})]})},IF=O.memo(xF),OF="_SaveChartOption_1tona_1",Kw={SaveChartOption:OF},DF=t=>{const{songId:e,notesFnsRef:n}=t,{t:r}=Ht(),a=Ci(),o=Qn(Yn.selectors.selectSongById(e)),u=Qn(Yn.selectors.selectSaveSongStatus),f=O.useCallback(async()=>{var y;const d=(y=n.current)==null?void 0:y.getNotes(),g=o.title;a(Yn.actions.saveSong({...o,title:g,notes:d}))},[a,n,o]);return I.jsx("div",{className:Kw.SaveChartOption,children:I.jsxs(Dt,{className:Kw.SaveSongButton,onClick:f,category:jt.SUCCESS,icon:I.jsx(Rz,{}),children:[kx(u)?I.jsx(CI,{}):I.jsx(I.Fragment,{})," ",r("Save Changes")]})})},NF=O.memo(DF),PF="_SongTitle_rcztm_1",MF="_CheckboxContainer_rcztm_8",Yw={SongTitle:PF,CheckboxContainer:MF},kF=t=>{const{id:e,title:n,notesFnsRef:r}=t,{t:a}=Ht(),o=Ci(),[u,f]=O.useState(!1),[d,g]=O.useState(n),y=O.useCallback(()=>{f(!0)},[]),_=O.useCallback(w=>{w.key==="Enter"&&w.target.blur()},[]),E=O.useCallback(()=>{f(!1),o(Yn.actions.editSongTitle({id:e,title:d}))},[o,e,d]),T=O.useCallback(w=>{var D;(D=r.current)==null||D.setWrapNotes(w)},[r]);return I.jsx(I.Fragment,{children:u?I.jsx(la,{autoFocus:!0,type:"text",value:d,onChange:w=>g(w.target.value),onKeyDown:_,onBlur:E}):I.jsxs(I.Fragment,{children:[I.jsx("h2",{className:Yw.SongTitle,onDoubleClick:y,children:d}),I.jsx(NF,{songId:e,notesFnsRef:r}),I.jsx(xL,{className:Yw.CheckboxContainer,label:a("Break Chart"),initialValue:!0,onChange:T})]})})},LF=O.memo(kF),VF="_Song_6jqb9_1",UF="_SongTitleContainer_6jqb9_7",Qw={Song:VF,SongTitleContainer:UF},jF=t=>{const{notesFnsRef:e,generateChartDialogFnsRef:n,song:r}=t,{t:a}=Ht(),o=O.useRef(null),u=O.useRef(null);return I.jsxs("div",{className:Qw.Song,children:[I.jsx(Ij,{}),I.jsx(Dt,{category:jt.PRIMARY,onClick:()=>{var f;return(f=o.current)==null?void 0:f.show()},icon:I.jsx(xz,{}),children:a("Configure Song")}),I.jsx("div",{className:Qw.SongTitleContainer,children:I.jsx(LF,{id:r.id,title:r.title,notesFnsRef:e})}),I.jsx(IF,{notes:r.notes,notesFnsRef:e}),I.jsx(bj,{configSongDialogFnsRef:o,generateChartDialogFnsRef:n,deleteSongDialogFnsRef:u,notesFnsRef:e}),I.jsx(Tj,{deleteSongDialogFnsRef:u,song:r})]})},zF=O.memo(jF),Xw=Object.freeze({EMPTY_LIST_MESSAGE:"songs-list-empty-list-message",SONG:"songs-list-song-item"}),{t:FF}=Zt,BF=(t=[])=>t.length?t.map(e=>{if(!e.id||!e.title){const{notes:n,...r}=e;return console.warn(`renderSongs: Song not rendered because id and/or title was not defined. ${JSON.stringify(r)}`),I.jsx(I.Fragment,{})}return I.jsx("li",{"data-testid":Xw.SONG,children:I.jsx(Ov,{to:{pathname:"/chart",search:`?id=${e.id}`},children:e.title})},e.id)}):I.jsx("li",{"data-testid":Xw.EMPTY_LIST_MESSAGE,children:FF("No songs here. What about adding one?")}),HF="_SongListContainer_v77t5_1",qF="_SongList_v77t5_1",Ww={SongListContainer:HF,SongList:qF},$F=()=>{const{t}=Ht(),e=Qn(Yn.selectors.selectAllSongs);return I.jsxs("div",{className:Ww.SongListContainer,children:[I.jsx("h2",{children:t("Song List")}),I.jsx("ul",{className:Ww.SongList,children:BF(e)})]})},GF=O.memo($F),KF="_TextArea_e12px_1",YF={TextArea:KF},QF=t=>I.jsx("textarea",{...t,className:YF.TextArea}),NI=O.memo(QF),XF="_HeaderBar_dpa2e_1",WF="_Header_dpa2e_1",ZF="_MenuOptionsExtraSmall_dpa2e_20",JF="_MenuOptionsSmallOrBigger_dpa2e_29",eB="_MenuOptionsContainer_dpa2e_41",tB="_DivisorTop_dpa2e_52",nB="_ContentContainer_dpa2e_63",ro={HeaderBar:XF,Header:WF,MenuOptionsExtraSmall:ZF,MenuOptionsSmallOrBigger:JF,MenuOptionsContainer:eB,DivisorTop:tB,ContentContainer:nB},rB=()=>{const{t}=Ht(),e=Ci(),n=Qn(Mr.selectors.isLoggedIn),[r,a]=O.useState(!1),o=O.useCallback(u=>{u.preventDefault(),e(Mr.actions.signOutUser())},[e]);return I.jsxs("div",{className:ro.HeaderBar,children:[I.jsxs("div",{className:ro.Header,children:[I.jsx(kz,{}),I.jsx("h1",{children:"Melo Chart"}),n?I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:ro.MenuOptionsSmallOrBigger,children:[I.jsx("ul",{children:I.jsx("li",{children:I.jsx(Ov,{to:{pathname:""},children:t("My songs")})})}),I.jsx(Dt,{category:jt.DANGER,textOnly:!0,onClick:o,children:t("Sign Out")})]}),I.jsx("div",{className:ro.MenuOptionsExtraSmall,children:I.jsx(Dt,{onClick:()=>a(u=>!u),children:I.jsx(Sz,{})})})]}):I.jsx(I.Fragment,{})]}),n&&r?I.jsx("div",{className:ro.MenuOptionsContainer,children:I.jsxs("ul",{children:[I.jsx("li",{children:I.jsx(Ov,{to:{pathname:""},children:t("My songs")})}),I.jsx("li",{className:ro.DivisorTop,children:I.jsx(Dt,{category:jt.DANGER,textOnly:!0,onClick:o,children:t("Sign Out")})})]})}):I.jsx(I.Fragment,{})]})},iB=t=>{const{children:e}=t;return I.jsx("div",{className:ro.ContentContainer,children:e})},aB=()=>I.jsxs(I.Fragment,{children:[I.jsx(Yj,{}),I.jsx(rB,{}),I.jsx(iB,{children:I.jsx(t4,{})})]}),sB=O.memo(aB),oB="_Chart_m1uz3_1",lB={Chart:oB},uB=()=>{const t=O.useRef(null),e=O.useRef(null),[n]=Jv(),r=n.get("id")||null,a=Qn(Yn.selectors.selectSongById(r)),o=O.useCallback(d=>{var g;(g=t.current)==null||g.addWordsAsNotes(d)},[]),u=O.useCallback(()=>{var _;if(!a)return!1;const d=JSON.stringify(a.notes),g=((_=t.current)==null?void 0:_.getNotes())||[],y=JSON.stringify(g);return d!=y},[a,t]),f=Kk(u);return I.jsxs("div",{className:lB.Chart,children:[a?I.jsx(zF,{notesFnsRef:t,generateChartDialogFnsRef:e,song:a}):I.jsx(SR,{to:"/"}),I.jsx(Dj,{show:f.state==="blocked",onConfirm:()=>f.proceed(),onCancel:()=>f.reset()}),I.jsx(Aj,{generateChartDialogFnsRef:e,onAddWordsAsNotes:o})]})},cB=O.memo(uB),fB="_Home_1ni6n_1",hB={Home:fB},dB=()=>I.jsxs("div",{className:hB.Home,children:[I.jsx(_j,{}),I.jsx(GF,{})]}),mB=O.memo(dB),gB="_LoginContainer_162n2_1",pB="_Login_162n2_1",Zw={LoginContainer:gB,Login:pB},yB=()=>{const{t}=Ht(),e=Ci(),n=O.useRef(null),[r,a]=O.useState(!0),[o,u]=O.useState(""),[f,d]=O.useState(""),[g,y]=O.useState(""),_=O.useCallback(()=>{const w=n.current===document.activeElement;return o||w?o:f.split("@")[0]||""},[f,o]),E=O.useCallback(w=>{w.preventDefault(),e(Mr.actions.signInUser({email:f,password:g}))},[e,f,g]),T=O.useCallback(w=>{w.preventDefault(),e(Mr.actions.signUpUser({username:_(),email:f,password:g}))},[e,f,_,g]);return I.jsxs("div",{className:Zw.LoginContainer,children:[I.jsxs("form",{className:Zw.Login,onSubmit:r?E:T,children:[I.jsx("h2",{children:t(r?"Login":"Create an Account")}),I.jsx(oa,{label:t("Email"),field:I.jsx(la,{type:"text",name:"email",value:f,onChange:w=>d(w.target.value)})}),I.jsx(oa,{label:t("Password"),field:I.jsx(la,{type:"password",name:"password",value:g,onChange:w=>y(w.target.value)})}),r?I.jsx(I.Fragment,{}):I.jsx(oa,{label:t("Username"),field:I.jsx(la,{ref:n,type:"text",name:"username",value:_(),onChange:w=>u(w.target.value)})}),I.jsx(Dt,{category:jt.SUCCESS,icon:r?I.jsx(Uz,{}):I.jsx(zz,{}),children:t(r?"Sign in":"Sign up")})]}),r?I.jsx(Dt,{category:jt.PRIMARY,textOnly:!0,onClick:()=>a(!1),children:t("Don't have an account? Sign up")}):I.jsx(Dt,{category:jt.PRIMARY,textOnly:!0,onClick:()=>a(!0),children:t("Go back")})]})},vB=O.memo(yB),_B=t=>{const{children:e}=t,n=Ql(),[r]=Jv(),a=Qn(Mr.selectors.isLoggedIn);return O.useEffect(()=>{if(a){const o=r.get("url")||"/";n(o,{replace:!0})}},[a,n,r]),e},Jw=t=>{const{children:e}=t,n=Ql(),r=xi(),[a]=Jv(),o=Qn(Mr.selectors.isLoggedIn),u=Qn(Mr.selectors.isLoginVerificationComplete);return O.useEffect(()=>{if(!o){const f=r.pathname+r.search,d=u?"":`?url=${f}`;n(`/login${d}`,{replace:!0})}if(o){const f=a.get("url")||null;f&&n(f,{replace:!0})}},[o,u,r.pathname,r.search,n,a]),e},EB=C4([{path:"/",element:I.jsx(sB,{}),children:[{index:!0,element:I.jsx(Jw,{children:I.jsx(mB,{})})},{path:"login",element:I.jsx(_B,{children:I.jsx(vB,{})})},{path:"chart",element:I.jsx(Jw,{children:I.jsx(cB,{})})},{path:"*",element:I.jsx(SR,{to:"/"})}]}]),bB=()=>I.jsx(Zk,{router:EB}),SB=()=>{const t=Ci(),e=Qn(Mr.selectors.selectLoggedUser);return O.useEffect(()=>{e!=null&&e.uid&&t(Yn.actions.loadSongs(e.uid))},[t,e==null?void 0:e.uid]),O.useEffect(()=>{yP(Yr.auth.auth,n=>{n&&t(Mr.actions.loadUser(n)),t(Mr.actions.completeFirebaseOnAuthStateChangedStatus())})},[t]),I.jsx(I.Fragment,{children:I.jsx(bB,{})})},TB=O.memo(SB),eA={"user/signUpUser/rejected":{"auth/invalid-email":"Please, add a valid email","auth/email-already-in-use":"An account with that email already exists","auth/missing-password":"Please, insert a password with at least 6 characters","auth/weak-password":"Please, insert a password with at least 6 characters"},"user/signInUser/rejected":{"auth/invalid-email":"Invalid email and/or password","auth/missing-password":"Invalid email and/or password","auth/invalid-credential":"Invalid email and/or password"},"songs/saveSong/fulfilled":"Song saved","songs/saveSong/rejected":{"permission-denied":"You don't have permission to save songs","auth/network-request-failed":"Network Error: Please, check your network connection"},"songs/addSong/rejected":{"permission-denied":"You don't have permission to add songs","auth/network-request-failed":"Network Error: Please, check your network connection"},"songs/deleteSong/rejected":{"permission-denied":"You don't have permission to delete songs","auth/network-request-failed":"Network Error: Please, check your network connection"}},{t:tA}=Zt,wB=t=>e=>n=>{var r;if($R(n)){const a=(r=eA[n.type])==null?void 0:r[n.error.code],o=tA(a)||n.error.message;ov(t.dispatch)(Px(o))}else if(GR(n)){const a=eA[n.type],o=tA(a);o&&ov(t.dispatch)(Mx(o))}return e(n)},AB=m3({reducer:{songs:Yn.reducer,users:Mr.reducer,growls:Mc.reducer},middleware:t=>t().concat(wB)});dO.createRoot(document.getElementById("root")).render(I.jsx(O.StrictMode,{children:I.jsx(xO,{store:AB,children:I.jsx(TB,{})})}));export{CB as c,nA as g};
